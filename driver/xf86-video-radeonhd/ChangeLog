commit 4e8972638db59d007bc61eb1bef8adb99cc67000
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Dec 12 15:10:29 2008 +0100

    Bump to 1.2.4

commit 2db9ee5ea0c66d99180432791d8098fedc73fa4a
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Dec 12 15:09:18 2008 +0100

    Add release information for 1.2.4

commit 9cdbad323cb313c6c3c5aa97df5ee2b46e16dc97
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Dec 12 15:04:45 2008 +0100

    Nuke description of option "ShadowFB" (not existing any longer).
    
    Use   Option "AccelMethod" "ShadowFB"   instead.

commit 0679ce59ebf9e2ebb16d1d6c2286b275993519e4
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Dec 12 15:00:34 2008 +0100

    Small manpage updates.

commit 7aae5f7f83691db97429fa4201fcafee2b36da5a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Dec 12 12:32:51 2008 +0100

    FB mapping: Restore original PCI MapSize if IGP memory mapping failed.

commit 6c91fed64b6abe1d381432be5c806e450b9ad597
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Dec 11 13:05:57 2008 +0100

    Workaround for drm header mismatches (DEPRECATED and __user on Fedora 10)

commit 48def66ce9592926ed9b23530fb21a55ac253392
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sat Dec 6 01:28:41 2008 +0100

    Document that Option "DRI" also affects Xv
    
    Option "DRI" not only enables 3D acceleration, but also
    (2D) Xv video acceleration. The video part was not
    mentioned before.
    
    Thanks to John Chivall for catching this:
    https://bugzilla.redhat.com/show_bug.cgi?id=473819

commit de7a4147acc3e82234dd225423b48a899a386a2c
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Dec 5 21:20:28 2008 +0100

    R5xx XAA: pass correct size to xf86InitFBManager.
    
    Test code left over from dri bring-up. Back buffer is correctly allocated
    from available memory there, so no danger from that. Solves a horrible
    segfault on limited memory devices.

commit 46df41699743d393a53faa44a21c131fefc2acba
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Dec 4 18:31:34 2008 +0100

    RandR 1.3 Panning support

commit 907365c7af91daf8a34c187265eca5e1260a4386
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 28 18:06:46 2008 +0100

    RandR 1.3 Panning support

commit ae56abc1f6fb8a4f7eaef50d045f0932d47c446d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Dec 3 13:50:29 2008 +0100

    RandR: Improve heuristics to determine of an output is connected.
    
    On a multi output connector DDC and HPD are per connector - not per
    output.
    Thus they don't allow to destinguish which of the outputs is connected.
    If the output provides a sense function it can be used to determine the
    connection state. If it doesn't - but the other output(s) on the same
    connector do, they can be probed applying the inverse logic: if another
    output is connected, this one most likely isn't.
    
    Code for this existed already for outputs which provide HPD. We now
    also use it for outputs which don't.

commit ed532a702ff6beaea3c5ba09ae4ae7f125a2a564
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Dec 2 11:07:47 2008 +0100

    ID: Add connector table for HD 2400 "0x94c3:0x000:0x0000".

commit 69eadbf2b60ad4bfe9fbb9effe2b2d0d7bc91002
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Nov 26 19:42:54 2008 +0100

    ID: Supply fixed connector table for  Radeon X1300 0x7187:0x1545:0x1930.

commit 8edc0c698bc225a0581d4e17820f28efb4db97df
Author: Christian Koenig <deathsimple@vodafone.de>
Date:   Wed Nov 26 00:00:42 2008 +0100

    BugFix for RandR cursor interface
    
    This commit fixes a small bug introduced with the new RandR cursor
    interface. Since RHDxf86InitCursor isn't called with RandR cursors
    the rhdPtr->CursorInfo variable is not set, the result is that
    rhdRestoreCursor isn't called at VT switch/shutdown.

commit 48f9d1affc440916ead14a5d80553143b36809fc
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Nov 25 20:43:33 2008 +0100

    DIG: Remove stray ErrorFs

commit 078842c7ab9e33cfcfef34b539b7f8a0f256e965
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Nov 19 17:48:39 2008 +0100

    ID: 0x7187:0x1458:0x215C has a  DMS59 connector.

commit dc81290f0d8247670838ed5ac17c8da7bc82794e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Nov 19 16:43:36 2008 +0100

    Rotation: document limitations in man page.

commit d4c49758cd16f0a22e1d15a280e453dff767e5b3
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Nov 19 16:43:19 2008 +0100

    Rotation: NULL callbacks to rotation functions if no HW acceleration is enabled.
    
    This avoids rotation to show up in RandR when it's not supported.
    Currently we don't support rotation when no accelration is available
    as we'd have to needlessly copy between two buffers in local memory
    in software.

commit 66f4a3a670e3bd564e682c397442f6535fd104bd
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Nov 19 14:53:28 2008 +0100

    Rotation: Don't allow to set a PANNING_AREA when rotated.
    
    Supporting panning while rotated would require some changes in the
    RandR code: presently the size of the scanout buffer is clamped to
    H/VDisplay, this determines the area that's copied.

commit 5b9ef245f9eda1a29318752f1f41bac8f9c78027
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Nov 19 14:50:49 2008 +0100

    Rotation: Fix up Crtc base pointer.

commit 23bc497c90d96ecf04af68bc340be1c56bc71564
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Nov 3 14:32:50 2008 +0100

    Rotation: Remove USE_XAA which had been left over from rebasing.

commit 24ba47d9d3cc7a53e322256b8893ed63fe05c893
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Sep 20 16:42:02 2008 +0200

    RandR: Some minor cleanup.

commit e304e561a22615a112fcd8c797312469c9ec12de
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 17 12:56:01 2008 +0200

    HW Cursor: Add RandR cursor interface.
    
    This interface support screen rotation.

commit c1827740190be07b5d8650317864eaad513b25cd
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 17 12:13:22 2008 +0200

    RandR: Add screen rotation.

commit 41d4bf718b48a4774f56c41e198a455b48d607f8
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Nov 18 15:55:42 2008 +0100

    RandR: Initialise the LUT on a new CRTC.

commit c2dfeafe7bcf330a2688f6715840188cf37a312b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Nov 16 19:06:09 2008 +0100

    DRI: Bail DRILeave/EnterVT() when drmFD == -1.
    
    drmFD is -1 when DRM initianlization has failed for a specific
    server generation. Use this to decide if DRILeave/EnterVT() need
    to be run.

commit def3c1f5264bcdda682831891db3e1f1a2733953
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Nov 16 18:48:36 2008 +0100

    DIG: Add debug code.
    
    This code for debugging
     https://bugs.freedesktop.org/show_bug.cgi?id=18016
    it will be removed afterwards.

commit ad876362d24a0633b5f7d7f07d33d76610e74d5a
Author: Jung-uk Kim <jkim@FreeBSD.org>
Date:   Sun Nov 16 13:48:21 2008 +0100

    rhd_conntest: Make rhd_conntest work on FreeBSD.
    
    pciutils on FreeBSD don't fill in the PCI BAR sizes. This patch
    works around this.

commit 10dc7797c7b6199117884c907fd1ed33a8ca345b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Nov 16 13:35:02 2008 +0100

    ID: Add HPD_OFF flag for Foxconn A7GM-S (RS780) motherboard.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=18393

commit 4d65e4c6d96c725dafb5fa8a6fc5a252fee4c260
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Nov 16 13:34:09 2008 +0100

    DRI/CS: Set drmFD to -1 after closing the device.
    
    The CS merge destroyed the heuristic by which we detect if DRI is active
    or not by introducing its own heuristic. CS itself requests the fd of the
    drm device and checks if it is < 0. Unfortunately drmFD is neither
    initialized to -1 nor reset after closing the device.
    Adresses 2nd issue in:
    https://bugs.freedesktop.org/show_bug.cgi?id=18474

commit 65f0192242fb27cba4630184438a31028d9aa4fa
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Nov 15 20:17:07 2008 +0100

    AtomBIOS/BacklightControl: Add destroy function for data structure and fixes.

commit 53dd35cb766138c879c926a8374380174e876d35
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Nov 11 21:10:34 2008 +0100

    DRI: Exit RHDDRIScreenInit() with FALSE when init failed.
    
    Don't use the state of RHDDRICloseScreen() which is used
    to tear down allocations.
    Fixes https://bugs.freedesktop.org/show_bug.cgi?id=18474

commit a2fa612cd7f86966af6494c78b751d6e9479b373
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Nov 11 21:06:27 2008 +0100

    RandR: Bracket block properly.

commit fe4356cec47c8e724f7537c292687231259183f2
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Nov 7 18:20:59 2008 +0100

    DRI: SwapContext: Stop wanton XAA syncs.
    
    With an XAA fix that is going to be put upstream soon, we now actually
    sync up XAA. Our DRIEnterServer always set the sync flag, and i don't
    immediately see a reason for this to be so.

commit bb14c00cd9b6e56d2794f3e0cedfb0257e17eae7
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Nov 6 11:05:14 2008 +0100

    Add RV730/710 PCI Ids.

commit ac56b4c85ae6dff69e452dfd6b36b17bfcae6981
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Nov 6 11:10:59 2008 +0100

    ASIC_Support: Add AtomBIOS support for RV730/710 chipsets.
    
    Implemented in close cooperation with Cooper Yuan from ATI.

commit 57f1106799c48023eebce23b1bdba272db56c2b3
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 28 14:43:51 2008 +0100

    I2C: Add additional I2C lines for for DCE3.2 support.

commit 30f4bf2b8a18e63c895767ccb406c148348081a6
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 28 14:39:53 2008 +0100

    MC: RV770 code also supports generations beyond this.

commit 680f05ac2b6804236467c5bad8378043d631e5f6
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Nov 5 09:15:05 2008 +0100

    AtomBIOS/Backlight Control: Fix AtomBIOS based BL control for hardcoded outputs.
    
    If the hardware doesn't support the chipset native method of backlight
    control we try to resort to the BL control provided by AtomBIOS as this
    might(!) provide the hardware specific controls.
    This code is currently commented out as due to the lack of testing
    opportunities.

commit d125c0fab4e91df80f15ae39445e85a360908ae3
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Nov 3 22:30:14 2008 +0100

    DIG: Add debug output for EncoderPower().

commit 264a8b5fb113bf553d0199495e83a5b6e8df72d4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Nov 3 21:30:45 2008 +0100

    DIG: Fix SEGFAULT with new coherent option.

commit db72b6a5d630d90d03ef085af69a9376de8e658a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Nov 3 18:38:30 2008 +0100

    Coherent: Update man page to match Christian Koenig's fixes to the option parser.

commit 36657dc3d993147a9bd6a0213cd968e9b665e216
Author: Christian Koenig <deathsimple@vodafone.de>
Date:   Sun Nov 2 17:33:38 2008 +0100

    Use RhdParseBooleanOption for ignoreconnector config option

commit 2e3590dabdaa14207880ddff578a56b257c7312f
Author: Christian Koenig <deathsimple@vodafone.de>
Date:   Sun Nov 2 17:31:30 2008 +0100

    Use RhdParseBooleanOption for HDMI config option

commit 908fabd6af1dc765b9493778d8aac2d8437d4892
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Nov 3 18:35:45 2008 +0100

    DIG: Add RHD_OPTION_NOT_SET to dig outputs.

commit 08fedbb600569e9a9d79db6d3982c08ef84365a9
Author: Christian Koenig <deathsimple@vodafone.de>
Date:   Sun Nov 2 17:30:19 2008 +0100

    Fix and improve RhdParseBooleanOption.
    
    This commit fixes a small bug in the new RhdParseBooleanOption function,
    which was causing a xserver crash with the coherent option set.
    It also improves the matching capability of this function by adding an
    match all case and a new return value indicating that a given name
    wasn't found in the option.

commit 3036b40fd7b6fdaadc14550a15b88cf94fc1892f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Nov 3 10:11:07 2008 +0100

    Output/Coherent: Fix bug in parser, add man page.

commit 75b4f1d2702fe024360ed1f6b585e19c73b90ca9
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Oct 30 19:57:07 2008 +0100

    Don't allocate framebuffer for cursor images if software cursor is used.

commit f29a3d2f6bb4c7140cfe4021ad3b0b1111dcf0f4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Nov 1 16:48:02 2008 +0100

    DIG: Don't disable encoders which are assigned to active connectors.
    
    When probing the pre-startup configuration to determine which unused
    encoders can be turned off we may find encoders mapped to an inactive
    transmitter which is mapped to a different active transmitter now.
    In this case don't touch this encoder.

commit 72aaf9bde5e0ce9090b32e39b968a3f713931b30
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Oct 31 22:05:26 2008 +0100

    DRI: Keep rhdDri struct for server lifetime.
    
    This structure is allocated in PreInit() thus freeing it on
    CloseScreen() would provide the next server generation with
    no DRI support.
    [Readding commit 3629374339e7 that got accidentally removed
    with CS merge]

commit c3e4ef7f536b9dcb01fc065d7eb02979d50b6739
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Nov 1 17:34:11 2008 +0100

    MC: Consolidate rhdAllIdle() and RHDModePrepare().

commit ec67c56cdb8b984318789fa2a636107a97b40969
Author: Matthias Hopf <mhopf@suse.de>
Date:   Sat Nov 1 17:10:39 2008 +0100

    Move MC setup before DRI init. Fixes issues DRI issues on some systems.

commit 8676c233fcabc623da4873b03b4771abdd0f6850
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Oct 31 19:58:11 2008 +0100

    DIG: Add debug output to inform about probed encoder mappings.

commit 6e40d3b98c60a3b8ee216fbec20ecd4cf788eb9d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Oct 31 17:34:46 2008 +0100

    Add config option for coherent settings on digital outputs.

commit 6b76953c3fb3355386502b1efcb0901485d0078e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Oct 31 17:33:50 2008 +0100

    Option: Add handling for option containing a string of boolean settings.

commit 9ca2384d14612eab710450e5a527dcc345e4179c
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Oct 31 17:31:41 2008 +0100

    BIOSScratch: Treat DAC SENSED_NONE as CRTC output.
    
    The BIOS scratch bit that gets set when no DAC load has been detected
    is will default to CRTC to avoid having the condition that no output
    type is set.

commit 1292ab018d3b56832f92ed7ea1b4787a3079ef8b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Oct 31 13:03:35 2008 +0100

    Option: Add handling for option containing a string of boolean settings.

commit a36896dd0b44a26816ac0a401c0d9918a100d624
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 28 16:18:06 2008 +0100

    AtomBIOS/Output: consolidated handling on UNIPHYA and UNIPHYB.

commit e3c569620db7ad508a970e85afd183a6bb1d0771
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Oct 26 11:02:31 2008 +0100

    EXA: Move inlcusion of exa.h before xf86_ansic.h.

commit c38be2432610f7739e11928ee3d8ebc05502927a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 28 14:27:38 2008 +0100

    DCE3.0: Properly map DCE3.0 DIG encoders.
    
    The hard coded mapping between encoders and transmitters caused problems
    especially on some mobile devices which were using both LVTMA and UNIPHY.
    Furthermore DCE3.0 (and even more DCE3.2) provides a larger number of
    transmitters than there are encoders available. If a card makes more
    transmitters available than the ASIC provides encoders not all transmitters
    can be used simulatniously.
    This fix extends the output subsystem API by an opional output allocation
    sceme. If a certain output subsystem needs to allocate limited internal
    resources before being able to use an output it can do so when this newly
    implemented allocation function is called.

commit 9e81b2ccf3451dc20b13db251b4cffbd3d765c07
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 28 14:06:54 2008 +0100

    ID: Add PCI ID 0x95C6.

commit e589cc35b3dd4696a8578d640305eecfe31c1a4b
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Tue Oct 28 13:52:45 2008 +0100

    Update README and man page only if sed is OK
    
    This checks whether the $SED used can actually substitute
    tabs and newlines for strings.
    
    Only if this check returns a positive result, do we attempt
    to update README and man/radeonhd.man from src/rhd_id.c.
    
    Tested on Fedora 9 with GNU sed and FreeBSD 7.0 with FreeBSD sed.
    
    This commit reverts d88f685c.

commit 7880b5a9bb6ecf3693bbffb2aea3a2ad300b26bb
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Oct 28 13:43:24 2008 +0100

    Manpage: Add Christian Koenig to the list of authors.

commit d88f685c6a3b738c18752c504578a46604f62840
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Tue Oct 28 12:21:43 2008 +0100

    Fix README update on FreeBSD (sed substitution)
    
    FreeBSD sed does not understand \t or \n in the substitute
    string.
    
    This commit fixes the updating of README as it only uses \t
    which can easily be replaced by a tab character.
    
    The man/radeonhd.man update uses \n which is more difficult
    to handle and thus will be handled in a later commit.

commit 01152def88154d60e2ee08bdf84a37332d1554e2
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Oct 28 00:23:10 2008 +0100

    Imake: Fix build for xvideo and hdmi audio.
    
    Also make the failure message of Xv more useful. We fail both on chipset
    version and lack of CP, but we used to only claim that the chipset was
    to blame :)

commit 1e26e7a79be74c9c35876d9fda756123ddf73821
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Oct 27 17:52:16 2008 +0100

    Autoconf: Fix RandR12 changes.
    
    Now that RANDR_12_SUPPORT is in config.h, there is some code in
    rhd_dri.c that builds now, and then some unnamed struct that got
    typedeffed breaks the xf86Crtc.h include for us.

commit 0ea65a3a2689b392d62f2cc105bf74f9333c7173
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Mon Oct 27 17:31:37 2008 +0100

    Reorder source file list alphabetically
    
    The old completely unordered file just is too chaotic to work with.

commit 3ac30d19e0b6da36ea17519b181ddf8cf2c96561
Author: Christian Koenig <deathsimple@vodafone.de>
Date:   Mon Oct 27 16:08:59 2008 +0100

    HDMI: Add HDMI support.
    
    Currently tested and working with RV620, RV630, RV635, RV670, RV770
    and RS780.

commit 69d4dabe27aba0ed6aff52d210b045876ed36fce
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Oct 27 15:47:28 2008 +0100

    Autoconf: Fix build on Ubuntu Feisty Fawn.
    
    * Check for glproto.pc still doesn't mean that GL/ headers are there
      on ubuntuland.
    * Ubuntu also ships the RandR1.2 protocol headers without shipping the
      driverside headers in the sdk.

commit 15f0b2a8d6b02806df4b5fa90072d887eab4c6ce
Author: Julien Cristau <jcristau@debian.org>
Date:   Sun Oct 19 20:57:13 2008 +0200

    [PATCH] Link with -lpciaccess and -ldrm as needed
    
    The driver needs to be linked with libpciaccess if XSERVER_LIBPCIACCESS
    is defined.  Likewise, if DRI is enabled, we need -ldrm.

commit b77f9a7796bae6cecba851d3f97401a82181bc2b
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Oct 22 15:38:11 2008 +0200

    autoconf: Add glproto as a dependency for DRI.
    
    Thanks go to Julien Cristau :)

commit dff3e28386c9f64e5969c53b882f4e9cade4a09d
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Oct 22 15:27:24 2008 +0200

    gitignore: Add some distcheck files.

commit efaebb70294055f371cd328124b23a343cea6a68
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 15 14:44:35 2008 +0200

    Cleanup SEGV_ON_ASSERT in HAVE_XF86_ANSIC_H case.

commit 29cd73824e96225e0222a16130906a71018f2289
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Oct 15 02:40:38 2008 +0200

    R5xx3D: Disable XHas3DEngineState upon VT switch.
    
    This reinitialises the 3d engine when needed after a VT switch.

commit 0a9a206aba0263081661074ae72aa2bfd04aaa5a
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Oct 15 00:26:18 2008 +0200

    CS: Remove Mask member.
    
    By treating all buffers as finite and not as wrappable ring-buffers,
    we save quite a bit of CPU usage in the DRM CP case.

commit 3f558efc2af17f979b6f354dbf745eba1a40ec56
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 14 12:40:24 2008 +0200

    AtomBIOS: Make deviceID override table actually work.
    
    This fixes problems on MAC Books which are the only user of
    such a table. Spotted by Rudi Oertel.

commit e7abdfc07e16c961767dbff72ddbb12cb5af9677
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Oct 13 22:28:34 2008 +0200

    Xv: Fix build for big endian.
    
    Trivial replacement of pScrn -> rhdPtr in R5xxXvCopyPlanar when setting
    SURFACE control for big endian.

commit 416eb95203fa223b5c9017986df302f1221b6a05
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Oct 13 20:58:16 2008 +0200

    Add HDPSWAP for Gigabyte GV-RX16P256DE-RH.

commit 28233dcd2729c9339fd97e63df595aebb3bb0f5d
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Oct 13 20:33:43 2008 +0200

    Add Alex to authors list in radeon manpage.

commit 57aca005c1ede5495f326a98c411d049115cb845
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Oct 13 20:03:37 2008 +0200

    Bump to 1.2.3.

commit 7aa72401975395aa24a4d2d05d6a29063c99de6a
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Sep 23 22:39:43 2008 +0200

    CS: Xv: clean up memory handling.
    
    This fixes a bug with FB Offset alignment, and, while at it, makes the
    whole thing saner.

commit 13a6774a9394adcc69e6ec298c1254c0e077aab1
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Sep 23 18:45:53 2008 +0200

    CS: Port over textured video support.

commit 28f2ff1b2fb0106efae45bcc75703a21b4868f1e
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Sep 23 18:34:29 2008 +0200

    CS: Port over EXA code.

commit 5b3eacc49436b8b461e766aef4ec02970f2c5a31
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Sep 23 18:07:07 2008 +0200

    CS: Port over and enable XAA.

commit ec6d1e78edda2a576bd1bda3ca62fd3854bd5a5a
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Sep 23 17:33:04 2008 +0200

    CS: introduce Command Submission infrastructure.
    
    * Adds CS infrastructure for DRM CP and MMIO, plus the necessary
      engine management.
    * Disables XAA, EXA and XV.

commit 3a56eb0cacee4676a7618552bcf649161a4052e2
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Oct 13 19:47:42 2008 +0200

    Bump to 1.2.2.

commit 50a02b9a85e2b498f04bebfca7b1187a0507c81f
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Oct 13 19:41:11 2008 +0200

    Update README and man page.

commit ffcb67f38c5e7e411d8554f7cfe35d6b148baca5
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Oct 13 19:34:41 2008 +0200

    Remove deprecated RRUseXF86Edid option.

commit 44d2dc94f922c1e05af145f1dd82f2fbbc136647
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 13 18:41:16 2008 +0200

    AtomBIOS: Disable AtomBIOS based backlight support for the hard coded path.
    
    There are still some bits missing for later DCE versions.

commit 6612a8368dfcea50086d8867512e57ec32801b3a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 13 18:36:36 2008 +0200

    I2C: Fix I2C line ID.

commit de58929f492a8290bc5d2354190362bb27895ee9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 7 12:05:00 2008 +0200

    Add the HPDOFF flag to 0x71ce, 0x18BC, 0x2770.

commit 67420d0116db1c35efb060ea030a10c99c26f365
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Oct 9 19:57:50 2008 +0200

    AtomBIOS: Some fixes to the option parser.

commit c4876e9b1fc5994f149d28b0571ec24c743c5be7
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Sep 23 12:38:09 2008 +0200

    Output: hook up AtomBIOS Backlight control if native method is not supported.

commit 4bba11631f28de14a144db2fd112fc9e696a45f3
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Oct 9 18:45:16 2008 +0200

    Fix two warnings.

commit ec287ae3aa8694d527063f51b99b13afde9428d7
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Oct 9 18:34:37 2008 +0200

    Fix ASSERT() handling for good.

commit 1668f1f199478cfd1848c086b8ca1e6a52d8de6d
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Oct 9 17:57:58 2008 +0200

    abort() needs stdlib.h

commit 0fd255dbf3a861e4192ddbc4ce8453c9b3965877
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Oct 7 17:37:34 2008 -0700

    Don't call xf86abort() if HAVE_XF86_ANSIC_H is not true

commit 0779c47e1574affa1529d921afa1762cfdbc439b
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Oct 7 16:24:21 2008 +0200

    DDC: Make GPIO to DDC line mapping more verbose.
    
    Increases verbosity and reduces failure message severity when it
    is impossible to map atombios retrieved GPIO line info to known DDC lines.

commit 299a6c86ce463cb844f6f63111c942aa68e77c74
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Thu Sep 25 18:35:27 2008 -0400

    atombios.h and ObjectId.h updates from upstream

commit 4dcc6aa099bf0d0105c49a96dc6a7d1a0c968625
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Sep 25 00:12:10 2008 +0200

    git_version.sh: Debug failure to find .git/ dir
    
    There appear to be some systems and cases when we do not find
    the .git/ dir belonging to the source tree, and thus fail to
    determine the git version for git_version.h.
    
    This adds a few internal variables to git_version.h as
    C comments.

commit 72feab0aea1a7b2c6005dc7ebaa523933c040d4b
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Sep 22 20:45:11 2008 +0200

    Pre-CS: radeon_commonfuncs.c got renamed to radeon_3d.c.
    
    Spotted by Alec T. Habig

commit 52d7dced5d790c9a7d4af764a560eda84277899b
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Sep 22 19:07:18 2008 +0200

    Pre-CS: Make shared code build in master.
    
    Copy in radeon_3d.c, radeon_exa_render.c, radeon_textured_videofuncs.c
    from the CS branch and adapt them to build in the quick and dirty 2d
    environment.

commit f4cbf1d5216c37d357426902171807de431f6281
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Sep 20 15:12:43 2008 +0200

    AtomBIOS/Output: minor code cleanup.

commit 4d14b581abdc2acfd60f4eeabf103451199df9eb
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Sep 20 10:57:43 2008 +0200

    AtomBIOS: Adding support for an override AtomBIOS deviceID table.
    
    This is needed for the MacBook Pro.

commit f7dcc26ff2dd1b8f1b7d315909804416a94024e5
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Sep 20 10:55:50 2008 +0200

    BIOSScratch: Handle missing AtomBIOS device ID more graceful when using quirks table.

commit 79efadf62467614fca816dcf72207022e2e1c22b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Sep 19 21:08:51 2008 +0200

    Connector: beautify print message.

commit abb5fe6c0edb131e397547f47e44fe71252cb3e8
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Sep 19 21:07:40 2008 +0200

    RandR: Print out driver supplied modes in debug mode.

commit 030da51fe3be097b2be9f7d1276b13e00a74985e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Sep 19 21:05:53 2008 +0200

    DAC: Reset FMT register on DCE3 when output is DAC.

commit a0de2f58e42d1dbeb5464af67815997e72fd626d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Sep 16 09:15:40 2008 +0200

    AtomBIOS: Fix test for AtomBIOS usage.

commit 3c252c2a8ebd80ff04a252805d83ecacaba281bc
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Fri Sep 19 00:39:02 2008 +0200

    Comment/typo fixes in README update rules

commit dea5cfcdd7ea10387e82a5bc1059dfe2da59eb89
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Fri Sep 19 00:08:29 2008 +0200

    README: Move build/install docs to INSTALL file

commit a853fe269f0db2d3d99e9da552b2f553a7138b98
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Sep 18 23:56:19 2008 +0200

    README: Add automatically updated chipset list
    
    Use the same mechanism which updates src/radeonhd.man to update
    README.
    
    Then we can have the wiki page just link to a cgit/gitweb page
    showing the HEAD README file.

commit e5a8d7fc4c65bb5f2db88a54c05e1ac4782cbb16
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Fri Sep 19 00:03:01 2008 +0200

    README: Fix list of sections

commit 07408e8518e4e19663c109ea8ad765686ea4e01e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Sep 15 13:09:29 2008 +0200

    AtomBIOS: Fail driver instance if AtomBIOS mode setting is requested but no BIOS image found.

commit f1c6cc865d8d0703478c3eedea2e706e911f9965
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 4 12:07:33 2008 +0200

    Modes: Be less strict when validating native mode.
    
    Allow a 99% horizontal duty cycle. Fix for ticket #17386.

commit e9478940cd31eddef91b3873e6d30e75224d6fec
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 3 11:46:50 2008 +0200

    AtomBIOS: Fix uninitialized value.

commit 01d4097417ae1784b8acfd8c172d450ffe625b24
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 3 11:46:03 2008 +0200

    AtomBIOS/MC: Add MC tuning for AtomBIOS conctrolled CRTCs.
    
    This was missed during the AtomBIOS support merge.

commit fd71f091f9e7d619e1b94bf570b8212069844152
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 3 11:44:21 2008 +0200

    DAC: Improve DAC bandgap handling for RV7xx and later.

commit 0f8fd80713a37e78405f58a88047bdbdc6f56e2e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Sep 1 14:07:21 2008 +0200

    Dumper: Add new PCI Ids to dumper.

commit 4ecdc6f00fa87f1fb6c34b49ad1d4a0e59c179f8
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Sep 1 14:06:59 2008 +0200

    DAC: Don't use unset electrical value for DAC on RS780/RV7xx.

commit aa4fe63d32e53091f56f7180ece6272037edc1bb
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Aug 29 19:53:16 2008 +0200

    AtomBIOS/Options: Fix AtomBIOS option handling.
    
    Only get option value when option has actually been set.

commit afa3d84886df8548527f30016655142b6c6834fb
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Fri Aug 29 14:15:03 2008 +0200

    Comment on which options to document in man page
    
    Document those options in a single place (i.e. the definition
    of enum RHDOpts), and add references to that place where one
    might look for options to document.

commit 4a2b1b776574e2366d5cc7075b718876e23816df
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Aug 27 19:22:45 2008 +0200

    AtomBIOS/Output: Fix DVO Output setting.
    
    The device types for DVO devices were mexied up so
    DvoEncoderControl was never called.

commit 7b4a27281f0b458fd0c64435bc540ae9a2ed7756
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Aug 27 18:40:40 2008 +0200

    BiosScratch/PLL: Add missing DFP3 device detection.
    
    This fixes PLL restore issues on this output.

commit de733a364cd912ca6f4209cadb5ec3e507059cfb
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Aug 27 18:36:52 2008 +0200

    AtomBIOS/Output: Fix output programming on DVO.

commit 2ee61be4c42f09da8225ae5ba6eee5114e309a37
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Aug 27 15:02:04 2008 +0200

    I2C: Move I2C line->GPIO pin mapping to the I2C init function.
    
    This way we can avoid creating an I2C device for a line which doesn't exist.
    Should we ever need GPIO bit banging we need this information at this level
    anyhow.

commit 6fae60c005fba479af66d0dc13704c88d2008fb4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Aug 27 08:23:34 2008 +0200

    VGA: Calculate offset from base address correctly.
    
    The MC_FB_LOCATION (on R6xx and higher the MC_VM_FB_LOCATION)
    mark the base of the range that's send to the local framebuffer controller.
    This (instead of the HDP_FB_LOCATION) should be used for offset calculation.
    A call is added to the MC subsystem to query this value in an ASIC specific
    way.

commit c786dcbede4739f185b0c9ee0a34e72c9e944bc9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Aug 27 08:04:01 2008 +0200

    AtomBIOS: Add option to enable/disable AtomBIOS use per subsystem.
    
    These options help to isolate problems in mode setting. They are
    ment for debugging and use by developers only.
    These options should not be documented in the man page.

commit 5fa3dc06d0c03297bd0f53b9fc20f0e647f7d57b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Aug 7 22:19:49 2008 +0200

    DAC/Load detection: Don't probe for CV on DACA.
    
    DACA doesn't have a TV mux. CV uses the same lines as VGA
    therefore it cannot be distinguished. Once we have an option
    to set this up we can reenable it again. But for this we need
    to get TVout fixed first...

commit d0cf5df810aac166fd03b64abb8501a0694b3138
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Aug 21 11:26:24 2008 +0200

    QnD radeon_accel: fix up RHDRegMask usage.
    
    The mask argument doesn't need to be inverted.

commit 3fe4e30e64a2d010e90620be3f53494b4dac8592
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Aug 18 16:13:37 2008 +0200

    Fix build against 6.9.
    
    Just do not build DRI or EXA stuff on 6.9.

commit 69afc13633757551d38e46adfa63a5071e1e9be7
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Aug 18 15:47:40 2008 +0200

    Fix build against xserver head: xf86Version.h was removed.
    
    This file was pointless anyway, builds nicely against even 7.0 without.
    Plus, clear up most of the warnings in the code in the process...

commit da7b9e9762277a6982f4df1e8d1fc44c0e96fce0
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Aug 17 07:41:05 2008 +0200

    ID: Add missing PCI ID for HD 4870 X2 (RV770).

commit 76272c544df7971e3cf94357fa75452a3f294c83
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Aug 15 16:38:42 2008 +0200

    DDC: Assume all DDC lines on R5xx and later are HW capable.
    
    Some connector tables are broken such that they don't flag the type of
    I2C line correctly. Still they will match a GPIO I2C LUT entry. Since
    we now use the table index as DDC line ID we are able to deal with this
    situation when we assume that DDC lines are HW capable. So far we
    haven't come across any R5xx system which uses non-HW capable GPIO
    lines for DDC.

commit 14031d56f41b2c93f80ba5db58a1e2c235c5cd21
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Aug 15 14:36:24 2008 +0200

    Modes: Expose rhd specific mode validation failures to the rest of the driver.

commit 5660728fa27289ae8d51f72028918d7dac04bef3
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Aug 15 13:02:03 2008 +0200

    RandR: Don't allow adding modes to a disconnected output.
    
    As long as we don't know a device we cannot validate a mode,
    thus we just fail it.
    Fix for: http://bugs.freedesktop.org/show_bug.cgi?id=17136

commit 4ba960030d9b468b8c34570adeed5ef89498fa7f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Aug 15 13:00:18 2008 +0200

    RandR: Improve handling physical outputs which map to multiple RandR outputs.
    
    Outputs like DACs can drive multiple RandR outputs (one at a time).
    RandR doesn't seem to have a notion of this. Thus when probing for
    one RandR outputs we need to probe all other possible RandR outputs
    which map to this same physical output and make a decision which one
    we report to RandR as connected.
    For now and for the case of the DACs we just report TVout as disconnected
    this needs to be change once TV output is fixed.

commit 2e155daa3c047143a2c915f10e39a8ef59dff616
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Aug 14 15:03:58 2008 +0200

    DIG: Fix some register writes in the DIG LVTMA/LVDS path.

commit d3dc8a45589c15d3bec5f46fb94c8674b397d911
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Aug 14 15:02:43 2008 +0200

    EXA: Fix build for older systems.

commit 35bb0a0ec5cfa65787f3f7d4de94fa60aa2e37d9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Aug 14 15:01:40 2008 +0200

    DDC: Make RHD_DDC_* proper records into an array of I2C register tables.
    
    This way we can find out which GPIO pin is used for the SDA and SCL
    lines and set this up appropriately. R5 and R6 always use DDC line
    pairs. RS690 and and DCE3.0 chipsets can use lines from different
    pairs.
    This fixes the handling of GPIO lines properly for RS690. So far
    it has only worked on RS690 purely by accident.

commit a5c105ad0f52196773ca7cbf5f213359dee3733e
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Wed Aug 13 14:11:26 2008 -0400

    No need to reset the 3D scissors when using the CP in the xserver
    
    They should only affect the 3D pipe and init3d() takes care of this case.
    Noticed by libv on IRC.

commit 89c3bdcc27014197425089d99c7b08de0a349af5
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Aug 13 14:24:54 2008 +0200

    Build: Fix build when AtomBIOS support is disabled.

commit 997bc65754815f5501ea249a94c3f62402887697
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Aug 13 10:51:44 2008 +0200

    Force regeneration of autom4te.cache
    
    Fixes issue with XORG_MANPAGE_SECTION macro not being
    defined but autoreconf appearing to succeed.

commit 0ea4be7185d4ca44c25dc89793da55cf0f3444ac
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Aug 13 10:09:12 2008 +0200

    Ship rhd_atomout.h in dist tarball

commit 556c13b984983fa09f479db8d5a07aff18ee16b0
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Aug 12 18:18:08 2008 +0200

    AtomBIOS: Update man page.

commit 58572f8f3b8ea472df9a4a3fd17b49624a0c1276
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Aug 12 18:11:03 2008 +0200

    DDIA: Fix output type for DDIA subsystem.
    
    Some errors linger around for a long time without being noticed...

commit 6262cfcff23fe14480393edc4b247c1cca8259e2
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Aug 12 18:10:01 2008 +0200

    DAC: Remove some output for debugging.

commit 6455e581a882fb0a44ede5488699ce651d5118a6
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Aug 12 18:08:58 2008 +0200

    AtomBIOS: Take into account that a save list may not be initialized.
    
    If a code table doesn't write any registers the register save list for
    a subsystem may not be initialized. This is a valid condition: don't
    assert.

commit 0dc82a8be6ab09e50239fc25f7ec2efb31eda1ee
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Aug 12 18:06:07 2008 +0200

    BIOSScratch: Even more debugging output.

commit 3b18faf74b384825607592502feb7b58afe18cea
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Aug 12 16:46:41 2008 +0200

    AtomBIOS: Use the right index variable into the devices list.

commit c44a25b1d2bb45b1d47b90a60b3445f247f9372c
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Aug 12 16:46:13 2008 +0200

    BiosScratch: Add some debugging messages.

commit bb8bc2fa59294cb17012554dba254fdde71f136c
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Aug 12 15:20:18 2008 +0200

    Get rid of some compiler warnings.

commit 2f486769a9546a0be230e381b63707d198e07293
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Aug 12 12:49:45 2008 +0200

    AtomBIOS: Delete some unneeded code.

commit 435bc6c2bcc601aeb11e015331c0628f81bd02d0
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Aug 12 08:53:21 2008 +0200

    AtomBIOS: Check all lists if a register has already been saved.
    
    This is the proper fix to the problem 'hot-fixed' in
             f5b0d7c452fd49e8581485b5a8efc7a0ad37ba9f.
    It we record all save lists (ie. lists from all subsystems) that have been
    used and check them all if a register has already been saved.
    This saves us from saving a register twice (the second time with an already
    modified value) in which case restore becomes very order dependent.

commit 143885a38b7a69e25d260ae89827c338e102fbe0
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Aug 11 19:02:46 2008 +0200

    AtomBIOS: Temporary fix for CRTC Restore with AtomBIOS.
    
    EnableCRTCMemReq controls memory access per CRTC. It however
    accesses registers in the DC blocks which are shared between
    the CRTCs.
    Thus if we don't want to save these registers separately
    we need to restore CRTCs in the opposite order we have saved
    them in.
    The real fix would be to save/restore the affected registers
    separately.

commit 7a553907d6744aa3217d99f2f463ed571401ad74
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Aug 11 17:04:48 2008 +0200

    AtomBIOS: Dump Save/Restore values.

commit 3415e45be7da9f6a58e5bc985205727a9521bb29
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Aug 9 14:33:57 2008 +0200

    AtomBIOS: Dump parameter space in verbose mode.

commit 32bcfe111753685039a251827c200cf28aec6eb1
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Aug 1 12:55:18 2008 +0200

    AtomBIOS: Fix DisplayPath table parser.
    
    The table contains data fields of variable size. Take this into account when
    looking for the next table.

commit 8697ca0d42695ed2c8ac72ab6067e83bc9916455
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jul 29 00:14:56 2008 +0200

    AtomBIOS: Fix build when built with different build options.

commit 2387e9e9eaa1a53207a3decd4f587599a4678c00
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 28 19:16:21 2008 +0200

    AtomBIOS: Fix up Imakefile for the AtomBIOS modesetting support.

commit d24747059d9006bc1bc502a046e09aef4673c588
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jul 25 12:56:05 2008 +0200

    AtomBIOS: Add call to transmitter SETUP.
    
    This call was left out by accident :(

commit eee9dff7012b6418c22e44f49ca8decc86053e5c
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jul 25 19:46:49 2008 +0200

    PLL: Fix segfault which can happen under certain (rare) conditions.

commit e68da21fc8b6f8a1d84e0281dc39f132fc683d5e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jul 25 18:44:22 2008 +0200

    AtomBIOS/Output: Initialize some variables properly.
    
    Variables dealing with dual link DVI and PCIEPHY have not been
    set properly which caused the outputs to sometimes not light up
    properly.

commit 1e6c97a3a2fbc7034b85a32333a63c64e7c7da33
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jul 25 13:08:10 2008 +0200

    AtomBIOS: Dont bail out of TransmitterControl for PCIEPHY.
    
    Oops.

commit 42027aedb8336296b5aed4ed2d9f7cb59185380a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jul 25 13:01:35 2008 +0200

    AtomBIOS/Crtc: Don't NULL FMT callbacks.
    
    The FMT callbacks are called from the output layer only when needed.
    There is no need to NULL them.

commit 69eeb1ecd75eacf7b108e0bf07ff435c1cce56cb
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 24 17:50:20 2008 +0200

    AtomBIOS/Output: Release the pointer to the save collection bucket.

commit 5e0caf4e7f29ed4035d89b25d5ee5287911a8d27
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 24 14:18:36 2008 +0200

    AtomBIOS: Add missing PCIPHY to connector translation.

commit 6a233dc6b29483c5f4ff216f45ee1e76cbfc94ab
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 24 09:31:09 2008 +0200

    AtomBIOS: Implement AtomBIOS usage policy.

commit fc33928444ad1b3b1ffbaf46f683d832b702aa79
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jul 23 23:03:16 2008 +0200

    AtomBIOS: Log register writes on verbose level 8.

commit b59a6baf653642e41475bc7a9b6da261e017cf2c
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jul 23 19:46:49 2008 +0200

    CRTC/AtomBIOS: remove duplicate code.
    
    Since the AtomBIOS based scaler is now in rhd_atomout.c we can remove it here.

commit 48916cef0859cca03de2718a9a3c3723c395caf5
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jul 23 12:44:29 2008 +0200

    BIOSScratch: Hook up call to set accelerator mode.

commit 6535f6ef56998ba506d5ec6e299e171d3fac655c
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jul 23 12:29:44 2008 +0200

    BIOSScratch/PM: Set PM bits in the BIOS scratch registers.

commit 132fa7327b78ab221f3ceedf82493cf2e447565d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jul 23 11:14:11 2008 +0200

    BIOSScratch: Add support to switch the GPU and individual devices to accelerator mode.

commit 9160625d64f76c2ed49127bcf8792d05c54f25b0
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jul 23 11:11:03 2008 +0200

    BIOSScratch: Move BIOSScratch save/restore from the output layer to the main driver.
    
    BIOSScratch registers track the state of the output devices, yet one register
    handles more than one output. Therefore this doesn't really belong into the
    outputs.

commit 4876df8a92502c7b1a3bfcc841d2c116de9e590d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jul 18 12:12:33 2008 +0200

    MC: Make sure MC engine is all idle before setting up the MC.
    
    In the RandR case we accidentally missed to shut down the CRTCs
    before calling SetupMC().
    Use ASSERTS to make sure the code doesn't get broken accidentally.

commit 065b4a0c68b720619dc1e4f8d0530fa7847c70cb
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jul 18 11:23:50 2008 +0200

    AtomBIOS/Output: Fix backlight control handling for panels.
    
    AtomBIOS controlled panel backlight brightness control should work with this
    patch, now - where supported by AtomBIOS. There seem to be a lot of laptops
    where this is not the case. I'm not sure how to detect this without looking
    at the AtomBIOS code. Could BIOS scratch register 2 bit 8-16 == 0 be an
    indication?

commit d5f039cc8054707d22f771d75e201da5b6045bbe
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 17 18:18:34 2008 +0200

    I2C: Get rid of some build warnings when buidling on 32bit.

commit 76ec2dec77483edadd79c99f6cb1df2449c9899c
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 17 19:01:01 2008 +0200

    AtomBIOS/Output/BIOSScratch: Move DACSense() to the biosscratch subsystem.
    
    DAC sensing involves extensive use of BIOS scratch registers. Implementing
    the sensing function there allows a much cleaner separation of subsystems.

commit f9493ca2230d6143798e8ca2192047e8056f5079
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 17 18:59:33 2008 +0200

    AtomBIOS/Output: Create wrapper for Output Power/Mode instead of calling rhdBIOSScratchUpdateBIOSScratchForOutput directly.

commit ad4f6286f2fd908ca64008f501ac7d2a2d23e487
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 17 18:53:19 2008 +0200

    Output/BIOSScratch: Move rhdAtomSetDeviceForOutput() to rhd_biosscratch.c.
    
    The only consumer of this function lives in rhd_biosscratch.c.

commit 1daf5fe70bd578979e2524eb1882a956e2620a8c
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 17 16:29:52 2008 +0200

    Connector: Move DriverOutputPrivate initialization from rhd_connector.c to the main driver file.
    
    Since our recent changes this inititalization is not related to connectors any more.

commit 8eee88c284b097be47f6db60e43ce5f68c533c8e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 17 08:42:08 2008 +0200

    AtomBIOS: Cleanup: removed unneeded code.

commit be195d1d019c691c3858521928e0b68b5fb10d11
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 17 08:41:32 2008 +0200

    Crtc: Call CRTC Save/Restore wrapper directly.
    
    These functions used to save/restore CRTC registers directly.
    Since the save/restore functions of the different CRTC subsystems
    have been separated out it only serves as a wrapper.
    Therefore it doesn't need to live in the Crtc structure any
    more but can be moved up to a generic level that is called
    directly.

commit 17973d2f207580227374ca43cfe2ded07bc1d2e3
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 17 19:38:55 2008 +0200

    AtomBIOS: Reworked BIOS scratch register setting.

commit 4c283b49f686ec687e9cad40a9cc86a0b098e855
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Tue Aug 12 11:03:44 2008 +0200

    Fix hangs when setting up the MC
    
    When changing the MC, you need to make sure:
    - engines are idle
    - MC clients (such as crtcs) are disabled

commit d44e78b9cba4dbc4f5ae42fbcd3254d8dcc38b93
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Mon Jul 14 13:17:53 2008 -0400

    Add proper MCIdle() bits for r6xx/r7xx

commit f37a224a11547e85e8575b15d3b06c79de552072
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Mon Jul 14 12:18:52 2008 -0400

    Add support for UpdateCRTC_DoubleBufferRegisters
    
    This function locks/unlocks the crtc/mode/grph regs
    They should be locked when updating the crtc.

commit 4a2a1a9c00145c90feb3b4a6a6f8e4ed8bf123ce
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Jul 12 17:11:42 2008 +0200

    MC: Add dummy idle function for R7xx.

commit ee1a0c2712f85fa576e7599205e140b7e89bd711
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Jul 12 10:54:54 2008 +0200

    conntest: Add support for RV770 to rhd_conntest.
    
    The DDC line - PAD mappings have been reworked to be more generic.

commit 64530f49bf31a1245ff3316576a9d770a0809dd2
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Jul 12 10:53:06 2008 +0200

    I2C: Add DDC read out support for DDC3/4.

commit 8e2a82686da3106af6c7b3431dd9d369dfa55b8c
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Jul 12 16:42:16 2008 +0200

    AtomBIOS/CRTC: get rid of type casts.

commit d374324431a9291660f277191c02f6e7cd2bd125
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 10 10:53:43 2008 +0200

    AtomBIOS/Output: Add support for ENCODER_CONFIG_LINK_AB/BA to rhd_atomout.c.

commit 2cd41a9875da035377db225e0d71f531f7401074
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 10 10:52:24 2008 +0200

    DIG: Add support for ATOM_TRANSMITTER_CONFIG_LINKA_B/B_A.
    
    These flags are not used yet by AtomBIOS (ie. they map to
    ATOM_TRANSMITTER_CONFIG_LINKA/ATOM_TRANSMITTER_CONFIG_LINKB).

commit 53426343d801445211d5111e96885a910810c031
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Jul 12 16:40:39 2008 +0200

    I2C: Read SDA/SCL mapping for RV620 and up from AtomBIOS GPIO Info block.

commit ece28d5f5993d8678234d3fb877ae346c56ff9fd
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Jul 12 16:38:12 2008 +0200

    I2C: Check for more error conditions when testing the I2C status.

commit 2962afe907979df4c6872feb8a7ec795292b77a2
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jul 9 10:13:22 2008 +0200

    CRTC: Cleanup in Crtc code.
    
    This fix makes the Crtc code more consistent: each Crtc subystem now
    has its own Private and a destroy function for it.
    Also it gets rid of void pointers which allows for better type checking
    in the compiler.

commit a209953aea0695b831bab9a5f6520aa84bb061a4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jul 8 19:03:18 2008 +0200

    AtomBIOS: Some fixes for PANEL support.
    
    The LVTMA OutputControl table was used for panels instead of the LCD1 table.
    Funny it worked on my laptop...

commit 0ec1f17727f3046c8f02cc8546d521cd82e7d065
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jul 8 15:11:14 2008 +0200

    Outputs/AtomBIOS: Some cleanup.

commit ecb5b8be88a87c48ccde279f4970a24b7995af08
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jul 8 14:56:53 2008 +0200

    Outputs/AtomBIOS: Add function to set up AtomBIOS based BL control for non-standard cases.
    
    Some laptop vendors don't use the chip internal interface to control backlight
    levels but implement proprietary methods in AtomBIOS.

commit 9f8378bd372eaa68ed29fa7d4aaf5258620954da
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jul 8 13:13:31 2008 +0200

    AtomBIOS/Outputs: Add property control for Outputs.
    
    Currently we can control BL brightness on LVDS (Panels)
    and coherent on TMDS.

commit dddfb57a2dbd3890a58fbb864ea699249fa564a8
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Aug 12 10:12:35 2008 +0200

    AtomBIOS/CRTC: Add AtomBIOS Crtc programming support.
    
    This adds support for Crtc Enable/MemReqEnable. Blank, Timing and
    Scaling.
    The FB (surface) parameters are not programmed thru AtomBIOS because
    this table is for internal AtomBIOS use only.

commit 8c294400f3c6b6371469c108a5452bec3f8ffa7a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jul 8 16:45:49 2008 +0200

    AtomBIOS: Add missing rhd_atomcrtc.c file.

commit d23b63144c834d0f65357b77b80c54b309dd23fe
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 7 14:34:38 2008 +0200

    AtomBIOS: Disable spread spectrum.
    
    The PLL spread spectrum doesn't get set by SetPixelClocks().
    At least for analog outputs it needs to be disabled or the
    screen will be weavy.

commit e1fa5ce15b46b5d125512c253f2422756143664a
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Mon Jul 7 11:43:17 2008 -0400

    Add initial support for RV770
    
    Still no DDC, but the DC i2c regs are the same as the other DCE 3.0
    (RV620, etc.) radeon cards so it shouldn't be too bad.

commit d857516c0c51859c96072ed98e6650b32aef003f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 7 12:13:06 2008 +0200

    AtomBIOS: Various fixes for AtomBIOS based programming of DCE3 PLLs and Outputs.

commit 5d80ac924f2deb6fd1a7517e1be16ad8dae09675
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jul 4 19:41:31 2008 +0200

    AtomBIOS/Output: Fixed Dual Link support and a few other minor issues.

commit 9ca9dd7719c4fbf3f2675470ba074a05d175cc2c
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jul 4 17:50:14 2008 +0200

    AtomBIOS/PLL: Fixed bugs in PixelClock restauration.

commit 9b1003ba144b743ad37646f1ea138709b5630c8a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jul 4 16:18:50 2008 +0200

    RandR/AtomBIOS: Fill out Crtc member of rhdOutput struct early.
    
    AtomBIOS SetPixelClock needs information about the output. This
    is obtained by scanning the list of outputs for the Crtc assigned
    to the pixel clock. Thus the Crtc member of the output struct needs
    to be filled out before.

commit af74b24c877b807c25650ac06d6d3de32ff74784
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jul 4 16:16:17 2008 +0200

    AtomBIOS/RandR: Fix some bugs in the connected device detection code.
    
    These bugs were the fallout of previous changes.

commit 77e27d22139614040085a70abf858b5fc6f5c229
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jul 4 16:13:08 2008 +0200

    AtomBIOS: Various bug and typo fixes.

commit 2bb865219657514fff3bcc974a12871914167c00
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jul 4 16:12:45 2008 +0200

    AtomBIOS: Use save function to set up AtomBIOS config to pre-startup state of HW.

commit 5b47bec87909060152d981dadbfa0c8bbb424b69
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jul 4 16:06:11 2008 +0200

    AtomBIOS: Distinguish between TV and normal DAC when reading out sensed status.
    
    AtomBIOS DAC load detection sets BIOS scratch register 0 bits to inform driver
    about connected hardware. When testing for TV out it doesn't reset the bits
    for normal DAC if these were set at previous measurements. So we need to make
    sure we only check for the bits set that concern us for our type of sense.

commit 174c2fc28fda1759150daf5c7a077bf55dbbc145
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jul 2 13:53:53 2008 +0200

    AtomBIOS: Make sure the OutputDriverPrivate is always set.
    
    To disable outputs we must make sure the output driver privates are
    always set, even when the output is not connected. This is done in the
    RandR detection function.
    The problem: AtomBIOS sense needs to know the device type to sense -
    which may be different from the device type currently set in the output
    private if the output can be used on more than one connector (like DACs).
    
    To overcome this we ask for the device type matching the connector in
    the sense function itself and discard it afterwards.
    If one output type was sensed on outputs that may have more than one
    output type we make sure to not sense again or overwrite the driver
    private with a different device type.
    
    For outouts that don't have anything connected we just leave the
    type that was set last.
    
    We really need to find the device type that's set at startup time.
    We may be able to do so using the BIOS scratch registers.
    However in this case we'd have to set the device type a lot later.

commit ceab4a9f47444575103a19c49e1d5e039fa844d9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 3 22:12:36 2008 +0200

    AtomBIOS: Add call to BlankCRTC.

commit 84cc7663a301b05222549a8591bf61b51468d914
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 3 22:11:43 2008 +0200

    AtomBIOS: Make function for overscan calulation public.

commit 54a2b421f644af52a89120d8dc538b5f10a0c1d5
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 3 22:10:50 2008 +0200

    AtomBIOS: Fix segfault due to freeing the wrong pointer.

commit d860afc73efb4c92ac3b2d832d6055cdf8df25c1
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 3 15:47:15 2008 +0200

    AtomBIOS: Add AtomBIOS handling for overscan setting.

commit b6a5a4440ed73a240e468a708e27bdb619ad5d6f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 3 15:45:59 2008 +0200

    AtomBIOS: NULL the save list after setup after call to AtomBIOS table.
    
    This will prevent further AtomBIOS calls from saving register values to
    this list.

commit c15bd73dbd7c9c1ade18ab3d73cfd6e8d663a859
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 3 15:43:51 2008 +0200

    CRTC: Make type of Store pointer void.
    
    Since we want to reuse this poiner in different subsystems we make it generic.

commit e936db056295bb57324046b011a006d508658000
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 3 15:41:10 2008 +0200

    CRTC: Restructure Save/Restore for CRTC to make it easier to selectively hook
    in AtomBIOS based function equivalent.

commit ef20d3b10987de5820c9d1827180b0fdd1944a04
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 3 15:30:21 2008 +0200

    AtomBIOS: Fix segfault on save after returning from text console.
    
    When we deallocate the 'store' list on restore we should NULL the pointer.

commit 9caed4d6ca3d85c53cd82888e76ad579a1041b09
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jul 2 07:48:30 2008 +0200

    AtomBIOS/PLL: Enable use of AtomBIOS based PLL handling.
    
    This needs to be replaced by a policy handling.

commit 1324e08c2996f79381fe765236c9d897c2d0d201
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jul 2 07:47:33 2008 +0200

    AtomBIOS/PLL: Add save/restore to AtomBIOS based PLL handling.

commit 872cd5164129f671ba0eebbaa012cf1032019283
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jul 2 07:46:22 2008 +0200

    AtomBIOS: Find connector/output for a given atomDevice.
    
    The atomDevice handling needs to be reworked. For now it's good enough.

commit 58b4fa70395e0b1ced806c8194e3bc4cb6ef4b3c
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jul 2 07:42:58 2008 +0200

    PLL: Make internal function static.

commit 7fd866ec7e861044d81d6c8a8219d7d3220336a6
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jul 2 07:41:40 2008 +0200

    AtomBIOS: Find atomDevice which owns CRTC from BIOS scratch registers.

commit f8043cba6b000ac9009cbf01d38aaa6a690ff56a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jun 30 19:57:36 2008 +0200

    AtomBIOS: Save/Restore output related BIOS scratch registers.

commit cbd11d4d11dce9cced5cf68a9bf737b0c99d3917
Author: Alex Deucher <alex@botch2.com>
Date:   Fri Jun 27 20:28:03 2008 +0200

    AtomBIOS: Build fix.

commit f5289f790dd9e3cf897a5eb84920a14528008740
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jun 18 18:44:37 2008 +0200

    Hook in Save/Restore functions into Outputs for AtomBIOS based mode setting.

commit cf494b708c53cb4a3ff487178e118aac28f5cef3
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jun 18 17:38:29 2008 +0200

    Add feature needed by the AtomBIOS to the RandR code path.

commit 0521062e982cac139eaced79ecb4805929475f8c
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jun 17 19:19:08 2008 +0200

    Add AtomBIOS support for DVO outputs.
    
    This is currently limited to Encoder and Output Control
    tables with a content revision < 3. Also digital attributes
    are not yet supported.
    It's still sufficient to drive DDIA on RS690.

commit afe7595e6ecdddd9685cfeb19678bd34faf97d03
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jun 17 19:59:10 2008 +0200

    Restructured OutputPrivates + numerous bug fixes.
    
    The output privates contain AtomBIOS device information.
    Which device to pick for a specific output isn't known however until we
    have probed the output.
    Also the object headers don't maintain the devices in the same order
    as the outputs in the src/dest table. We therefore need a heuristic
    to pick the correct device for an output.
    Along this numerous other bugs were fixed.

commit 308357649ca41cb961b04f08eb1e7d8873d49c34
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jun 17 19:53:35 2008 +0200

    Add support for save/restore registers when using AtomBIOS call tables.
    
    When enabled this code reads out and saves the register values of each
    register written to by AtomBIOS for the first time. This list can be used
    on restore to write back the values.

commit b7e22d9ff876ce51319d801ce8eb47996b2d8cba
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jun 13 17:47:41 2008 +0200

    Update BIOS scratch registers when enabling outputs or selecting CRTCs.

commit eb3c4653150594073a1d3ea7b2e777a43679df18
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jun 17 19:35:41 2008 +0200

    Make AtomBIOS support code more consistent.
    
    Many variables and structure elements are renamed to make the
    naming sceme more uniform.

commit 2a7f90a9ea969f4469369f5befde8b3d2cafbadb
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jun 4 12:59:53 2008 +0200

    Add AtomBIOS SetPixelClock support.
    
    This is code to hook into the AtomBIOS PLL callbacks to set
    the pixel clock using AtomBIOS.
    This just provides the code, it's not hooked up, yet.

commit 0a74ecd58fa9b4dfed8fa4c0f4de866d01334254
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jun 2 23:40:27 2008 +0200

    Provide infrastructure to update BIOS scratch registers.

commit 196998f59e555e2664c08d2214d55482265ce1dd
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu May 29 16:14:58 2008 +0200

    Move BIOS scratch register related functions to a separate file.
    
    This also adds functions to update the BIOS scratch register state
    for output presence, for output active and for which CRTC is assigned
    to which output.

commit e4ea029171e2361bc01925d3b1c747a98e873181
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu May 29 08:10:39 2008 +0200

    Pass AtomBIOS device table back in connector table information.

commit 85d16952b26012a7f48919f7d1edbbfae03c3254
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed May 28 17:32:44 2008 +0200

    Add AtomBIOS based output handler.

commit 9a8ba7df0335d69834b8a4ca7c899cae9a1fb48a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed May 28 17:40:41 2008 +0200

    Store AtomBIOS DeviceIDs and read back DAC sense information from BIOS scratch registers.

commit f1cb4e09bb525f87caf8e94ae5a4cd9995722639
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed May 28 18:27:12 2008 +0200

    Query version of AtomBIOS Command Tables.

commit 6a1bd19e1b5ff543459814825518fc8c0ed2f9db
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed May 28 18:23:37 2008 +0200

    Add/reworked AtomBIOS interfaces.
    
    rhdAtomSetScaler(), rhdAtomOutputControl(), AtomDACLoadDetection(),
    rhdAtomEncoderControl() were reworked,
    rhdAtomEnableCrtc() and rhdAtomSelectCrtcSource(), rhdAtomEnableCrtcMemReq(),
    rhdAtomSetCRTCTimings(), rhdAtomSetPixelClock() were added.

commit 73f9d856a1f14122ca342b725c4d1200d56373c4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Apr 17 12:27:04 2008 +0200

    Add output control support code and dac load detection table interfaces.

commit 4e7c13bb4a415e3da4543ead35794e1291d15504
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed May 28 18:11:11 2008 +0200

    Add support for AtomBIOS output encoder command tables.

commit c850ad4a4958f41a306be669c5503645da554866
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Aug 9 14:56:44 2008 +0200

    XAA: More uint*_t fixes.

commit 3c8bf0b3d7c18110c530408fb9c1c544defc5b20
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Aug 9 14:56:21 2008 +0200

    Textured Video: Wrap inclusion of damage.h with #ifdef DAMAGE ... #endif.
    
    We may see some fallout later on. Can someone with an older system please
    check?

commit 1707c4e93fe6c70afbf9ed6e5f84bd4eaa5eaaca
Author: Yang Zhao <yangman@gmail.com>
Date:   Thu Aug 7 20:10:44 2008 +0200

    man page: typos in "keep_aspect_ratio" section

commit c3541cf5b8bcdfe99cad42230703665814dc6905
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Thu Aug 7 00:17:00 2008 -0400

    Fix compilation againt ancient versions of exa

commit 3ab4a14ee294bd8b3a3b6d8134af38a199502cdd
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Wed Aug 6 13:19:46 2008 -0400

    Fix last commit for r5xx dri
    
    - want RADEONEngineInit() not RADEONInit3DEngine()
    - both functions rely on accel_state struct with is not
      available if neither exa nor xaa are active

commit 6bfbdc0776d7b7876f7915e40e6f0c240d0f988b
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Aug 6 18:09:35 2008 +0200

    Allow DRI initialization without 2D acceleration being active, again.
    
    Not completely correct this way (probably doesn't survive VT switches), but
    helps 3D bringup.

commit 16c65c721b4098ec213bee537de8959291f34d4a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Aug 6 17:30:38 2008 +0200

    2DAccel: Build fixes.
    
    Include xf86.h before any other DDX header files.
    Make uint*_t a define when not building with DRI support.

commit 11e0a573ae66cfa24b8d8e7067dfbea54afba100
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Aug 6 15:21:36 2008 +0200

    man page: TVMode option is not implemented yet

commit 3ca7c8c379f6afdd4ca5d3f9545a999ab8b442ab
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Aug 6 12:47:26 2008 +0200

    man page: Document Option "TVMode"

commit 7b2ce7b0507b7df35320e3f50df5ad445d479574
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Aug 6 12:45:00 2008 +0200

    man page: Document Option "UnverifiedFeatures"

commit d676619cf079cdfddd165d61aa46096a777aab73
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Aug 6 12:42:34 2008 +0200

    man page: Document Option "DRI"

commit 4a70bdced511e80a5898d3fd32b5f7f43dfd8aad
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Jul 24 11:24:30 2008 +0200

    man page: Name the xorg.conf section for options

commit 87f05fd9dc73f07bb810f2aab197f4282c8245f7
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Tue Jul 29 23:09:23 2008 +0200

    Add forgotten string constant for PAL_TV_CV

commit e4d904d692a9f59bcff0654cb2237ee1e1c36d05
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Tue Aug 5 16:50:36 2008 -0400

    Port over exa and texvid updates from radeon
    
    - change prim type to avoid diagonal tearing

commit e65231efa7a509dd49c3aae4ba51343121f2fff9
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Mon Aug 4 10:30:52 2008 -0400

    Protect xaa rec access with USE_XAA
    
    spotted by Nico -telmich- Schottelius on the mailing list

commit ae159a1d68157bac0c051fb9488f103a2e390928
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Aug 4 13:40:24 2008 +0200

    DAC: Add support for Compassionate Data and other tables.
    
    Many BIOSes provide electrical parameters for the DACs in tables.
    If passible make use of these tables.

commit 20f3df0900f7a03ef9b56710590a4523fa1c74ed
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Aug 4 13:26:32 2008 +0200

    I2C: Improve probing for monitor presence.
    
    The ASUS M2A-VM (RS690) motherboard comes in two variants: with and without
    HDMI. The HDMI variant ships with a riser card to be plugged into the PEG
    slot. Apart from this riser card both boards seem to be identical.
    When no riser card is installed all I2C slaves on the I2C line assigned to
    the HDMI connector send an ACK.
    Therefore to scheck fro the presence DDC it's not sufficient to look for
    the ACK but also to read the first two bytes and check if they belong to a
    DDC header.

commit 81764bfd598011c4e2ef3903d940f496e19c2df5
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Aug 2 16:48:54 2008 +0200

    Conntest/RS690: Set number of DDC lines to 3, increase timeout loop counter for I2C, unify I2C probing.

commit f90e3841e1191897d80cad80633fd3ce604ff4b8
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Aug 1 20:38:35 2008 +0200

    BIOS: Fix segfault when BIOS image cannot be read.

commit 05f91165efc811bcd23514e2d9a8be46b547f38b
Author: Wolke Liu <Wolke.Liu@amd.com>
Date:   Thu Jul 31 14:34:55 2008 +0200

    IGP/mmap: Use PCI functions to map IGP  IGP K8_FB_LOCATION memory.
    
    This helps to set the MTRRs corectly for this memory range thus avoiding
    and speeding up access.

commit 212ed6e5a304fd92c23551791cbb7a66f9633b6e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 31 13:07:04 2008 +0200

    AtomBIOS/ROM: Also treat as failure when xf86ReadPciBIOS() returns 0.

commit 6ccdec7a908d12439ae5ff30ba85106c22933c02
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 31 13:00:30 2008 +0200

    LUT: Log calls to LUTSave/Restore on verbose level 7.

commit 61e636d982aa35c486b34d2c8df9f33495d19a07
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 31 11:33:26 2008 +0200

    RandR: Santitize OrigMode passed to rhdRROutputModeFixup() but RandR.
    
    The SynthClock and Crtc values of this mode don't seem to be sane always.
    We zero them so that validation can take care of them later on.

commit 6b04da151fb96c6307864d040b805567e1235c0e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 31 08:54:08 2008 +0200

    Buildsystem: Don't let driver specific include files include system include
    
    files.
    
    This will prevent conflicts with redefinitions that may occur later.

commit 52abff334912b486ed6eac17d776142487d9aa57
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 31 08:35:53 2008 +0200

    RandR: Add more verbose logging.
    
    Mode names are inconclisve. Most of the time they just specify the resolution.
    However in a list of modes there may be more than one mode for a single
    resolution.

commit 7f2fd65bde67c6e8c82b10a7a1e82566696a8faa
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 31 08:31:59 2008 +0200

    Buildsystem: Add currently unused files to dist.

commit 3e2ee2f4722db20dcaf0d08f572b39541b8ec19f
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Jul 31 00:41:53 2008 +0200

    Append to EXTRA_DIST instead of redefining

commit 708e31a4d8e882fb4b448e05073c258b7bc12551
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jul 30 23:06:05 2008 +0200

    Buildsystem: Make 'make distcheck' pass.

commit 2bdc0d0a408c32450e9102ae5cdeecc44832dfee
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jul 30 14:06:36 2008 +0200

    Scaler/RandR: Remove unneeded debug messages, undo unneeded 996d309.

commit a0af537692cca6cce82f86d4be950c50110fd1be
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Jul 30 12:18:20 2008 +0200

    Improve sed expression compatibility for FreeBSD
    
    Have the manpage update sed expression conform to older, more
    original sed regexp specs.
    
    It still works with GNU and busybox sed, but now also works
    with FreeBSD sed.
    
    There is still an incompatibility with minised, though.
    
    Thanks to "Martin" for reporting the issue, testing my original
    half-baked fix and fixing it.

commit 996d309fe2cafcee1665c4bdcffd6a03299a1c7c
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jul 29 22:31:27 2008 +0200

    Scaler: Pass ScaledTo mode to output routine, not ScaledFrom.

commit 23e76f0f549977a3fb3695aa56049f17d3548864
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jul 29 20:17:31 2008 +0200

    DRI: Idle before shutting down DRI, Shut down DRI even when switched away.

commit 4be9897124e085494d0608000adb939b183d37c3
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jul 29 18:28:00 2008 +0200

    Video: Delete unsupported Codecs.

commit b3fd4bf90de24f0cc4703bd0021f038fdd290a15
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jul 29 16:59:40 2008 +0200

    Imake: Fix Imakefile for DRI/XAA/EXA/TV.

commit 2cc9378e219011f5521beeaa77afd08b4b354ebd
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jul 29 16:27:15 2008 +0200

    DRI/2D: Fix build for --disable-dri.

commit a356f5d2f04476566981a73841980a4bc985f1be
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jul 29 15:48:23 2008 +0200

    DDIA: Turn off Sync DC balance properly.

commit 1ba4c04bdc9692acdee0807caac9f7d1d3647cfc
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jul 29 15:46:04 2008 +0200

    RandR/Scaler: Sanitize the 'OrigMode' so that mode validation doesn't fail afterwards.

commit 1c40e31b1b68e6e9a21f0fe52d564df58d2cfaa4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jul 29 00:26:30 2008 +0200

    TV: Fix TV mode options.
    
    TV support still isn't working but the TVout option syntax now
    matches the available TV mode.
    Kudos to ndim (Hans Ulrich Niedermann) for catching this!

commit 4ce23e84967dddcc28788e532026eb2ef763e35e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 28 12:42:46 2008 +0200

    RandR: Make sure OrigMode has a name at Fixup time in the scaled case.

commit 962dd8b77b414e2e90201d1acd167b74f916a190
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 28 12:35:55 2008 +0200

    MC: Get rid of some compiler warnings.
    
    There were conflicting ideas about the return type of the
    TuneMCAccessForDisplay() function.

commit 3f1b10486cbf3baa5a6e0bd34635e3b90836fb47
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jul 25 00:04:08 2008 +0200

    DIG: Handle PCIEPHY properly.

commit a70051309479e0d92f5538a99260612bb6c97841
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jul 23 18:59:10 2008 +0200

    PLL: Always keep pixel clock PLL spread spectrum disabled on vt restore.
    
    We have received some reports that reenabling PLL spread spectrum
    on VT restore causes the console to "wiggle". Until we have understood
    the issue we will keep it permanently disabled.

commit 8fc2cd0dafc399e1acf90566c5ace91cbc0b346a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jul 23 18:09:48 2008 +0200

    MC: Tune MC on RV515 and RS690 to avoid glitches on hi res modes.
    
    To avoid glitches on Hi-Res modes due to linebuffer starvation
    the MC can get tuned to make linebuffer requests urgent when a
    timer has expired before the linebuffer has again obtained access
    to the framebuffer.
    This mechanism eists in this form in RV515 and derivatives
    as well as on RS690.
    Later chips implement a different mechanism.
    This initial implementation sets the timer to the lowest
    value pussible so the linebuffer becomes priority very early.
    An algorithm to estimate the correct value is on the TODO list.

commit 8266d196e36333b5853138253f2454cedbe46687
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jul 22 20:45:31 2008 +0200

    Conntest: Add additional HPD pin and some more devices.

commit d9846628e60e5374ba5659b0f1eea03b123373c8
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Tue Jul 29 14:23:46 2008 -0400

    Use PCI config regs to detect card type
    
    The MMIO regs used previously don't seem to work on r6xx+

commit 641f49f49105280e5b982d76a92715f776ab3456
Author: Egbert Eich <eich@grape.suse.de>
Date:   Mon Jul 28 08:27:05 2008 +0200

    Accel: Fix build problems on BE platforms.

commit 275f92dfb274aed5ab67c711e1f85850817241c8
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Mon Jul 28 01:01:40 2008 -0400

    Comment out tiling stuff for big endian
    
    no support yet for tiled surfaces and drm surface setup

commit ac9dccb68743f9e53f1b14d09fd7d3de09f0140f
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Sun Jul 27 18:04:30 2008 -0400

    More big endian accel fixes
    
    I really need a big endian test box.

commit 7195c8a946e0634cf56ebf9e120b7347aa78fed8
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Sun Jul 27 13:14:39 2008 -0400

    more big endian accel fixes
    
    -noted on tinderbox by cjb

commit b7f88556af6d7a87df62739456e7124b2038219b
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Sun Jul 27 12:40:37 2008 -0400

    untested accel fix for compilation on big endian
    
    I don't have a big endian box.

commit b0f470aa76cc156092754187fc8c6c41c4125ce4
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Sat Jul 26 13:36:22 2008 -0400

    Fix non-DRI build
    
    Spotted by Bruno Kleinert on radeonhd mailing list

commit 0780b69e0bce9e08f19aa7dd28ed4934e34596b9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jul 18 23:19:11 2008 +0200

    XAA/EXA: Remove radeon_xaa.h and radeon_exa.h headers.

commit 3b2d6d7e323d36869caa9e7bd08e6ed5b9cbaffd
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jul 18 21:30:41 2008 +0200

    VIDEO: Fix typos that cause memory doesn't get poperly allocated/feed under xaa.

commit b8b4ad58568939fd3c01407a9692ef9f7a67a4fb
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jul 18 21:23:03 2008 +0200

    MC: Make sure MC engine is all idle before setting up the MC.
    
    In the RandR case we accidentally missed to shut down the CRTCs
    before calling SetupMC().
    Use ASSERTS to make sure the code doesn't get broken accidentally.

commit 20e23dee16cc898e701db3055139d786653f752a
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Tue Jul 15 16:36:44 2008 -0400

    Fix hangs when setting up the MC
    
    When changing the MC, you need to make sure:
    - engines are idle
    - MC clients (such as crtcs) are disabled

commit 2f5e0aa1677acb3ad073bd0f749cd7c3cc1a8bb8
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Fri Jul 11 19:13:14 2008 -0400

    Port over VAP_CNTL updates from radeon

commit 97d89bab5aeee8a841a1c91fc1f68d9e045137b4
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Jul 2 17:19:50 2008 +0200

    Fix error message on CP Init failure.

commit 317b7eeaaa4ab962e6691302d490d817df91abc3
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Jul 2 17:19:03 2008 +0200

    Update of radeon_drm.h to version of r600-support branch of drm.

commit e875481ef561baed308a42e2d2c67e38d4d5d466
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jun 30 12:00:30 2008 +0200

    DRI: Add more debugging output to DRI.

commit f130af1027a427c76e108791a334285ade1b7371
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jun 30 10:30:27 2008 +0200

    EXA: Get rid of static variables.
    
    In EXA variables carrying state between different accel functions have
    been made static. Static variables are generally not a good idea in
    X drivers as multiple instances of these drivers may exist.
    Although this may no matter in some use cases (ie. when static
    variables are only used to pass information between functions that
    are executed within the same drawing command) it's generally a good
    idea to avoid them.

commit 6a77313d04fc6752ddc76b85c4b20650a21ea9de
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jun 30 09:41:49 2008 +0200

    2D: Add Close() functions for XAA and EXA.
    
    This allows to push some of the detailed knowledge about the
    accel methods' internals down to their subsystems.

commit db5e1c53f770fc6f20bf8dedec74e287a0e01624
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jun 30 08:21:02 2008 +0200

    2D: Split RADEONAccelInit() into XAA and EXA specific function.
    
    This pushes the accel specific init code into the accel specific
    subsystem.

commit 51eebccd1dd6ac93d96504439843b936a796c4d2
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jun 30 10:52:33 2008 +0200

    2D: Separate XAA from common accel code, separate func decls to XAA, EXA and common accel headers.
    
    This patch separates the XAA and EXA subsystems from the common accel code.

commit 0286a153a8fa0a99e1dccae5f9cc382298603d17
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Jun 28 10:53:32 2008 +0200

    2D: Comment out setctions not needed by this driver.

commit a61c77895d836a9d1984e9a5b02e6fe985e35c10
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Jun 28 10:45:03 2008 +0200

    2D: Changed test for AccelMethod to test for presence of method specific data struct.
    
    Testing for the presence of the data struct is more portable. It requires
    that it is made shure the data struct is only there when the accel method
    is really initialized.
    This patch also changees the (historic) name accel to xaa to clearer
    reflect that this data structure belong to XAA.

commit 4152ec6c23d5f81f9c8bb1327ac80f392394c1bd
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jun 27 21:19:03 2008 +0200

    2D: Removed unneeded variable XAAForceTransBlit from accel_state.

commit d29a29cef8a07d466a2bf6fc7bac2575092955fc
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jun 27 21:13:27 2008 +0200

    2D: Removed unneeded variables re_top_left re_width_height from accel_state.

commit e775ffa51a1a5d48260fdd400654fd3753ba9c43
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jun 27 21:01:02 2008 +0200

    2D: Removed unneeded scissor variables from accel_state.

commit 815597aa55a67dd244ff5e83d91212acde3c67ae
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jun 27 20:57:11 2008 +0200

    2D: Removed unneeded variable 'datatype' from accel_state.

commit 2adb3bc4b738bbacbda75efcf0952972af6d7516
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jun 27 20:40:07 2008 +0200

    2D: Removed unneeded variable 'pitch' from accel_state.

commit fc6e6032fb7b59208e0aa4a2b5f154a81098b6c1
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jun 27 20:24:17 2008 +0200

    EXA: Restructure file to group together pieces required by this driver.
    
    This patch also #ifdefs out pieces not needed by this driver.

commit 0228867a320d6475c61e17256642d225f76251c8
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jun 25 22:55:27 2008 +0200

    2D: Consolidated variables on which acceleration is used.
    
    Both accelOn and useEXA were consolidated to AccelMethod.
    2D memory setup and init was moved to a separate function.

commit 55b65700972a6cbd7b7c093dc68e1bce334ad95b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jun 25 16:44:19 2008 +0200

    CP: Add missing license and copyright statements to rhd_cp.h.

commit abf65fe4901f115c34ab418ebd98459988987d5f
Author: Brad Smith <brad@comstyle.com>
Date:   Thu Jun 26 10:28:26 2008 -0400

    RADEON: fix copy/paste error in accel code

commit 077d9f5a620ae52c0151f9d1b7512b1c2854a55f
Author: Alex Deucher <alex@botch2.com>
Date:   Wed Jun 25 16:42:00 2008 -0400

    RADEON: adjustments to Jerome's last commit
    
    - Flush caches and wait for idle after drawing
    - Make sure 3D is idle too (after composite or textured video)

commit 8cfdc0b09457648f04a8fec505d487324e194741
Author: Jerome Glisse <glisse@freedesktop.org>
Date:   Wed Jun 25 16:29:04 2008 -0400

    radeon: flush & wait for 2d & dma idle after 2d blit
    
    This should help to avoid 2d & 3d engine to step on each
    other dma transaction.

commit b67dde834888d55c38b2e1be6e66302d5d0729dd
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jun 25 15:20:15 2008 +0200

    DRI: Adjust files to build against the drm kernel headers.
    
    The radeon_* files used header files with the same content
    as the kernel drm headers. This patch adds the necessary modifications
    to make those files build against the kernel header files.
    Since this driver can run with older API versions and it cannot
    be expected that all users have the latest drm header files
    installed it was necessary to copy radeon_drm.h from the kernel.
    Eventually this may also have to be done with sarea.h which however
    is hopefully less likely to change.
    This also does away with the insanity that different files built
    against different header files introduced with patch
    2f12947ba7a9d14760d229005b7cfc2f90bf022b.

commit 0c546419f59e43894e74af7af7b497350aa192c4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jun 25 11:08:51 2008 +0200

    ACCEL: Move variable to track 3D engine state to rhdAccel and rename.
    
    This variable describes the state of the 3D engine (if it is set up in
    the context of a DRI client or in the context of the Xserver).
    Thus it should live in the rhdAccel accel state structure.
    Also the name has been changed to XHas3DEngineState to be more
    self explanatory.

commit aefb1c1729b6ad37b84486dfa5bc5a906a0f8475
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jun 25 10:31:42 2008 +0200

    RADEON: Fixed a bunch of compiler warnings.

commit fcc81262436a1dd875b4137016a6625c01e52ad9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jun 25 08:42:32 2008 +0200

    DRI: If RHDDRIAllocateBuffers() fails free rhdDri data struct.
    
    RHDDRIAllocateBuffers() is called in PreInit(), therefore if it
    fails there is no go for DRI. To mark this we free the rhdDri
    data structure.

commit 6c502337580b524189b67482f8c8b0c15c73e175
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jun 25 08:40:42 2008 +0200

    DRI/EXA/XAA: Fix memory allocation for offscreen area.
    
    The size of memory we reserve for offscreen (pixmaps etc.)
    is debatable. Now it should be consistent.

commit 26c4a1f134699441c8e183d18eeb8b2a61675747
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jun 25 07:23:55 2008 +0200

    VRAM: Fix VRAM clamping to aperture size.
    
    This fix has been introduced into master already, it removes the
    need for VRAM clamping to 256MB.

commit fd4c02bfe2a284519dc24daf0cb2af6b01e22989
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jun 24 18:34:34 2008 +0200

    DRI: Replace pixel_code struct member by macro.
    
    This value is used rarely and mostly during init.

commit 0e5ac54afa33cfb5c314487597998d34ed4c8cb4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jun 24 18:26:51 2008 +0200

    DRI: Readd but comment out 2D init functions in rhd_dri.c.
    
    We might want to support 3D accel without 2D accel in the future.

commit 962f3c5b465de048c642330148a884e97ebbf574
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jun 24 18:16:45 2008 +0200

    DRI: Keep rhdDri struct for server lifetime.
    
    This structure is allocated in PreInit() thus freeing it on
    CloseScreen() would provide the next server generation with
    no DRI support.

commit a544b109f4a207bfc4c230991f878097baafeb77
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jun 24 18:05:01 2008 +0200

    DRI: Include kernel sarea.h and radeon_drm.h instead of radeon_sarea.h.
    
    The use if the kernel drm headers eliminates duplication of header
    information.
    This needs to be followed up for radeon_accel.c and radeon_exa.c.

commit 4114a9709d9a0919190acf3db84ec9bcab628765
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jun 23 22:14:32 2008 +0200

    CP: rename directRenderingInited to CPstarted and move from RHDRec to rhdDri.
    
    This variable is entierly used within the DRI subsystem. It can therefore
    be moved to the DRI structure.

commit 41b259365133a5e23b5d83377cec763db9e8beef
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jun 23 17:26:45 2008 +0200

    EXA: Remove RenderAccel from main driver struct.
    
    The RenderAccel code in XAA isn't used (commented out), in the EXA
    code this variable currently doesn't make sense as it is set to
    TRUE all the time.

commit 30b4ed1887efa1ca67f63a16221e32426647f1d1
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jun 23 16:11:03 2008 +0200

    EXA: Consolidated further variables: accelDFS, gartLocation.
    
    If we can use accelerated download from screen can all be checked
    by looking for a valid address for gartLocation. This variable
    is set to an invalid value when the DRI driver structure is allocated
    and in DRICloseScreen().

commit 8e60e5b1eb5aedd07b1b2025258615b80ddf4a76
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Jun 21 16:52:17 2008 +0200

    XAA Removed a test for ancient version of libXAA.

commit 1352e20f09fa6ea9c328fb3b74e8f99187e88996
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Jun 21 16:47:37 2008 +0200

    DRI Test for EXA "download from screen" directly.

commit c9cc16f440947fce3048868b99d5371baedb5f36
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Jun 21 09:43:55 2008 +0200

    Change variable 'info' to something more telling in rhd_dri.c.
    
    'info' is used for both RHDPtr and rhdDri structs in this file.
    This patch fixes the confusion.

commit e033ae9948f1dfc425d4cf8af47998b5c734a286
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jun 20 20:28:25 2008 +0200

    Remove the need for radeon_dripriv.h.
    
    The only two (still empty) structure elements used from this
    file have been moved to rhd_dri.h.

commit ea42fafd7958eab45142e3a8fb12ab21c113301f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jun 20 19:56:46 2008 +0200

    Remove the need for the RADEONFBLayout struct.
    
    The information contained in this struct can be obtained
    easily on the spot and we won't accidentally forget to
    set some struct values.

commit 078b27b82377b01c7350231e933c1cd5bf0c4e43
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Jun 21 09:08:27 2008 +0200

    Move rhdDri stuct to rhd_dri.h, rhdCP and CP macros struct to rhd_cp.h.

commit 6b70b1ad592c72436461dca5b52010bb804beb7c
Author: Alex Deucher <alex@botch2.com>
Date:   Tue Jun 17 15:55:03 2008 -0400

    rhd.h cleanups
    
    - remove unused vars
    - fix some #ifdefs

commit c9da824ee728dc7f5e41c2fed05ac5c0d74710e8
Author: Alex Deucher <alex@botch2.com>
Date:   Tue Jun 17 15:44:47 2008 -0400

    fix typo in last commit

commit 2c8df0ac30bf5a2e83841f708cf6d925d85430b2
Author: Alex Deucher <alex@botch2.com>
Date:   Tue Jun 17 15:38:59 2008 -0400

    Mark IGP chips without TCL for EXA render accel

commit ed35ed68cec168c1a43fcf5a7ef2816556ca1e70
Author: Alex Deucher <alex@botch2.com>
Date:   Tue Jun 17 15:33:27 2008 -0400

    Enable EXA DFS
    
    TODO: add config option

commit 0c5feac17c37457db7ea2959abfd138d8af49da4
Author: Alex Deucher <alex@botch2.com>
Date:   Tue Jun 17 15:09:20 2008 -0400

    make RHDDRMStop() use the CP macros

commit 17d54bba150e3c3e64b665a88807a9943ac2b67e
Author: Alex Deucher <alex@botch2.com>
Date:   Tue Jun 17 14:51:33 2008 -0400

    Cleanup
    
    - removing debugging stuff
    - remove unused functions
    - require accel for DRI

commit 4b644ea71310c40d4be6ee9b3e396181660e3460
Author: Alex Deucher <alex@botch2.com>
Date:   Tue Jun 17 14:21:17 2008 -0400

    Move Accel and CP stuff to separate structs

commit 60926a964621077dfcf323d6339201de024fecd9
Author: Alex Deucher <alex@botch2.com>
Date:   Tue Jun 17 10:14:51 2008 -0400

    Switch EXA to use the same memory setup as XAA

commit 85266a4d42029c5e16ee064742507244b8bfb827
Author: Alex Deucher <alex@botch2.com>
Date:   Mon Jun 16 19:40:51 2008 -0400

    Enable pipelined uploads for textured video

commit 4f3bfb1167853e3e35c4a1b6d5810eb651a7a9fe
Author: Alex Deucher <alex@botch2.com>
Date:   Mon Jun 16 19:08:07 2008 -0400

    Fix typo in XAA setup

commit 422e32f6f79c9378ba4ddcafb138b5f6d5dd8ea2
Author: Alex Deucher <alex@botch2.com>
Date:   Mon Jun 16 19:05:29 2008 -0400

    Setup VAP properly on mobility chips

commit ef6a2142ebcaf1e456b377f8c9ec38ef8286744e
Author: Alex Deucher <alex@botch2.com>
Date:   Mon Jun 16 18:55:25 2008 -0400

    Get textured video (Xv) working on R5xx

commit de5e699b35e8412e60d3dfe912f047fdac5bf7b4
Author: Alex Deucher <alex@botch2.com>
Date:   Mon Jun 16 11:58:21 2008 -0400

    Remove legacy overlay stuff

commit d28d67b47aa8db8e036c7467473723b54cc1e637
Author: Alex Deucher <alex@botch2.com>
Date:   Mon Jun 16 11:40:47 2008 -0400

    Add Xv files from radeon

commit b673dedfe75c132cc65fc420da526991475c1a7a
Author: Alex Deucher <alex@botch2.com>
Date:   Mon Jun 16 11:35:55 2008 -0400

    Fix up last commit

commit 27e3a907bbe7b1383de8b16f9c1e4e51b0f05003
Author: Alex Deucher <alex@botch2.com>
Date:   Mon Jun 16 11:30:38 2008 -0400

    Get XAA CP working
    
    current memory management is basically a hack

commit cf5f424bea048fa5a225b81abdb78fa78a0a1eec
Author: Alex Deucher <alex@botch2.com>
Date:   Mon Jun 16 11:09:18 2008 -0400

    Get MMIO XAA working

commit b45a4dbec3bef605974fc84d45da21f6d337e3f4
Author: Alex Deucher <alex@botch2.com>
Date:   Fri Jun 13 17:12:36 2008 -0400

    Fix xserver/mesa interaction
    
    In DRIEnterServer need to flush cache and reload 3D state.
    This fixes 2D graphics corruption after running 3D clients

commit 8d0315e87de7815fea6e6f9cd68effbc10262a32
Author: Alex Deucher <alex@botch2.com>
Date:   Fri Jun 13 15:58:48 2008 -0400

    Fix 512 MB cards
    
    need to limit the videoram to 256 MB (BAR limit)

commit f6ef630994b00336b7c72a577cb1a6a0ca9d0249
Author: Alex Deucher <alex@samba.(none)>
Date:   Fri Jun 13 14:47:31 2008 -0400

    CP accel works now!

commit 4036e707b95442c942df9d39eb3eb40872ec5e95
Author: Alex Deucher <alex@samba.(none)>
Date:   Thu Jun 12 14:35:59 2008 -0400

    First pass at EXA port
    
    MMIO works and draws correctly, CP path works, but
    shows pretty heavy corruption.

commit a8def4cdc774125722d6f06195eaff0119528f36
Author: Alex Deucher <alex@samba.(none)>
Date:   Thu Jun 12 14:20:32 2008 -0400

    Pull in files from radeon

commit 31e46386293fd0c54c99328eee3cfe7b49584f9d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 21 19:21:13 2008 +0200

    Connectors: Increase the number of available connectors to 6.

commit 8b1d33238548f5355463f93dff165b647e451caf
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jul 22 00:44:15 2008 +0200

    I2C: Fix I2C slave address probing for RV620 and later.

commit d65b67b0504a76ec387ff814308423836d6b58b2
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jul 22 00:43:39 2008 +0200

    HPD: Add support for HPD_3 found on RV620 and later hardware.

commit a900052b2e167636c97822856fdf8df65db492cd
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 21 21:28:15 2008 +0200

    DIG: Extend heuristic to check if golden values are available for requested coherent/incoherent mode.
    
    This code first tries to find entries for the requested mode in the table.
    If the algorithm fails it will toggle the setting and pass over the list
    again. Bugzilla #16263.

commit d3e6c7f721f525615d5cb20b968ed7ccddba2d03
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 21 18:00:42 2008 +0200

    RandR: Log when a 'scaled to' mode doesn't vaildate.

commit 68592e3012eefa9f4adcf75accca908f8118612e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 21 14:54:54 2008 +0200

    MC/RS600: Fix MC indirect access functions.

commit fdf5014c811a5c1c59e570ad146deefbbc8e74a9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 21 12:21:04 2008 +0200

    CRTC/Scaler: Log more information about the scaler.

commit 94d759b94ed5a9c0a48df8615a257b9b269597cf
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 21 11:58:25 2008 +0200

    DDIA: Disable Sync DC Balancer on DDIA block of RS690.

commit 202f233232993ae1a7f5bce9436e78f7bfc862b6
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 21 09:00:36 2008 +0200

    I2C: Check for more error conditions in I2CStatus on RS690.

commit ec2fbeeeb28be62124d5111e9746b312a1c7fd35
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sat Jul 19 01:35:38 2008 +0200

    Fix typo in list of supported chips (again)
    
    Perhaps this time it'll stand a little longer... :-)

commit 435320ded4596c2924404fac679184932d40e885
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Jul 20 16:54:05 2008 +0200

    Crtc/Scaler: Disallow interlaced for all modes involving scaler.

commit c0e0dc7dc8a5466a5e842c72a5e0500b1119b0ba
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Jul 20 13:57:30 2008 +0200

    ID: Adding M82 chipset name and some more verbose logging info.

commit 8133d1a4a75727ad7d4aedb51a784c7b9d3caac8
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Jul 20 11:39:40 2008 +0200

    MC: Enable MC control for RS600, fixed segfault.

commit f362e5abae77ad0872b334a8e105b1f03ed8495f
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Jul 20 00:41:43 2008 +0200

    R5xx DRI: increase CP timeout.
    
    Increased to maximum the drm allows, reduces the noise in kernel logs tenfold.
    This is not a timeout, but a loop counter. Maybe radeon_drm should be told
    CPUs got slightly faster in the last decade.
    Also add some further failure verbosity and do some more cleanups.

commit 1761d6c54945605275fcf644f6938503eac514b1
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sat Jul 19 21:50:04 2008 +0200

    R5xx Accel: split r5xx2DInfo into XAA and EXA specific structs.
    
    * replace rhdPtr->TwoDInfo with rhdPtr->TwoDPrivate.
    * various cleanups and even a fix.

commit 603a35a670c71d32c4f393e21ed09f87449ebbf6
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sat Jul 19 01:35:38 2008 +0200

    Fix typo in list of supported chips

commit 3bc154bf768c281258064474ee414aa002d8ad90
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jul 18 17:38:52 2008 +0200

    ID: Remove concept of chipset families.
    
    The family concept was only used in two places to identify RS690 chipsets.

commit 3ac5a2f54efc27bfa0a859a03706328aeeb517a4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jul 18 17:06:10 2008 +0200

    ID: Update list of supported chipsets, bring in sync with chipsets listed.
    
    RS740 (which is functionally identical to RS690), M86 and M88 chipsets
    are added.

commit edb724526526298180d9d9b25ecb5136a1e5524c
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jul 18 12:12:33 2008 +0200

    MC: Make sure MC engine is all idle before setting up the MC.
    
    In the RandR case we accidentally missed to shut down the CRTCs
    before calling SetupMC().
    Use ASSERTS to make sure the code doesn't get broken accidentally.

commit 4eebf4bc653a04f7e8c787bc7e8567cf507d6fbe
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Fri Jul 18 00:32:38 2008 +0200

    Define SED var without requiring AC_PROG_SED
    
    AC_PROG_SED was introduced in autoconf-2.59b from 2004-08-20,
    but radeonhd wants to be compatible with autoconf-2.57 (from
    2002-12-03 :-), so we cannot require AC_PROG_SED and need a
    fallback option.
    
    Fixes the build problems commit 4134177e had on some systems.

commit 2bc4450aae4aa6d6644c3c0e7fd9612d9301fb22
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Jul 17 22:40:32 2008 +0200

    Use 'git foo' instead of 'git-foo'
    
    git upstream have declared the 'git-foo' syntax to be deprecated,
    and it has already been removed from standard git installs, even
    if many OS vendors are still shipping git packages with git-foo
    in the default PATH.
    
    The updated scripts using 'git foo' should still be compatible
    with git >= 1.3.0 with respect to the 'git foo' vs 'git-foo'
    issue, and with git >= 1.4.0 wrt the git commands themselves.

commit 4134177ee30969f9e426cd590e2e8b6743a1541c
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Tue Oct 30 02:11:41 2007 +0100

    Automatically update man page from rhd_id.c
    
    In a normal build in src/ ("make", "make all"), ensure that the
    man page (man/radeonhd.man) is consistent with rhd_id.c.
    
    If this has required changing man/radeonhd.man, display an error
    message and abort the current build to notify the developer that
    he needs to add man/radeonhd.man to his next commit.
    
    The next build will always succeed unconditionally.

commit b3717c77854bfe2b48fa220efb21f1491842b107
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 17 16:43:27 2008 +0200

    I2C: Fix typo that caused one DDC line to not work properly.

commit bd14f7350c84e1e40a38defe25d73747d1d195ce
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Mon Jul 14 13:17:53 2008 -0400

    Add proper MCIdle() bits for r6xx/r7xx

commit 72477c9e0142241a35943545d675c6513a3abde8
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 17 15:08:55 2008 +0200

    manpage: Add description on the scaling option.

commit 820187b208ab1ec94a015f07e48abbb381524c89
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Tue Jul 15 13:29:02 2008 -0400

    Fix hangs when setting up the MC
    
    When changing the MC, you need to make sure:
    - engines are idle
    - MC clients (such as crtcs) are disabled

commit 8326ff4fb3d2fff74b11a5391b74866a656380ff
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Jul 12 17:11:42 2008 +0200

    MC: Add a stub for RV770 MCIdle().
    
    So far the R6xx idle check was used for RV770 however this never
    returned TRUE which delayed the Xserver shutdown.

commit c6dcd8d18f0f27a9e92c91e416abf367d9207df0
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Jul 12 11:28:19 2008 +0200

    conntest: Add support for RV770 to rhd_conntest.
    
    The DDC line - PAD mappings have been reworked to be more generic.

commit 204767540c450742cae63f89bff1d6909c8c2b8f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Jul 12 11:27:56 2008 +0200

    I2C: Add DDC read out support for DDC3/4.

commit 49b3782ffe4690c26f45db95098aabcbd25c097a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Jul 12 11:22:38 2008 +0200

    I2C: Read SDA/SCL mapping for RV620 and up from AtomBIOS GPIO Info block.

commit 4b7ce33f71acc3a83361a8088f5435fded0a5e78
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Mon Jul 7 11:43:17 2008 -0400

    Add initial support for RV770
    
    Still no DDC, but the DC i2c regs are the same as the other DCE 3.0
    (RV620, etc.) radeon cards so it shouldn't be too bad.

commit 9b388fb06986d827c45f0e39ff1a669097839d12
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Jul 10 08:49:07 2008 +0200

    DIG: Add support for ATOM_TRANSMITTER_CONFIG_LINKA_B/B_A.
    
    These flags are not used yet by AtomBIOS (ie. they map to
    ATOM_TRANSMITTER_CONFIG_LINKA/ATOM_TRANSMITTER_CONFIG_LINKB).

commit c258c35f1424f293aec5f21292f168fa28c0b201
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jun 24 22:07:53 2008 +0200

    conntest: test more error conditions.

commit 45961a0c0cb77f1a53815aaea87b81d0f520f5bb
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Jun 11 12:17:16 2008 +0200

    sh cmd substitution w/ backticks until git found
    
    git's sh scripts use $(), so if we have detected git we know there is
    a $() capable sh on board somewhere and can use it. Until then, we use
    `` and hope our quoting is a) correct and b) works even on those
    ancient sh implementations which may have problems with $().

commit 31d76dabc7b90c9bfc1548aa7c83e31f7b3563e7
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sat Jul 12 00:10:06 2008 +0200

    Document more names for xorg/util/macros packages

commit fde79f9be02d7d9bb43d538f31ad408c88b75ca4
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sun Jun 8 14:11:34 2008 +0200

    Add XORG_* macro names to docs for easy grepping
    
    Add XORG_MANPAGE_SECTIONS or XORG_RELEASE_VERSION to README section
    on missing m4 macros for easy doc grepping.

commit d44b0def7de979c9b4a674471ad7d5f477399fbe
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sat Jan 19 22:53:46 2008 +0100

    Name drivers dir "driversdir"
    
    Reduce confusion about variables beginning with radeonhd_drv_la.

commit 7b3bd1578d53f62004bf790548b16f1aa810da24
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sun Jun 8 14:12:12 2008 +0200

    Disable unnecessary libtool CXX and F77 checks
    
    Also, check for CC before doing the libtool checks.

commit cd4ed2751ee1cd660789e8c681b8f1043c7edb29
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Mon Jun 16 07:45:04 2008 +0200

    Fix typo in git format-patch instruction

commit c2139d8c7aed128644dcb1481426164ece0b967d
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Jun 25 18:07:56 2008 +0200

    R5xx Accel: another 2DFlush fix...
    
    Apparently we need to use DSTCACHE_CTLSTAT instead of
    RB2D_DSTCACHE_CTLSTAT.

commit dbc7057da204d8c58741a00268a06ee7e722310d
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Jun 24 20:00:01 2008 +0200

    R5xx EXA: Destroy Nulls the XAAInfo... Oops...

commit 5fe51b2ee27394eea5a881f4f05ef060703f611c
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Jun 23 20:25:43 2008 +0200

    r5xx accel: bring 2DFlush and engine initialisation into the r300+ era.

commit 85ae6e1b14d14cd507108a5462acc166d3b2cf06
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Jun 23 18:49:58 2008 +0200

    r5xx accel: move r5xx_2dregs to r5xx_regs.c.

commit 39209b367cb44fb27b28ed0327bfea7db7d88656
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Jun 23 18:40:40 2008 +0200

    rhddump: bail out correctly when no pci-tag is provided.

commit 10d5a41d5b9ef06878852f7a758b0a64ca31e439
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jun 23 10:36:58 2008 +0200

    DAC: Program TV mux only for DACB.

commit 7825387bf7032e0c2210b74ca5fb38c3bc97077f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jun 23 10:33:19 2008 +0200

    CloseScreen: Fix test for AccelMethod.

commit 1eff3e783bf6cab33dad837ec0c4edc07d967f7c
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Jun 22 16:14:21 2008 +0200

    CONNTEST: Added new PCI Ids.

commit 372c5905e877108700656f737dcfee560de06339
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Jun 22 16:13:52 2008 +0200

    ATOMBios: Fix bogus log message.

commit a67a65eb919fac1dd60253535526a08b0cf7570d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Jun 22 11:49:42 2008 +0200

    MC: Add sanity check for IGP FB location.
    
    In some cases the reported direct fb address on IGP seems to be
    bogus. This checks if the reported value is aligned to the VRAM size.

commit c38112c871ae54cb1003c324182abc12b7f70d6a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Jun 22 11:34:27 2008 +0200

    VRAM Fix clamping to aperture.
    
    The PCI aperture and thus the size of the mappable VRAM is only
    256M on the current RadeonHD systems. Thus we need to clamp the
    VRAM size to this.

commit 2bfccf62ac474980441c3b8ff8c6c8489ccecb46
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Jun 22 09:34:22 2008 +0200

    Add more verbose debugging information.

commit 74cb0fc66d47230c5d001e30553db1277ec06994
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Jun 22 09:28:38 2008 +0200

    Free data structures on close screen to avoid memory leak.

commit 47ba86d61f786811244a5a1a5688efab7f30a7d2
Author: George Hartzell <hartzell@delicious.alerce.com>
Date:   Tue Jun 17 21:19:08 2008 +0200

    Add a bit of info to the README to help FreeBSD users who are having  trouble building the driver.

commit 1f65f354cfdda40578b222beb1dd6a48af451735
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jun 17 20:59:29 2008 +0200

    MC Fix build.
    
    Overlooked the '&'. Oops.

commit 357e232a756ba6e39e30e35c41930929ef4c86e5
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jun 17 15:39:11 2008 +0200

    Add test for sideport memory on IGP.
    
    When we have side port memory we must not map K8_FB_LOCATION.

commit 88e0c878478cac7ea9ee5483c88ebc5a52c9129d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jun 17 14:22:21 2008 +0200

    MC Add optiuon to turn off chipset features that have not been verified by ATI.
    
    ATI has requested an option to disable the use of chipset features which have
    not undergone verification by ATI and/or OEMs.
    A line:
      Option "UnverifiedFeatures" "off"
    will disable such features.

commit c6e7550683f05b008f1dc4b180107bbeccf63e36
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jun 17 11:31:58 2008 +0200

    DIG,RS780 Fix test for LVDS/TMDS.
    
    Now TMDS is correctly picked for single/dual DVI/HDMI outputs.
    Thanks to Dipl.Ing. Uwe Bonnes at the Institute for Nuclear Physics
    at Technische Universitaet Darmstadt for providing the RS780
    hardware which led to the discovery of this bug.

commit 6623271db9b89063f749fbdafbd5bf134cd6abec
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jun 17 11:23:18 2008 +0200

    MC,RS780 Set the correct write enable bit for MC write access.

commit ad59f09e3e30f5aafbd29a07f1078c2293847ad6
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jun 10 11:40:29 2008 +0200

    MC: HDP_FB_LOCATION on R5xx is direct MMIO not indirect thru MC.
    
    Alex, thanks for spotting this!

commit 26ccf1177465beb2db5a2c972dd7adc17c3f457b
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Jun 4 21:04:31 2008 +0200

    Added missing radeon_dri.h to Makefile.am

commit de4fbeeb3e5e9802ff8cacd8f283ef3f6279fc3a
Author: David Morrison <dave@bnl.gov>
Date:   Mon Jun 2 16:49:31 2008 +0200

    Fix check for wrong macro in git-version.sh.

commit 8243b2fc7039d8291f5f33c741db54d919464857
Author: David Morrison <dave@bnl.gov>
Date:   Mon Jun 2 16:48:14 2008 +0200

    Don't free BusID before it's used in error message.

commit 90ef4fd7cff7d8d6f77c9e5d864bc4db5c76cf99
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu May 29 15:07:11 2008 +0200

    Fix build process with DRI disabled.

commit ffc4fc1dde616fe7d5deecec206af72ebcb3a4a9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu May 29 11:43:57 2008 +0200

    MC: Mark local functions static.
    
    This was on oversight - oops.

commit 9ce56cd38799a33590fbe46e554efc2519177fe7
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu May 29 11:27:41 2008 +0200

    dri: move ansi-c header inclusion to correct location.

commit 5d9a8cb863f5935ea442310864615dfcaf44a971
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu May 29 01:16:37 2008 +0200

    MC: never reread rhdPtr->FBIntAddress.
    
    The drm never really changes the FB location, just goes around in a circle.
    Actually changing the MC view of the FB would be insanity, as everything
    we do depends on this internal view. We nominated a value in PreInit, and
    then use this consistently.
    
    So:
    * remove the code to repetitively get this nominated value.
    * stop saving the offsets twice by saving them again in DRIFinishScreenInit.
    * tighten up the debug logging surrounding addressing.

commit 5568da86f3afe8241affad09f3c1291e98704e05
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed May 28 01:08:12 2008 +0200

    connector: bad paste in cases of switch in rhdConnectorSynthName.
    
    A bad paste preempted the return value of the previous case statement,
    resulting in Connector->Name becoming NULL for TV type connectors.
    
    Pointed out by Ryan Hope.

commit e98f98718bc69618103b39d24edbe13b0df2f253
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue May 27 23:19:13 2008 +0200

    DRI: fix segfault when out of FB and some further fixes.
    
    * fix segfault when failing to allocate back and depth buffers as
      pScrn->pScreen is not assigned at PreInit time.
      TODO: verify pScrn->pScreen usage at screenInit time, as this will
      break too.
    * drmFD is not assigned yet at PreInit time, so move the opening of the
      drm fd in RHDDRIGetVersion up.
    * clean up messaging of the version checking, fix up broken version checks,
      and remove version members of struct rhdDri.

commit 2203c72cadb91bde4e6e60f6db8a7047dea26172
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon May 26 22:43:01 2008 +0200

    dri: Big function renaming.
    
    Renamed all X driver (not DRI driver) related stuff from RADEON to RHD.
    Hopefully avoids name space clashes if both drivers are loaded.
    Also nuked unnecessary RADEONCardType.

commit 8288c74e53695714f6ba4731a36b157912fcadf3
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon May 26 22:20:39 2008 +0200

    Set FbIntAddress after DRM init + after EnterVT again.
    
    DRM might change the card's internal view of the memory map.

commit ed2a17eda9fc9afae292d4d00beff0aa05226cc9
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon May 26 19:39:37 2008 +0200

    Updated copyrights + authorship
    
    rhd_dri.h is only driver interface now.
    If I forgot any major contributor to _dri.c, let me know.

commit 2c2b2078f64858531c519a4e5b376e020bef80be
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon May 26 19:25:06 2008 +0200

    dri: Moved DRI driver private data structs back to radeon_dri.h
    
    Same file as in ati driver and mesa DRI radeon driver, let's make it easier to
    sync them later on.
    Moved other dri private data to _dri.c.
    Nuked more unnecessary functions and function calls.
    Reordered header in _dri.c.

commit ebdf6320bc1cd32d45b036d678088e9c2bb15ca2
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon May 26 18:39:37 2008 +0200

    dri: Nuked (dysfunctional) page flipping code
    
    Also removed all broken back-to-front buffer blitting code that relied on back
    buffer having the same stride as the front buffer.
    Also cleanup of comments.

commit 74a606b067799c9d1e0ec1e65e812c40d302e033
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon May 26 17:07:30 2008 +0200

    dri: Incomplete RADEONAdjustMemMapRegisters replacement.
    
    Doesn't save/restore GART pointers yet.

commit 273176a39eb165bca820710f9de72b5130fd4e57
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon May 19 20:35:45 2008 +0200

    dri: Fix updated RADEONInitVisualConfigs.
    
    GLX_NONE is not 0...

commit 8f223b218a5a4f50340fd872234b6fd2fec9e762
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri May 16 22:40:34 2008 +0200

    dri: errno is wrapped in xf86_ansic, so drm returns are not compatible.

commit 33436e3cfde7f1861da10a5326ae43880875775e
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri May 16 21:29:20 2008 +0200

    dri: More cleanup
    
    Killed commented code that won't be revived (parameters that don't have to be
    user changeable), killed wrong comments, moved static function declarations to
    .c file.

commit 85c4d24266940cd04a588b2a0d9457c6396d22a2
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri May 16 21:12:25 2008 +0200

    dri: Implement DRM cleanup, LeaveVT, EnterVT support.
    
    Should remove most suspend & resume issues. Textures are still broken
    sometimes. Gart backup is implemented, but untested.
    Some additional cleanup.

commit 2ecfc08f82298bf710d4d058f366e895c0d2b2ee
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu May 15 22:31:48 2008 +0200

    dri: Cleanup of RADEONInitVisualConfigs().
    
    Nuked 100 lines without major change of functionality.

commit da38bdc2d3bed8d27827ed2585a643d43645b571
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu May 15 22:26:34 2008 +0200

    dri: Add some initial code for r6xx initialization.
    
    No DRM for r6xx available yet -> no DRI yet.

commit 540eae211ee659c21c7a55a44dc1fb62333b9c63
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu May 15 22:00:26 2008 +0200

    dri: Big cleanup (1)
    
    Nuke unnecessary code, nuked code that won't work for r6xx and up, or should
    be remade due to ugliness.

commit ec54de7e748057084842ec3f553f3ec25503e129
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu May 15 18:24:48 2008 +0200

    dri: Remove initialization of deprecated drm elements.

commit 1a21cb206621f47d02ecf565cade3232acf2668f
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu May 8 18:54:27 2008 +0200

    dri: Fix framebuffer reference for drm.
    
    Fixes texture corruptions.

commit c7e889dd45786bae9e6c21607dd48a04e4dfc117
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu May 8 15:03:21 2008 +0200

    dri: Working DRI support for RS690
    
    DRI is not enabled by default, because this unconditionally disables 2D
    acceleration ATM.
    Fixed CP startup, 2D engine init, minor typo with major implications.
    Moved PCIe GART table at end of graphics aperture, because DRM seems to expect
    that:
      /* Initialize the memory controller. With new memory map, the fb location
       * is not changed, it should have been properly initialized already. Part
       * of the problem is that the code below is bogus, assuming the GART is
       * always appended to the fb which is not necessarily the case */
    
    Issue remaining:
    - Watermarks seem to be set wrong, display glitches when 3D is rendering.
    - MoveWindow not implemented. Considered unnecessary by me due to OpenGL specs.
    - Page Flipping not implemented yet.
    - Not working with acceleration yet.
    - Registers not saved/restored, to be done for Save/Restore to work.
    - Extreme ugliness of code.
    - Untested on other GPUs, but should(!) work fine on all r5xx with latest Mesa.

commit 597e4e15051bb0d306c465d8c98fa8241ef94a56
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri May 2 11:56:32 2008 +0200

    dri: Fix obvious segfaults + requirements for RS690.
    
    This runs fine (Option "Accelmethod" "shadowfb"), but DRI doesn't exactly
    work yet.

commit 9fe95479f35b9de3f219031eb143a8a3005bc65f
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon May 26 21:27:53 2008 +0200

    Set (and use) MMIOPCIAddress and FbPCIAddress.

commit cf783a25db467507ed7c9cd1f6791a16e2c9097f
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon May 26 21:09:36 2008 +0200

    dri: Massive code update. Compiles, but untested.
    
    DRI path is switched off by default. Use Option "DRI" to enable.
    
    rhd_dri.[ch]:
    Added more code from radeon driver from different source files.
    Rewrote quite some of PreInit/ScreenInit.
    Added code for buffer allocation.
    Moved internal datastructure rhdDri to rhd_dri.c.
    Adapted all fields to those used in radeonhd, if already present.
    Commented out unnecessary code.
    Commented out code for previous chipsets and old drm modules.
    Commented out code not necessary for first iteration (flipping, 2d accel...).
    
    r5xx_xaa.c:
    Added temporary workaround for addressing backbuffer in rhd_dri.c. Probably
    doesn't even work correctly.
    
    rhd.h, rhd_driver.c:
    Keep EntityInfoPtr around for dri.
    Call DRI initialization functions.

commit 4aa396849827fea18958c6b5454e43db482a3f31
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Mar 31 18:27:03 2008 +0200

    dri: First compilable version
    
    DOES NOT WORK YET! No interface to driver etc.

commit 011877b78ed10c8b99ae403f52cf7cc83b74d130
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon May 26 20:31:16 2008 +0200

    dri: Initial commit of source files from radeon driver.
    
    Unaltered, doesn't compile yet.

commit c7f0a64776b0d2eb058230a194937fd66253c8d8
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Apr 1 19:24:34 2008 +0200

    Added trivial memory manager.

commit 0aae98e50d9a0022f22576af77b3615b37a6db74
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Feb 26 12:59:58 2008 +0100

    Spelling fix.

commit fcb4fef67c9937c2349a9456743e4bf7c6d7f4cf
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue May 27 15:11:01 2008 +0200

    PLL: On M54 do not re-enable Spread Spectrum.
    
    This fixes the flickering panel on a 1400x1050 t60, and is likely also
    the cause of the cycling colours reported on other M54s.

commit 4f3d627795ab4532850de1709d04e5005c6be59c
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue May 27 01:07:51 2008 +0200

    Access correct NB registers for MC index/data on RS780.
    
    This code still needs testing therefore it's not enabled, yet.

commit 9d9ac5d6f06c3b0aa35153dc577a44a824a64d91
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed May 14 21:54:13 2008 +0200

    Supply a  pScrn->memPhysBase address.

commit 9c6fd8b2a55d63e9b6d695415945b354a0c901d2
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon May 26 21:25:37 2008 +0200

    Under RandR print modeline of mode we scale from when verbosity > 2.

commit 3d2c15e8269bb94b3770690eb6c0f8e78c91bfb6
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon May 26 19:56:13 2008 +0200

    Map FB memory directly on RS780.

commit 83023fc93df4039eea73cbce1054147cb043214e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon May 26 19:16:19 2008 +0200

    Delete spurious leftovers from rebasing scaler support.

commit 71de7a704d0b8dadadba437404c223556841ef41
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon May 26 19:05:43 2008 +0200

    Consolidate different mode validation functions.
    
    For the ScaledTo mode don't validate scaling (which will be done
    later once the scaled from mode is known) and don't validate
    against the FB (as this depends on the mode that determines the
    resolution).

commit f357819fcc0edc64c9090380c3903e164f0b4d4c
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu May 15 09:21:05 2008 +0200

    Always assume the rhdOutput struct in rhdRROutputModeFixup() has its CRTC member set.

commit f36d8b6a115083bc2280f861a47c0d132fa86d27
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri May 16 17:01:29 2008 +0200

    Fix heuristic for RR mode validation to find out about scaled mode.
    
    Also always attach scaledTo mode to rhd CRTC struct so we don't need to
    pass it around. The scaledTo mode is only used when the crtc specific
    scaling validation is available. Thus we can attach it there.
    
    Move collection of ScaledToMode to rhdRROutputGetModes(). This way the
    scaled to mode will be redetermined whenever a the output is reprobed.

commit d09223bdda031503fa3ea04324fe85bf4cb73478
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri May 16 15:38:58 2008 +0200

    Make sure to use the right mode for validation.
    
    There was a mix up of scaledFrom and scaledTo modes in the validation routines.

commit 7fd3760ec6144dd3d5c2e69d497454d949b48b7c
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun May 4 15:03:32 2008 +0200

    Move mode validation after scaler validation.
    
    This groups all validations that deal with actual timing parameters
    together. These validations affect the mode whose timing parameters are
    used ie the one that is set for the display.
    All validations which take place before scaler validation deal with
    fb parameters, thus deal with the mode which we scale from.
    In the situation where we use scaling the display mode is validated
    once and before any other mode list validation takes place.
    When the mode list is validated only the modes from which we scale
    from are only validated against fb and the scaler as those modes have
    no influence on the actual timing.

commit cb1f495c13433a4670758c3621da07eea4521965
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun May 4 14:07:50 2008 +0200

    Changed type of 'Type' variable for scaling from CARD32 to enum rhdCrtcScaleType.
    
    The scaling types used to be defines however those are dealt with entirely by
    a dump preprocessor. Enums have the benefit that they enjoy full lexical and
    sematic checking by the compiler. A lot of common errors can be caught and
    avoided that way.

commit 2d7834d22d894cc349acd76755041a952b7502a7
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun May 4 14:11:09 2008 +0200

    Add support for keeping the aspect ratio when scaling.

commit fcaa97bed09dfa9d99e453cd6581dcf061337099
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat May 3 11:17:51 2008 +0200

    More naming convention fixes: nativeMode -> NativeMode.

commit 390b4fd42a23b67c0cf97acba6da7b066c2b156c
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat May 3 10:45:32 2008 +0200

    Adhere to naming conventions: fix naming of overscan struct.

commit e7e99ad3025c255cf41fc108448b00f3302a695c
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat May 3 10:39:51 2008 +0200

    Renamed ScaledMode to ScaledToMode.
    
    The name change should make clear that this is the mode
    we scale to ie the mode set on the CRTC (native mode of
    the display).

commit c11724baa40a424af85db7e5f368a729fb0ea9d4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat May 3 10:04:53 2008 +0200

    Don't add CRTC overscan to Dx_MODE overscan.
    
    Dx_MODE overscan is for determining the destination window for scaling.
    It seems to be wrong to include a display overscan into this calculation.

commit 13146498655a0e7e86eff4e63d5853b04d865a20
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat May 3 10:02:39 2008 +0200

    Fix non-AtomBIOS based scaling.

commit e0955028bea078dc3928e2896a03070402ab091b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu May 1 19:24:00 2008 +0200

    Added more validations for modes that we scale from.
    
    Modes we scale from need to be validated against the FB and the scaler.
    This commit also clarifies the names of the validation funcitons.

commit ac6b2c7829c9f46721c8a43246cd69e32a67e9ae
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu May 1 13:22:09 2008 +0200

    Make scale type configurable thru an option.

commit c6d8f4a4b215bdf4cdc012bec227a44f9d77b93e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu May 1 12:59:11 2008 +0200

    Add validation for overscan.
    
    Although overscan area ranges on radeonHD are huge we should check if
    they are not exceeded.

commit c90f318d1f0c69ec743db08a61d25b00adadb0a3
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu May 1 17:59:43 2008 +0200

    Move validation of scaled mode to RandrPreInit().
    
    The scaled mode needs to be validated before we use it for the
    first time. Unfortunately at this stage we cannot validate against
    the CRTC yet.
    Unfortunately when we can do this it's already too late.

commit 21f0125de2860a3ef2b2c890ab914f33c9014850
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu May 1 09:20:22 2008 +0200

    Move viewport size validation to the scaler validation callback.
    
    We don't validate the scaled up/down mode against the DxModeValid()
    as non of its timing parameters are used.
    Viewport size (ie H/VDisplay) are not really considered timing parameters.

commit 6c3c549e0b21df3e86241d4bfb91e64d14d963e6
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu May 1 09:02:39 2008 +0200

    Add a per monitor native mode.
    
    The native mode should be the mode that coincides with the
    native resolution of a monitor. For an LCD this would be
    the number of horizontal and vertical pixel.
    On panels we assume it's either the higest resolution in
    an EDID block or the panel mode supplied by AtomBIOS.
    
    For any other monitor that can do DDC it's the first detailed
    timing if the monitor has the preferred mode flag bit set.

commit 605ad46ca7aa057ec7e473871ed1ac1e237074e4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu May 1 08:59:42 2008 +0200

    'Tweak' frame rate of synthesized mode.
    
    Chances are that the native mode of a display is a CVT mode with 60 Hz.
    This will make RandR share the CRTC which is undesireable for scaling.
    This we 'tweak' the frequency to be slightly higher.
    Don't tell me it's ugly - I know this already.

commit 915b74bd18aef28de7ce3e415e2c158c494653ba
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu May 1 08:31:44 2008 +0200

    Move RHDRRMonitorInit() to rhd_randr.c.
    
    This function isn't called from anywhere else, also it doesn't
    reference anything private to rhd_monitor.c.

commit 4399b42abb94b559c42116ef55ed0bb9ff8a6462
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu May 1 08:27:20 2008 +0200

    Use AtomBIOS for scaling when available.

commit b86fb6c08f03afd6d3f14ac8c87bfdad2e5965a3
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu May 1 08:25:32 2008 +0200

    Set RandR scale mode to expand not center.

commit dac9a8d86fce70d139524a6a0f6002751f27ccaf
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu May 1 08:22:14 2008 +0200

    Roll up loop.
    
    Let the compiler unroll the loop. Once the code becomes longer unrolled
    loops become messy, so let the compiler do this for you.

commit f5f16354574659304553faf392337b05f8cf81b1
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu May 1 08:12:23 2008 +0200

    Fix overscan calculation.
    
    Woops, the order of subtraction was wrong.

commit 10c4cf9de915fa0ecefe099be56e74e8c0ad4ab2
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Apr 30 14:11:53 2008 +0200

    Attempt to fail modes if scaled mode is invalid.
    
    Unfortunately it has no effect if we fail a mode in rhdRROutputModeFixup().
    Instead we need to validate this mode earlier (before rhdRROutputModeValid()
    is called and add it to the rhdRandrOutputRec. From there we can pick it
    to create the timing mode in rhdRROutputModeFixup() and pass it as an
    additional argument to RHDRRModeFixup().

commit 1299136fe6e8865942570560b3571bdbc4a9805a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Apr 30 13:34:27 2008 +0200

    Simplify and consolidate mode scaling.
    
    This makes handling and validation of scaled modes less intrusive:
    - scaling isn't directly a monitor property. In principle we can
      scale for any device. Thus we create a central policy function
      that decides based on monitor and connector information (currently).
    - In the non-RandR case we use the ScaledMode entry in the Crtc structure
      to identify if a mode is scaled or not. This value of this entry depends
      on the policy and the availability of a valid native resolution mode.
      The ScaledMode is obtained and validated before any other mode validation
      takes place. This is part of the layout selection process.
      If a scaledMode is available we only validate other modes against this
      one in the scaler validation as this mode controls the full timing.
    - In the RandR case we don't have access to the full mode list. Thus
      we synthesize modes from well known resolutions.
      Our outputFixup() code handles the validation much the same way
      as it is done in the non-RandR case.

commit b91804cde474cd87dc5686474b673132b3d1b83a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Apr 29 23:36:19 2008 +0200

    Add scaler support for the Non-RandR case.
    
    ATM this is a minimal support. The modes for the two CRTCs are not handled separately.

commit 70c4d610518d566561c25b5e049caba2a654a06c
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Apr 29 18:04:56 2008 +0200

    Integrate mode scaling for fixed size displays into RandR.

commit 52d38428074f7704ffad94d8181010fa810e6d37
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Apr 29 17:57:25 2008 +0200

    Fix ScalerSet to calculate overscan correctly.
    
    hould one of the target dimensions be greater than the size of the native
    mode this code automatically picks scaling (instead of centering).

commit a3b6e284aefaa05e421304c28f7c30c079a3a4fa
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Apr 29 17:55:27 2008 +0200

    Add syntesized CVT modes to mode list for scaling.
    
    For RandR we need to synthesize modes for scaling as there is no way
    to obtain the full mode pool.
    We take a list of well known display resolutions and generate CVT
    mode lines from them. This is mainly done so that those modes can
    pass validation as we only need HDisplay and VDisplay from these.

commit 1954d0461fc75ad212111141c428f8c00e471954
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Apr 29 17:51:52 2008 +0200

    Add support for scaled video modes.
    
    Here mode validation will be done differently depending if we validate
    an unscaled or a mode that is to be scaled.
    From the mode that is to be scaled to a different display resolution we
    only need the viewport size, thus we only need to validate it against the
    scaler.
    Finding the true display mode to validate against is a little trickier:
    we look for the monitor that is to be attached and pick the preferred
    mode.

commit b6b1c2805b590ec7d78072bffd03460cde0dbb03
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed May 21 09:41:33 2008 +0200

    Restructured MC: introducing callbacks.

commit c0cee6672222547c352fbf628282ae46249ce826
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon May 19 19:53:50 2008 +0200

    Set coherent mode for TMDS always off.
    
    Tests have shown that this is more reliable than the ATI recommended
    'Coherent' mode for TMDS.
    For panels assume that the BIOS has set the value correctly for now.

commit 33e7f5948fdc9e06f0a57ac91fdb3d44772473e9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat May 17 20:42:20 2008 +0200

    Consolidate RV620DACSet().

commit ae4898c210f0df1102ce4fec29cb1598c6de6486
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri May 16 15:15:05 2008 +0200

    Under RandR print modeline of mode that's programmed to CRTC when verbosity > 2.

commit 2535f8e758995dca6b1b289d400ead99d1fa82bd
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri May 2 22:08:09 2008 +0200

    Fix wrong calculation in connector code for PCIEPHY connectors.

commit 75163e551b5febcab96ff7244c35564d53cb4445
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri May 2 14:45:42 2008 +0200

    Add full list of RS780 PCI device IDs.

commit 27f5eb6e7e7127bf1dd25f6cb0ec17ddb8c90f94
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Apr 16 10:55:23 2008 +0200

    Treat RS780 MC like R6xx for now.

commit 034ef06c807f9e5b380de60a844de1d242f9106e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Apr 16 10:51:19 2008 +0200

    Add MC support for RS780.

commit bbeaa03df94532733ba2d9b15e81e4c32617f508
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Apr 10 19:54:54 2008 +0200

    Add RS780 chipset family.

commit dabe895ff402b262fe9078b6c2a8cc2a5dfaa504
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Apr 1 10:59:23 2008 +0200

    Replace dummys with real register names for EXT_DIFF_POST_DIV_CNTL registers.

commit 4889ff0d70015dbc5f27ee252b5ec553f11b2edc
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Mar 30 15:59:53 2008 +0200

    Explicitely set values recommened for TMDS and LVDS.

commit 48eb1c3892fcf69c619ae4b7c44952fdb86c62b0
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Mar 29 15:15:56 2008 +0100

    Add unknown registers 0x420 and 0x424.

commit 28666ca204eced879c860127d42a6a87dc4bde7d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Apr 8 10:26:24 2008 +0200

    Add support for LVDS for LVTMA transmitter on RS780.

commit 67501b51059e999d27d61fd59cabe4ae1b3e8dcf
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Mar 29 14:23:06 2008 +0100

    Fixes to AtomBIOS connector table parsing for PCIEPHY.

commit 111a59ad20d3cf98fec47d4b57a46cb4673dae6f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Mar 27 20:05:36 2008 +0100

    Adding actual PCI IDs for RS780.

commit 077933cf1d30b1856d8161378394b988f1cbb8c2
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Mar 27 15:20:48 2008 +0100

    Adding PCIEPHY support to the DIG Transmitter control functions.

commit 512433fc1d1172ba34f21376d1110d0ebb9cf430
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Mar 27 09:46:02 2008 +0100

    Add support for PCIEPHY to AtomBIOS DIG1TransmitterControl interface.

commit c0b0fcc3650be0fad310d361fade0e130ca179bd
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Mar 27 09:31:32 2008 +0100

    Add query for PCIE lane query from IntegragedSystemInfo V2.

commit 3e7f7a3b6187dca9634f5b3bafd96c2fcb42185b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Mar 27 08:31:35 2008 +0100

    Add some debug info to PCIE connector mapping.

commit e11f6b966b9b5bbc85baed154df4906469881ba3
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Mar 27 08:16:45 2008 +0100

    Add AtomBIOS support for PCIE connectors.
    
    PCIE connectors have their real connector type sepcified in the
    IntegratedSystremInfo table. Obtain this information and return it.

commit 36e61e37290da1447f347a13642cc771b2f49ab2
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Mar 27 07:38:46 2008 +0100

    Add PCIE connector type.

commit 29535ec32ccbe37f63a0dfc294e44622e70b703c
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed May 21 15:56:13 2008 +0200

    Add more verbose debugging information about DDC device probing.

commit 566ba690de22f60059e9aee1b6b942088b3b6f01
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu May 22 03:01:04 2008 +0200

    PLLs: Better fix for PLL ownership.
    
    Now we test the current owner of the given CRTC, and then temporarily
    enable it when needs be so a switch can take effect.

commit d3a6e2cd865e54f0f9669608ae06907ac2e46e4d
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue May 20 22:03:12 2008 +0200

    TMDSA: electrical values for an M76.

commit 42ebfd7ebfa95c3ebd55662af4fa3bc23572962c
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue May 20 16:54:55 2008 +0200

    Fix a double free.
    
    rout->Connector->EDID is already freed by OutputSetEDID(). NULL it so that
    RHDMonitorDestroy() doesn't free it again.

commit c8dc1ebeb64a4f40147872a87c4281a521d0ecbd
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue May 20 10:36:18 2008 +0200

    Shift grey level data read from AtomBIOS.

commit 64d64748fd9c70a18b05ea93252990fc8d1d854b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon May 19 13:35:39 2008 +0200

    Fix connector name when it is obvious that it's not DVI but VGA.
    
    This fix applies the same heuristic as in commit 3358d97 to the
    connector name synthetization. For connector tables from the
    supported device list this has already been taken care of so this
    is not strictly necessary. It's in here more as a save guard.

commit 78829638d387c940d89c8e2abc33a49cc40cf1bb
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon May 19 13:31:21 2008 +0200

    Add heuristic to fix connector information when AtomBIOS wrongfully lists a VGA as DVI.
    
    AtomBIOS supported device lists sometimes list a VGA connector as a DVI. If we
    find a DVI connector with only one output attached, if this output is a DAC
    and there is no HDP we assume that we are dealing with a VGA connector.

commit 4adbfa3dfcc10a5d526e41dfcc607fb170a6cac9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat May 17 20:29:35 2008 +0200

    Don't probe for TV on DACA for R5xx/R6xx.
    
    DAC A on R5/6xx doesn't seem to have a TV mode. The docs for RV620/635
    are less clear about this. So this still needs to be checked.

commit 95665fac7bcc438f76a1149a1dbed2ced92de749
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon May 19 22:40:46 2008 +0200

    RandR: Feed a copy of Monitor->Modes into RandR.
    
    Monitor->Modes should not be altered during the life of a Monitor.
    RandR can hack away as much as it likes on the copy :)

commit 66b29a60af367640f476eca1c3842baae7cb235d
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon May 19 22:38:05 2008 +0200

    Fix warnings with gcc 4.3.1 prerelease.
    
    * inverse the direction of a counter in rhd_modes to satisfy gcc.
    * one trivial trailing , in an enum in rhd_regs.h

commit d16fe154346d8341bf5bfd686173b41cf0b5a2b5
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon May 19 15:13:24 2008 +0200

    RandR Compat code: print strings for mode status.

commit 2ea7cdd78a5ebc80754be2f1a4d0700d2b2dfb2d
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri May 16 22:35:32 2008 +0200

    R5xx TMDSA/LVTMA: fix flickering/dark monitors.
    
    * Coherent mode is always disabled per default in hardware, follow
      this strategy in our driver.
    * Fix the TMDSA macro control value for R600.

commit b96994068c26b68b96898227966c7213710dbf56
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri May 16 20:55:47 2008 +0200

    ForceReduced: Propagate option to default and configured monitors as well.

commit 93e391b7bd660cdca96b18c03e062a93be080319
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri May 16 20:17:34 2008 +0200

    RHDPreInit: Do not clobber ret boolean used for RHDPreInit return.
    
    I broke this in oktober already :)

commit 31e76905940dd785edd91944851b91ef6aa3a79b
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu May 15 15:00:11 2008 +0200

    PLL: Fix pll to crtc mapping.
    
    The multiplexer for this lives in the pll blocks and changes in pll to crtc
    mapping only take effect when the relevant pll is actually enabled.
    
    This fixes the long standing bug where attaching an external monitor to a
    laptop meant that the panel wouldn't be properly reinitialised when returning
    to VT.

commit 65f64ce7601b7005fef57ca887c3c3fb47011a67
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu May 15 01:26:03 2008 +0200

    R5/6 DACSet: fix Register offset + DACB_CONTROL1.
    
    Also, clear up superfluous variables and variable usage.

commit 05139e81316c8b8ed7fb673d309b824ca97255f1
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed May 14 19:16:40 2008 +0200

    Fix to find the UNIPHYB encoder.
    
    Object ID enumeration starts with 1 not 0.

commit f3ed704822b104576a40c6e4d5ca81cb03f84867
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed May 14 11:45:17 2008 +0200

    Add support for FB_LOCATION and MC idle test for RS600, fix issues with RS690.

commit 0f0f6f5be2f7f04c020a241938c6947b0b916ac6
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue May 6 14:52:53 2008 +0200

    On IGP map FB directly.

commit 867c8efabd28a182a84e292ee7ae35c821785940
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Apr 30 23:41:59 2008 +0200

    RV620+: Fix PLL restore.
    
    * A disabled PLL used to influence the enabled PLL when it was not
      restored properly.
    * DCCG restore handling was not in touch with current reality, and only
      thought about the future and therefor hardlocked the machine when
      specifically triggered. DCCG is painful, whatever it is.

commit 6af0e9d3df8eaa06ed6af801d257c30343d03a1d
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Apr 30 20:35:48 2008 +0200

    Some random pedantic cleanups: 2 compiler warnings and a gitignore addition.

commit 58b4ff656c61c6f25d166b87ce30674ede7fc32e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Apr 29 21:43:34 2008 +0200

    Fixed compiler warnings.

commit 45fdec79e523f3f9637c35a3d84c1fd9e61b9b21
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Apr 29 17:50:00 2008 +0200

    R5xx TMDSA: Power: don't clobber UNKNOWN when going in RESET.

commit c2a844ca969f21e3592ce7548eec57f2f333ac55
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Apr 29 17:34:39 2008 +0200

    LVTMA: always use IDCLK for transmitter.
    
    Fixes higher resolution modes on the R5xx/6xx style LVTMA block.

commit 9d48991138ebc1592330d72d2b181017d78459b6
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Apr 29 10:33:31 2008 +0200

    Add proper fallbacks for I2C timing if clock information from AtomBIOS isn't available.

commit 71ec0c9093209c0ffacd7a7bd3d7f054c8401673
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Apr 28 23:44:17 2008 +0200

    Limit mapped fb size to available VRAM, clamp VGA save/restore to mapped fb size.

commit 0697b366bd3c5ac7bfffdf1128af57e0baa163a0
Author: Julien Cristau <jcristau@debian.org>
Date:   Mon Apr 28 20:32:46 2008 +0200

    Add a test for __GLIBC__ to CD_Common_Types.h.
    
    Atombios redefines the standard types but the definitions conflict
    with the ones from glibc (causes build failures on GNU/Hurd and GNU/kFreeBSD).

commit 19e4011e1f6d3859e476ebed50b07d99f0aa87fe
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Apr 17 07:51:49 2008 +0200

    Add connector table for 0x7183, 0x1092, 0x3000.
    
    This connector table is added to accomodate a user who
    cannot read the BIOS on an Alpha EV68.
    It is only used if USE_ID_CONNECTORS is defined.

commit e3d1a63a06e31855aba0cc7209a9c3a7c5ab8038
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Apr 28 20:17:09 2008 +0200

    Fix flickering thru DPMS on TMDSA, improve debug messages for output
    Power().
    
    When the output is not in SHUTDOWN state no full PLL reset and data
    synchronization is required. Track state of output to perfrom those
    only when necessary.
    Bugzilla #15718, thanks to Veli-Jussi Raitila for discovering and
    testing the fix.

commit 686fd33476e8b608b44f56ab9d9d809800f28142
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Apr 26 10:10:52 2008 +0200

    Add fallback to rhd_conntest to work when AtomBIOS isn't available.

commit 38e7a91274cada35ceace9fe7b52aedeadb65c23
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Apr 24 14:48:33 2008 +0200

    Add better debugging output for VGASave().

commit 6f34607b6b1b0d700c68f8b19de4445a547c34a4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Apr 21 19:47:27 2008 +0200

    Fix mapping flags for FB when using libpciaccess.
    
    Setting the map range to both WC and cachable doesn't make sense.
    The cachable flag which has precedence causes stability problems
    on VT switch.
    Also more reading of FbIntAddress to the MC setup code.

commit 10ebfdbc98d00fb4aaafcc79c5aef43846d96ef7
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Apr 21 19:41:30 2008 +0200

    Adapt to API changes in current upstream X.

commit db8aa081c38dd367ef8f72da5c15eed58d9eaba0
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Apr 21 19:40:56 2008 +0200

    Add register write to dumper.

commit 0dd39c8247fa5ebc42f6b6d31c80c491c109a265
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Apr 18 17:51:27 2008 +0200

    Clamp the size of VGA memory to read to not read past the end of the framebuffer.

commit 0442f2d5b2e23648b51bbf659f5bcd874b2b438a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Apr 18 15:13:49 2008 +0200

    Don't use chipset based backlight control when not enabled at startup.

commit df83b56ae00ef7cba750ff63cef27080c3ad24ff
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Apr 17 15:48:37 2008 +0200

    Improve DAC load detection.
    
    Some timeouts in the load detection code were wrong.
    Increasing them gives more reliable results.
    Also adjusting some electrical values.

commit 420a4b109142d1e3dc8b0e7cfcaf9a29005f0d1b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Apr 17 14:36:41 2008 +0200

    Fix backlight and coherent property for RandR 1.3.

commit 84bf6a2a5d60ba31e60d432cf03faa0e2f8baf79
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Apr 17 07:49:12 2008 +0200

    Remove debugging code that was accidentally committed.

commit 0ffd41e0840b437197d27451ba48a29d3808b77d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Apr 16 22:31:11 2008 +0200

    Remove call to alloca().
    
    alloca() is very system dependent. Using it here is not worth the trouble.

commit bdea7eba152e0b2b5d4f4b24a4ad9d66e57c1eed
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Apr 16 18:46:15 2008 +0200

    Fix up function name for RHDReadPCIBios().
    
    When RHDReadPCIBios() was consolidated so it was able to handle
    both R5xx and R6xx the function name didn't get fixed. This would
    cause a problem when this function gets called for real - which in
    most cases is only for unPOSTed cards.

commit b6bec02e9aef35a744c9a01b6880bd438456c129
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Apr 16 15:39:24 2008 +0200

    Replace reverse engineered PCI BIOS ROM enable code for R6xx.

commit e65e6c0013d0e660777d707949173b053e1c7973
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Apr 16 15:38:20 2008 +0200

    Fall back to reading the PCI VBIOS when reading from legacy location fails.

commit cf87d316a6fccd25b983a1be8be554e39ee1bcf9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Apr 16 15:31:43 2008 +0200

    Fix a segfault in the DIG block.
    
    The 'Connector' element of the output structure isn't filled in during
    output init.
    This problem affected RV620/635.

commit b6be09ff1de86c8014d7605d7b6c93937252ea80
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Apr 13 10:47:26 2008 +0200

    Save/Restore backlight controls, obtain initial brightness from text mode.
    
    The text mode BL state gets checked and is used for the initial BL brightness
    value. Furthermore the text mode BL value gets restored on VT switch and exit.
    This patch olso contains some minor cleanup to the BL code.

commit 3893c6212f0bc4612557740ed3fecfe07a1a0a21
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Apr 11 22:24:12 2008 +0200

    Add backlight support to RV620/635 DIG transmitter blocks.

commit 5fccf4207487a8ab506ab604fd44e25c679a9add
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Apr 13 16:32:21 2008 +0200

    Add support for coherent mode for digital outputs to rhd_randr.c.

commit d401bf8fafacd093f1601b7f9da86fb94f040c3b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Apr 13 16:31:06 2008 +0200

    Add 'coherent' property for DIG (UNIPHY/LVTMA), R5/6xx LVTMA and TMDSA.

commit 54a74878960805a26e315e05cc6eae4c78757cc6
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Apr 10 08:56:50 2008 +0200

    Change backlight controls to new property model.

commit 01e9dd1db8c5edc7e0c6b62e2beeca0ee154d5eb
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Apr 10 09:05:27 2008 +0200

    Add general output property callback.
    
    We will most likely have more properties to deal with on outputs.
    Therefore create a general callback.

commit a751128b97c15968e9d108afab2b684c24e68afc
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Apr 10 08:13:34 2008 +0200

    Backlight control: change some debugging output to only show in verbose log.
    
    Also changed the name of LVDSBacklight() to LVDSGetBacklight().

commit b7a2fa2550e41ff0c59d517d5cbc3042a5fa83ff
Author: Krisztian Loki <krisztian.loki@freemail.hu>
Date:   Tue Apr 8 10:44:16 2008 +0200

    Add support to control backlight brightness thru RandR properties.

commit e4d846c90fc1c04820f2d1a84d3776fb6924b739
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Apr 16 10:36:57 2008 +0200

    Include alloca.h in rhd_conntest.c, fix messages in rhd_dump.

commit 725ea553434cc409ec544de2b6e1a0328a47b276
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 24 18:09:02 2008 +0100

    Reorder TMDSA setup/power on code. Improve TMDS PLL reset.

commit bf267c116238693fb18348e2ef2424b5d09957c3
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Apr 15 09:16:46 2008 +0200

    Add connector quirk table for Visiontek C1550.
    
    Thanks to Ben Taylor.

commit a60e01c89a92ae42faabf9e67a0824678db69a67
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Apr 15 09:15:30 2008 +0200

    Fixed name "RHD_DDC_NONE" printed out to log message.

commit 6a19b51910326153aedc2deb8ccb2a457d3f70f0
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Apr 10 07:42:21 2008 +0200

    Add missing support for HDP_FB_BASE on r5xx and rs690.

commit 761940fde7fef72bff18a8b8e840540452cf675a
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Apr 14 17:21:48 2008 +0200

    Bump to 1.2.1. Add changes to README.

commit a898e097ca4ae26db1d0f71144df7a580f0612bd
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Apr 12 17:57:46 2008 +0200

    Add build rule for rhd_dump to Imakefile for backward compatibility.

commit e54fda75f2fcc141825d928cf71e23dce23ae095
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Sun Apr 13 11:35:31 2008 +0200

    Added two new RV670 devices. Removed unsupported M86 device.
    
    New RV670 devices added: HD 3960, FireStream 9170. Unsupported
    M86 device removed: HD3650.

commit 19c048d38af6c96182fee7857c3e8a272f77c800
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Apr 11 14:48:21 2008 +0200

    Fix broken assert() in rhd_id.c. Use ASSERT() instead of assert() everywhere.

commit 9d131f9035b3b0ff7755dda708e16326aa156e83
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Apr 10 21:20:42 2008 +0200

    Bump to 1.2.0. Add changes to README.

commit 7560240b9935d86570be0ea46f85a6f5c9630cf9
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Apr 10 21:20:09 2008 +0200

    Update + fix supported chips list, both in source and manpage.

commit 595050167523f0121b3bf0efeed42e6ca403d1a4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Apr 10 07:41:07 2008 +0200

    Add a very basic register dump utility.

commit b0563cbde992594f5d66d308c1ef5fdb7b110a7e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Apr 10 20:34:19 2008 +0200

    Add a very basic register dump utility.

commit 89c10062a3207c1f194a6a610684da2c1a40ef66
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Apr 10 07:40:26 2008 +0200

    Minor cleanups.

commit bb652740fc287eba2421e9bbc048f004549cb059
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Apr 10 15:29:14 2008 +0200

    git_version scripts: add licensing information.

commit 60dc7e0453167b956a1fb0cc9db89aa22196b1cf
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Apr 7 23:23:22 2008 +0200

    Add a hard coded connector table for an MSI HD2600PRO AGP.
    
    Full ID of the card: MSI RX2600PRO-T2D512Z/D2.
    The connector information for this chip lists HPD0 instead of HPD2.

commit 8048353d9580e3930b9f1bfc47581284dc2ab100
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Apr 7 22:44:24 2008 +0200

    Remove unneeded use of pciTag when using libpciaccess.

commit 3076447f027eb0e358304b4d5ffd337626e2b9a5
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Apr 7 22:45:28 2008 +0200

    Fix MC access for RS 690.
    
    The MC registers are accessed thru PCI config space of the NB.
    Since we know nothing about RS600 it is excluded for now.

commit 01bc57b1e3aafae5e5d992c1f20e0c63a956c9c6
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Apr 7 13:01:15 2008 +0200

    Add initial support for talking to IGP northbridges.

commit 46367d6107510e55b75db0eff16c5ca496c6daf7
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Apr 7 12:56:09 2008 +0200

    Add IGP flag to chipset map.

commit 338eb58b749071ab2559455d2a4ba212276667d5
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Apr 7 11:41:08 2008 +0200

    In verbose 7 debug mode dump present mode line.

commit c0c8fbedb18369c5a057488dec9aa249d82fdb23
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Apr 7 11:11:48 2008 +0200

    Mark PCI subsystem 0x94C1, 0x1002, 0x0D02 DMS-59.

commit 5a8138e896136a6598a023d40501a7eb54ede3e4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Apr 6 10:28:31 2008 +0200

    Treat RV635 as a separate family.

commit 954fd01c4d950d3727d0a72144904f754b83c498
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Apr 6 10:14:03 2008 +0200

    Provide more information on HPD detection and mode programming in verbose log.

commit 4733547bf8ba4813a1ce55a20f02080b6c06d2be
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Apr 7 16:14:06 2008 +0200

    Add support for the full RS690 family including RS740.

commit 580ad5bfa12f529915b4d364ffc6bca9670aac6b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Apr 5 22:43:12 2008 +0200

    Enable RS690 MC support.

commit decf3554ebb1ae39901fdfd82adf2ced55d72cd3
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Apr 5 22:09:32 2008 +0200

    Treat all RV515 chips as such in MC code.
    
    There are a number of ASIC generations which belong to the
    RV515 family.
    A table and a function is added to match asics to families.

commit 2c2d132077fdac80f41c39c019eb93b5b3f7f95a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Apr 2 20:34:46 2008 +0200

    Add a workaround to make interlaced mode work.
    
    A HW bug requires the front porch to be at least 2 lines in interlaced mode.

commit 783b5ab4f3d910e5964e69938ea0a5835bd19be4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Mar 26 21:11:20 2008 +0100

    Add support for interlaced modes.

commit 6d5ef116bbdd60799da2ace15f51b1bb4b883c6f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Apr 1 22:59:04 2008 +0200

    Add better support for LVTMA TMDS macro control values on R5xx and RS600/RS690.

commit 38efb27c05523fd25323c732a567e90378e1a1e7
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Apr 1 17:17:28 2008 +0200

    Add MC idle testing for RV515, add MC support for RV550.
    
    RV515 is supposed to be identical to RV515.

commit f64aba20a2942a18daf122d642389ccfede22cdc
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Apr 1 16:38:48 2008 +0200

    Use proper temporal dither reset bits depending on chip generation.

commit db2c3948d5a398047b3a881f6f88541dc963d22e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 31 08:12:44 2008 +0200

    Fix LVTMA code to also handle single link DVI correctly.
    
    Bug #15214

commit 55e3b21e709c2a14ff7153e2044a4921f30b82f2
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 31 08:10:33 2008 +0200

    HDMI Type A is single link DVI while B is dual link.
    
    This is a follow up on 806d95361c11068a078.

commit d53f2201b5d82936b190fb5b5fe2701f5e083aeb
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 31 00:49:07 2008 +0200

    Add source select to DDIA block.
    
    This code got dropped on the floor by accident.

commit be9055f03a8a4759fbdf454ad4c2c4e215ead1df
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Mar 29 14:21:33 2008 +0100

    Fixed argument order to rhdAtomGetTableRevisionAndSize().

commit 1623f86f0834e7c13a89682983729b70348512b2
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Thu Mar 27 17:49:01 2008 +0100

    Added missing rhd_ddia.c/rhd_ddia.o to Imakefile.

commit 186c345cad07fb4eb626707f40a2c444fc5d8bc7
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Mar 27 07:34:30 2008 +0100

    Print output name for sensed type.

commit d7d63b25d264f0838c497a79e38059506ccdc814
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Mar 26 22:50:43 2008 +0100

    Print sensed type also for RandR.

commit 6d628f5658512cb73fd04dda85f5672736e80080
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Mar 26 21:10:31 2008 +0100

    Make debugging output of HPD verbose about the result.

commit 811b0cd66958e32bddcbbca7656893de160b2de8
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Mar 25 17:25:14 2008 +0100

    Added quirk table entry for a different Sapphire X1300

commit 89cfb7384b1e34c1de88d3b32ff6202b9ecda287
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 24 23:07:08 2008 +0100

    Add support for RS690 DDIA digital block.
    
    This will support the second digital output on many RS690 boards.

commit b6418a97bfc448ecd6e15c548bcdeb8af8967619
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 24 09:34:18 2008 +0100

    Add debugging aids.
    
    The RHDReg??D() functions can be used to print out the register
    values read/written. When RHD_DEBUG isn't define they will be
    identical to the versions without the 'D'.

commit c8ad2599d54fa855b4cdf234c6c560301afeebf4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 24 18:28:55 2008 +0100

    Reset CRTC horizontal counter replication.
    
    Appearantly this should only be set for 30bpp DVI modes.

commit bd11d76aab42354403dff1bffd5f89dc86c3ecc7
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 24 16:23:08 2008 +0100

    Handle AtomBIOS TMDS PLL parameters correctly.
    
    NOTE: This code is not used so far but support for this
    will be added later.

commit 806d95361c11068a078c85db2891c3802a106f9d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 24 13:57:44 2008 +0100

    HDMI Type B connector is dual link capable.

commit ae3171b9621b54ecacc2a10a133c435f2e380152
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 24 13:43:40 2008 +0100

    Add TMDS PLL macro control values for M54 (0x7145).
    
    Bug #15132, reported by Veli-Jussi Raitila.

commit 19a6eb464a5f988a700259c85042350d67d66ea3
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Fri Mar 21 11:35:13 2008 +0100

    Chipset name review.
    
    Added Device ID for Radeon HD 3850 AGP. Fixed typo in Device
    ID for ATI FireMV 2450.

commit 96f36339e2b6dbe60efafc6a150a561111aaf844
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Thu Mar 20 17:54:57 2008 +0100

    Fixed imake build.
    
    Added rhd_mc.c, rhd_dig.c to Imakefile to resolve undefined
    symbol RHDMCInit, which prevented Xserver from starting.

commit 3d62e9a1be968655969e79570a522c28da218bae
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Mar 19 01:54:17 2008 +0100

    Cosmetics: Move RV620/635 to a more sensible position in our devices list.
    
    Makes supported devices printing a bit saner, but pretty useless otherwise :)

commit 9de85904ca8183fad9c9ec67985394c2567ac2f5
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Mar 19 00:13:48 2008 +0100

    RHDPLLsInit: PLL2: Add missing " else " in "if () {}{}"... Duh.
    
    I really must visit an optician one of these days...

commit 00f182d6c9f026ac05969cc1304e02e6483cae90
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Mar 13 13:20:03 2008 +0100

    Use correct option name for (yet unused) TVMode option.

commit 98d328b04500dda5030eb612f1fa899ee0fb5a95
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Mar 13 13:12:21 2008 +0100

    Fix endless loop.
    
    Bugzilla #14988

commit 427d95537b424d7f3ccfb3b0c0ccb779adc9ab8e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Mar 13 07:51:13 2008 +0100

    If available read panel dithering parameters from AtomBIOS.
    
    AtomBIOS contains information about temporal and spatial dithering
    as well as the number of grey levels emulated thru temporal dithering
    in the LVDS_Info table. If available use this information.

commit c336508ea9cc26c02c1331f3ec9dbb394c3cd9fd
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Mar 13 07:37:37 2008 +0100

    Remove DVI_DUAL as a type which can be detected by load detection.
    
    Appearantly TMDS(A) load detection cannot be used to distringuish between
    single link and dual link DVI which would be useful to detect if someone
    erronously uses a single link DVI cable on a dual link capable monitor.

commit bf8bda883793465f0f88b622a2412b3f3597cf60
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Mar 13 07:33:05 2008 +0100

    Make variable and enum names more consistent.

commit db0d605852934a248f484a88528042c3623f6ddc
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Mar 11 07:35:41 2008 +0100

    Fix a memory leak.

commit 098cf71d3d51694908f2766a8c35483a9f79da19
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 10 12:36:01 2008 +0100

    Make test for DIG2 more consistent.

commit 46a40c82c6696d1d57261ea34d124f94e342b391
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Mar 6 17:03:09 2008 +0100

    Add #ifdef wrappers around AtomBIOS related code.

commit 54f491f983ab6d618e9e06e2c8f7d8cd37464266
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Mar 5 20:54:34 2008 +0100

    Add AtomBIOS based UNIPHY support for RV620/635.

commit 2d81ffc704db68f3758e5ce28fe6d1de83ef7c11
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Mar 5 20:52:12 2008 +0100

    Fix a wrong type in ATOM_ANALOG_TV_INFO in upstream version of atombios.h.

commit cab03118f05d47b714965d7d46ae61eeb37abcfd
Author: Luc Verhaegen <lverhaegen@ridcully.suse.de>
Date:   Wed Mar 12 18:36:26 2008 +0100

    DxCRTC: Fix disabling check.
    
    We were waiting on hblank, while we have a nice little bit for checking the
    state of the CRTC.

commit 52f04a7f8ff43fe79c140ba7d17d18bb78cdb1af
Author: Luc Verhaegen <lverhaegen@ridcully.suse.de>
Date:   Wed Mar 12 17:20:49 2008 +0100

    TMDSA: Fix sensing with respect to duallink.
    
    Load detection is apparently sniffed at at ATI. So our only sense-able
    digital link is unable to find out whether we have proper duallink
    termination there or not. A missed opportunity...

commit 42d3201bb7dcfe2ec1755976641e0260f5eb4e91
Author: Luc Verhaegen <lverhaegen@ridcully.suse.de>
Date:   Wed Mar 12 16:34:10 2008 +0100

    PLL: further fall-out of removal of validation callback for our hw.
    
    NoRandR path was fixed, but RandR wasn't... Stupid!

commit 8f499c3879cff399ec40db2403a0bf5626f13c03
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 10 11:57:55 2008 +0100

    DVI is on TMDSB not LVDS.

commit 56a264f86762030bb4173b6fc0515918b0e3fc5e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 10 11:51:48 2008 +0100

    Set Connector element already in rhdRROutputDetect().
    
    Setting this early makes this infornmation available to mode validation.
    Some limits may depend on the connector (example: dual link DVI has a
    pix clock limit twice as high as single link).

commit 478bda793b7101834ce58bbe37f03a3ccf5036a4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 10 11:31:27 2008 +0100

    Fix issues with DDC on RV620/635.
    
    DDC may also time out or be aborted - in which case the result is also
    invalid. Let the status function check for that.

commit e5dddbc2f73bccc66a5ff00a2afb6e8a7ffa93e5
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 10 11:30:42 2008 +0100

    Fix issues with DAC load detection on RV620/635.
    
    Some BIOSes leave DDET_REF_EN or SDET_REF_EN set. This changes the
    DAC comparator reference. We turn off either.

commit 5596d06da56a299a42818a63ec15b72393703861
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 10 11:26:38 2008 +0100

    Fix issues with DAC load detection and erronous DDC detection on RV620/635.
    
    Some BIOSes leave DDET_REF_EN or SDET_REF_EN set. This changes the
    DAC comparator reference. We turn off either.
    DDC may also time out or be aborted - in which case the result is also
    invalid. Let the status function check for that.

commit c9ccc4c474af39b583073ea083a61a7b0f711ad3
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Mar 8 10:52:09 2008 +0100

    Resolve unknown registers.
    
    DIG1 drives UNIPHY link1 and DIG2 drives UNIPHY link2 (if not dual)
    unless swapping bit is set.
    Fix DIG clock source selection and enable.

commit aa7037a7418869da702bd2429b59fb51c9ee6e42
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Mar 8 10:40:04 2008 +0100

    Remove stale structure elements.

commit dfe3604858d8792a5d34ac6324baced24274135e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Mar 5 15:24:21 2008 +0100

    Changed heuristics for encoder link enabling.

commit 153331e806eedff5f73ccb212a7d68d0b691753d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Mar 4 18:03:47 2008 +0100

    Properly restore Encoder and Transmitter.
    
    This patch attempts to follow the set procedure to restore encoder and
    transmitter values. Not doing this doesn't seem to make any difference
    here, but we never know...

commit 6742f79e8e77add4d62893c1a84908c6c4a5d621
Author: Luc Verhaegen <lverhaegen@ridcully.suse.de>
Date:   Sat Mar 8 04:09:07 2008 +0100

    RV620: Add Pixelclock support.

commit 807e525a277668b3006afb36596a9f89dad7ca48
Author: Luc Verhaegen <lverhaegen@ridcully.suse.de>
Date:   Thu Mar 6 17:22:36 2008 +0100

    Implement the hardware level scaling code.
    
    This is currently only useful for disabling scaling and for save and restore.
    The framework for enabling scaling is not implemented yet, so this code should
    not change driver functionality, just fix some modesetting issues we've come
    across.

commit fd6a7abfc2dce560092791706393ca073090e995
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Mar 4 13:55:46 2008 +0100

    Restructure FMT block handling.
    
    The FMT block is directly linked to the CRTC block but only the ditital
    outputs seem to be connected to it. The FMT block preformats the pixel
    data for the display doing things like dithering which will give the
    impression of a higher color depth on 18bit digital displays.
    Since the FMT block is connected to the CRTC we save/restore it in the
    rhd_crtc.c while we program it from within DigMode().

commit 2e1f55b00d101274bebc51d7ce3a27d54f92d658
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Mar 4 11:41:54 2008 +0100

    Consolidate handling of dual link TMDS displays.
    
    This code is still not tested, yet due to lack of equipment.

commit f0256f38aff57fc88e2a5deed79a4744fd1f331a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Mar 4 11:12:41 2008 +0100

    List explicite arguments for FMT block programming.

commit 59de4071c6354cf95722d9e5d19f7506d7f69a5f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 3 22:19:36 2008 +0100

    Fix identification of end-of-code table data tables and GoldenSettings search.

commit b3df388f2917e754bd5cd1bee68292032c0a75e0
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 3 22:14:08 2008 +0100

    Add RV620/RV635 devices.

commit c13650e667aad0064223060bb6460de2c307f810
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 3 22:10:34 2008 +0100

    Add KLDSKP_LVTMA and UNIPHYs to connector handling.

commit 0dee42c5b7c1153ea524c65766ee7b0f36b63c93
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Mar 12 20:42:02 2008 +0100

    Add support for new DIG blocks on RV620/635.

commit 8dabb69a3780ffcf231dd38dc190e39fd1f88437
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 3 22:18:02 2008 +0100

    Fix structure names in rhd_output.c.

commit 80fb6b3fa5a9dfccc9c2b8bfdfeba39842ca3cf2
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 3 22:15:53 2008 +0100

    Fix copy-over artefacts from rhd_conntest.

commit 252491e4a1b97b2ad020ebf45862d75c99da561b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Feb 27 20:25:27 2008 +0100

    Adding KLDSKP_LVTMA and UNIPYA/B as output types.

commit 6dab67a84caa30d4653cad44ce67b572037b89f2
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Feb 27 19:31:03 2008 +0100

    Add RHD_CONNECTOR_DVI_SINGLE to be able to mark a single link connector.

commit abb188fe88e5b1887b940201ce0f7c5cf7234a66
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Feb 26 22:16:45 2008 +0100

    Separate query for temporal and spatial dithering.

commit 4ec302827107453fc8f20f9c0dd083644683a834
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Feb 26 21:59:48 2008 +0100

    Add more verbose output on GoldenSettings matching.

commit a0c11368fb48f7bec4b0e0dee723f523315e76b6
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Feb 26 20:35:43 2008 +0100

    Add support enumerated object IDs to the connector table parser.
    
    The enumeration of object IDs is not just used to number devices but
    is used to further specify the device type.

commit b280b417463affbb2da7168f1eb67f68a2b40864
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Feb 13 10:29:28 2008 +0100

    Support for TMDSA dual link load detection (untested!).
    
    This code attempts to load detect it a second DVI channel on TMDSA is
    available. This code is entirely untested.

commit dec87ba6920ac89df21c6c7453d3c8e79626f0aa
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Feb 13 10:24:37 2008 +0100

    Add support for dual link DVI panels (untested!).
    
    NOTE: This is entirely untested due to lack of testing equipment.

commit cf8eea258505b1902b030a3d0ca8bf41d4dae9d8
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Feb 12 09:25:47 2008 +0100

    Add support for two new ObjectIDs required for RV620/635.

commit 55ce4f82c4ac88dfb184d1a21c364ad87b0acab9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Feb 20 14:19:48 2008 +0100

    Added own version of AtomBIOS getConditionalGoldenValues().

commit 283c2d2e877e1eb8bef9ed496ba153484b9c768a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Feb 3 20:05:39 2008 +0100

    Fix GPIO routing for DDC in RV620/635.
    
    Locate GPIO routing data table in ReadEDIDFromHWAssistedI2C
    table and find the correct entry.

commit d499a61623b10a9ff2b046877bf2528efe250e70
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Feb 3 20:05:03 2008 +0100

    Fix GPIO routing for DDC for RV620/635 in rhd_conntest.c.
    
    This adds support to pick data tables from AtomBIOS command tables.
    And code that locates GPIO routing table in ReadEDIDFromHWAssistedI2C
    command table.

commit 8de4cd9a9b71ca2f7e2b00a2943c19ced3517b8f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Feb 3 20:04:32 2008 +0100

    Locate data tables embedded in AtomBIOS command tables.
    
    The AtomBIOS bytecode tables can contain data tables which are
    referenced from this specific table only. Find them and return
    their size and a pointer to their start.

commit e29024d98e605e3b0d38462f4a7b42b4f246d400
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Feb 2 15:33:47 2008 +0100

    Consolidate load detection for R5xx/r6xx in rhd_conntest.

commit f021c0cf6ed65095d7ee6bfbf3ecebfa6d4279f4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Feb 1 18:50:39 2008 +0100

    Add support for DAC load detection and I2C for RV620/RV635 to rhd_conntest.

commit 481df4027f75b38a522355668561db1439f1d50e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Feb 1 18:49:39 2008 +0100

    Add stubs for the PLL subsystem.
    
    PLL support is going to follow soon.

commit 3ba1c0937d60eea79167039062f931c3974e5bc3
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Feb 1 18:48:45 2008 +0100

    Add support for the DAC output subsystem for RV620/RV635.

commit b08e64ec70e29af8e8050508f44e7c8f822ff41f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Feb 1 18:44:46 2008 +0100

    Add I2C subsystem support for RV620/RV635.
    
    This patch includes the register additions required for I2C and DAC support.

commit 089801d49ffd3b736f27529fc8ba4499e43f280f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Feb 1 18:27:36 2008 +0100

    Add RV620/RV635 PCI IDs.
    
    These IDs are disabled at the moment as we are still missing PLLs to
    do anything really useful.

commit 47298a34699d9c81ba61e5d829279253e193d3bf
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jan 16 10:25:06 2008 +0100

    Add support for sensing and programming different analog outputs.
    
    In this event clean up handling of analog output norm handling
    and AtomBIOS fixed mode retrieval.

commit 2d42e5b7c8e826771c38c19d7418c3ab0e07a667
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jan 15 15:34:02 2008 +0100

    Add monitor support for TVs.

commit 8f06626d19543f5e7e4b99819cc230f3a38ebe9a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jan 15 15:33:17 2008 +0100

    Add an option to pass the TV standard to override boot default.

commit 3fe49f2a1de02d572c3e66f16ba6aba439f1fe79
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Mar 12 21:24:35 2008 +0100

    Fix spelling of 'Supp(p)orted' to match the fixed spelling in atombios.h.
    
    Fixing spelling in atombios.h generally isn't a good idea as it would
    require all the code that depends on it to be fixed (in the
    Catalyst driver for example).
    Nontheless this fix was given to us by ATI.

commit 2bcabe12c8f07ce501025e7214854a7df9b5231f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jan 15 15:30:13 2008 +0100

    Add parsing of TV releated data tables to the AtomBIOS support.
    
    Add AtomBIOS support for setting up the TV encoder.

commit 726f6da1f3778d420b505bd28894dba7cad327e1
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jan 15 15:26:38 2008 +0100

    Add TV detection do DAC load detection.

commit e1605dfbfa917cd52c7685fc612ee876ba2266c5
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 3 09:59:27 2008 +0100

    Be more verbose about fb parameters.

commit 5163b9fb81967ff026a8f2ed7dddaae640fa3f93
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 3 09:58:38 2008 +0100

    Get and store verbosity level.
    
    The verbosity level is used in many instances when we need to decide
    wether we want to log a certain information or not. If we know the
    verbosity level we can avoid computational overhead when we are not
    going to print anything anyway.

commit 00e1b02500d0513681c48ca4c5cf1b4fa419c6eb
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 3 09:25:17 2008 +0100

    Restore original order of CRTCRestore and VGARestore.
    
    This reverts commit 23a47ec001e195218e5c4ac4349139f70fc9984a:
    "Restore VGA after restoring the CRTCs."
    This change collided with 1a1d110f49c66063aba92d823e3158ea1860f5ae
    and doesn't seem to be required to fix the underlying problem.

commit 8c6d1b46b70ae19fafb5484c238a74cca18d5990
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Feb 29 23:03:14 2008 +0100

    conntest: add new ids.

commit 294cf1f62a9def23e08405c3718c4696881e2a80
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Feb 29 09:08:56 2008 +0100

    Fix test for RS6XX in RHDMCSetup().
    
    Problem pointed out by CornedBee on #radeonid.

commit 1b3f3c9c56fb4f70d49f4b123f1e2b1feb6ec3cd
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Feb 29 09:03:55 2008 +0100

    Add connector table flag for X1400 (0x7145, 0x1297, 0x3058).

commit a23b11238155b184c4f886ee72b33bd41d18b0ce
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Feb 27 13:00:08 2008 +0100

    Loop over all CRTCs when shutting down memory access.
    
    A stupid cut-n-paste bug had prevented this.

commit 8432cb084ec351da6ec586b10940cc53327163ec
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Feb 25 18:26:39 2008 +0100

    Add quirk table entry for Diamond Viper Radeon X1650 Pro

commit 5ba5f4b5cf28a106d40c5a73c648ce15f4d99b62
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Feb 25 18:22:39 2008 +0100

    Include description for acceleration options.

commit eee9b71888aa5916b5681de1b014c3d03b9e9614
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Feb 25 18:06:04 2008 +0100

    Fix typo in patch adding DradonFlyBSD support.

commit f89bac589adb2586b15643d6829a047d7853a101
Author: Thomas E. Spanjaard <tgen@netphreax.net>
Date:   Mon Feb 25 16:25:52 2008 +0100

    Add support for DragonFlyBSD.

commit 1223e40a401e4abf67752197ff05e01d9a7856c0
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Feb 20 13:20:26 2008 +0100

    Add debugging to rhd_conntest.c

commit 1e8637b1be1ffd7de16d519ad175110383d005a8
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Feb 18 23:05:27 2008 +0100

    Changing R6XX_MC_VM_MISC_OFFSET to R6XX_HDP_NONSURFACE_BASE.
    
    HDP_NONSURFACE_BASE is the official ATI name.
    Originally we found this register in code tables called by AsicInit.
    It was given the name MC_VM_MISC_OFFSET because we didn't know the
    official name of it as we never received docs on it from ATI.
    
    Now it appeared in the 'radeon' driver under it's official name.

commit 854ce3b22585be6b51a3870817081fc599ece6dc
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Feb 15 18:16:47 2008 +0100

    Make DDC for panels work on MacBook Pro's.

commit 247d42637b24dc07fdf3763a40d08fda52d632d7
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Feb 15 01:32:00 2008 +0100

    Set up GPIO pin HW access for DDC testing in rhd_conntest.

commit 23a47ec001e195218e5c4ac4349139f70fc9984a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Feb 14 13:24:34 2008 +0100

    Restore VGA after restoring the CRTCs.

commit 74eacf3e5ef7c490e08e0806944cf2f1af9d535a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Feb 14 13:23:16 2008 +0100

    Make sure GRAPH and CRTC engine are disabled before changing surface.

commit 2b16734b998e657a426af5b9dc332700cba2c9be
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Feb 14 12:23:10 2008 +0100

    Set GPIO pins to be HW driven on R5xx for HW controlled I2C.

commit 2feff5cb81db551e1b25a60a3cd4c130a6f3c9af
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Feb 14 12:20:51 2008 +0100

    Add wait for memory idle state.
    
    Make sure all engines are properly turned off and memory is idle
    before accessing MC or surface offset registers.

commit e0d587844419881b4523dfd8288abf606f7b819e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Feb 13 00:37:46 2008 +0100

    Handle LVTMA_TRANSMITTER_ENABLE identically on R5/6xx.

commit 1849092ef139e4b19ace04872466e6170e216582
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Feb 13 08:51:01 2008 +0100

    Add connector information for a Sapphire Radeon HD 2600 PRO AGP (PnPID: 0x9587:0x1002:0x0028).
    
    This card has one DVI-I and one VGA connector. However AtomBIOS
    claims it has two DVI-I.

commit 7527df07812ec7175cadb4dbe4efc1986f608882
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Feb 25 16:12:47 2008 +0100

    Revert "PATCH: Report PANEL as disconnected when no modes are available"
    
    This reverts commit 3d29d4ce1183a53810ff8b5c2970b03f9cc3b097.
    This patch actually makes PANEL never report as connected, even when
    rhd_conntest seems to report otherwise, when an external monitor is
    connected.

commit 3d29d4ce1183a53810ff8b5c2970b03f9cc3b097
Author: Thomas Meyer <thomas@m3y3r.de>
Date:   Wed Jan 30 19:41:08 2008 +0100

    PATCH: Report PANEL as disconnected when no modes are available
    
    Report PANEL as disconnected when no modes are available

commit cd6a4b894c36728b27cd31f6a375beac7dbae0db
Author: Yang Zhao <yangman@gmail.com>
Date:   Thu Feb 7 13:56:02 2008 -0800

    typo fix in DPI guessing code
    
    Looks like there's a typo in the code that tries to guess screen DPI;
    doesn't make sense to assign a variable value to itself. ;)
    
    Untested, as my hardware setup won't trigger this portion of the driver.

commit 1a503c591164d61d4ad6af964f65cd3d58a98e56
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Wed Feb 6 17:34:03 2008 -0500

    Update ObjectID.h
    
    Updated with upstream AMD changes.  Coincides with my recent atombios.h patch.
    
    Alex

commit 8640be8ee3923b45c5b8d8cb02296f7d31fb96aa
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Fri Feb 1 16:08:15 2008 -0500

    Update atombios.h
    
    Update atombios.h with the upstream AMD version.
    
    Alex

commit a9af866ae712a0048d374dc640e482d1f4ce8859
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Feb 11 08:37:30 2008 +0100

    Prevent endless loop in connector table parser.
    
    Some connector usDeviceID entries may contain 0 (which is invalid).
    This patch should handle this problem.

commit 80c7c9e5c19d5f60c117f5458e44c3d60b8d1a41
Author: Sebastian Redl <wasti.redl@gmx.net>
Date:   Sun Feb 10 12:47:06 2008 +0100

    Fix device ID for 0x7187, 0x174B, 0x3000 in cards table.
    
    Cut-n-paste error caused 0x300 to be written instead of 0x3000.
    Also fix a formatting error in a log message (again spotted
    by Sebastian Redl.)

commit bef7f09c6de1b4cf2192dbc46bddb9634c0bd058
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Feb 9 18:18:33 2008 +0100

    Ask people to not only send in their log file but also to describe their problem.

commit bde5fbbf29ed1c95d398e895e29f6b5c434bbb54
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Feb 9 17:52:25 2008 +0100

    Added 'HPD swap' flag for  0x7187, 0x174B, 0x300.
    
    Bugzilla #14414. Thanks to Sebastian Redl.

commit 7606be1a7a3e50503dba0ffe80da8aea2a4eaa8f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Feb 5 16:08:42 2008 +0100

    Fully implement the SaveScreen() function.
    
    The argument to SaveScreen() is not simply on/off.
    xf86IsUnblank() needs to be called to actually match the
    DIX argument to on/off. Also the input timer needs to be
    reset on unblank. Furthermore the ScreenPtr may be NULL
    under certain circumstances thus it also needs to be checked
    before dereferencing.

commit 748de8400bf49ed20bcbe4b54779b2d6943de0b1
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Feb 5 13:33:06 2008 +0100

    VGA: bitten by pScrn->videoRam in kB instead of B again.
    
    This way, our VGA FB can live in more than the first 256kB of our framebuffer
    :)

commit cbbd54a2fa934ecbe8c6b93d5b063407c06d955f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Feb 4 22:39:33 2008 +0100

    Fix blaning problem in bug #13853.
    
    RHDSaveScreen() is a DIX function. It gets called right from the DPMS
    extension. Non of the DIX function know anything about screen switching. Thus
    the protection of the hardware against accidental switches needs to come from
    the DDX (which includes the driver - if it provies functions which may be
    called from DIX directly).
    Adding a check for vtSema seems to fix the problem.

commit f37d4cb9767a7d7aca66c489578a86fc71a25c00
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Feb 3 23:24:08 2008 +0100

    Don't make assumptions about DDC clk line on RS690 when AtomBIOS is not available.
    
    Commit c900aa5 hardwired the DDC clock line to DDC2 when AtomBIOS was not
    available. This is definitely wrong. The 'default' in the switch statement
    meant as 'fall back to the one remaining possibility' (exactly as handled
    by AtomBIOS iself), not as the default value.
    This change hopefully eliminates any confusions.

commit dc519eb296e434e6ce31f3f020eb5514c162828e
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Sun Feb 3 21:05:50 2008 +0100

    Need to include string.h in r5xx_exa.c

commit caa10014d115a49a59b4a2aef6ce36a4e615556a
Author: Joachim Deguara <joachim.deguara@amd.com>
Date:   Tue Jan 29 23:39:54 2008 +0100

    Add support for R680 (HD3870 X2).

commit 7e9b6ef0917932964d2be2cadd450525e9f08512
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Jan 29 19:54:16 2008 +0100

    R5xx: Implement EXA.
    
    MMIO only, so no accelerated up/download yet.

commit af0c64d897f7f2288419b6e43468850e1037bb59
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Jan 28 13:09:55 2008 +0100

    R5xx accel: Add XAA support.
    
    MMIO path only, no CP support yet.

commit 7cab021c74e1ea45d2e087df89b9f14c5ec300ee
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Jan 28 13:05:42 2008 +0100

    Improve FB handling.
    
    Split things up in Scanout, Offscreen and Free.
    Add option offscreensize, which allows selection for both % (of total
    videoram) and M(megabytes) of offscreen memory.

commit e0cfbcd5c97591ee556dc836d58e965771e5240a
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Jan 28 07:12:59 2008 +0100

    Add AccelMethod Option and related handling.

commit c900aa5a2c9ce18dee3e1ac54aeed002ae68b01b
Author: Thomas Meyer <thomas@m3y3r.de>
Date:   Tue Jan 29 21:16:00 2008 +0100

    I2C: fix build without atombios.

commit bc8851304a71e612b2dafaacc965858e3f197654
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Mon Jan 21 00:47:25 2008 +0100

    autoconf: Check for libpciaccess.
    
    If xorg-server.h does not define XSERVER_LIBPCIACCESS, there will be no
    check for the unused libpciaccess.

commit 5829bff7d02cfe42d3eb54ac14fc38383bf0751d
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Jan 16 18:19:35 2008 +0100

    TMDSA: Add control value for 71C4.
    
    Reported by Alec Habig.

commit 7cb27bca609f5bc2dc3e4f3aa8e9633c2e621eb4
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Jan 16 17:11:09 2008 +0100

    Add RHD_CARD_FLAG_HPDOFF flag, improve quirk entries for T60p.

commit 9eaa27c7b08a3faa252172fd402d8e5483783477
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Jan 16 17:01:36 2008 +0100

    Add PCP X1600 400M/500E.

commit f75ad2d36d45856abb3ca8e78de6b5f1a9ce8a06
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Jan 15 12:20:58 2008 +0100

    Add PowerColor X1550.

commit 32d1b4d99afdda3bc402a7ada0a833d650da4433
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Jan 8 13:04:58 2008 +0100

    If no EDID is available, assume 96dpi on the first (preferred) mode.

commit ad50eaa0bc53a97d905cce4432763c2c966387fa
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jan 14 13:45:35 2008 +0100

    Correct order of mask and value in ROM access code.

commit 0f066c209e091813eed0a8b94f90ba66b05c897b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jan 8 23:10:38 2008 +0100

    Implemented PLL functions for CAIL, fixed MC.
    
    Some AtomBIOSes require access to the PLL registers.

commit 361ba486e00471d1232a1622531357043356fc3f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jan 8 17:41:09 2008 +0100

    Change heuristics to check for an unPOSTed card.
    
    The code used to look for the location and size of the VRAM
    scratch area in the BIOS to determine if the device has been
    POSTed or not. This value reads 0 on unPOSTed BIOSes.
    This however is not true for all cards.
    Now we simply look where the BIOS has originated.

commit 72e7b062479cbf6fb80ee9bdf5ab2b4736530bda
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jan 8 14:54:58 2008 +0100

    Fix some issues when reading PCI ROM on POSTed systems.
    
    This stuff is rather magic.
    The SPI ROM interface needs to be set up. The SCK period
    needs to be set to be increased (power up default should be
    save).
    The GPIO pins seem to control the SPI ROM, so the GPIO pins
    must be set to be driven by hardware.

commit 26c6ce53463f2432f341fd41694b4758886023f9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jan 8 08:26:08 2008 +0100

    Add I2C data dump code.
    
    This code scans all i2c buses it can find and dumps n bytes of data
    starting at offset 0.

commit a412d58233854dc8cfa6d3697960c23cdfb26f8a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jan 4 16:01:13 2008 +0100

    Read PCI BIOS on secondary R5xx cards.

commit 4e488a349c862da2e27f6025d376fb2b63db3bf9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jan 2 22:04:53 2008 +0100

    Woops! Fix typo in chipset names.

commit cfc003965eeb05d3f635cc77b6d05ad2169a5bff
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jan 2 21:50:43 2008 +0100

    Enable FB location fix for r5xx.
    
    RS6xx still needs to be checked.

commit a6835b5872cec662caed34ec756f9308a81b7f9f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jan 2 07:41:56 2008 +0100

    PLLControlTableRetrieve(): Fix test in for loop.
    
    With the current for loop test the function will always return the first value
    in the list.

commit 3293c60d0e8b026f3fedcc182ac86bb05d6a1ced
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Dec 31 09:41:46 2007 +0100

    Fix header inclusion order.
    
    The inclusion of xf86_ansic.h before the X.Org headers caused
    problems under some circumstances as those header might include
    system headers whose function declarations then also get wrapped.

commit fcf15c8facb7c2c1a4a2513f3f84537f3f35c6a1
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Dec 28 16:23:47 2007 +0100

    Add quirk table entry for ATI Radeon 2400HD Pro.

commit 7e5ea8a215c2e2941b62824ca8453b58b0573437
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Dec 28 12:57:12 2007 +0100

    Fix RANDR_PANNING_AREA spelling. Oops.

commit 6c0f97d50f7884e822d573b1da57fcfd2aee08fa
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sat Dec 22 17:25:22 2007 +0100

    conntest: fix warning (uninitialised value).

commit 10c551027b92f3ce796115c754393cd0b88a7bac
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sat Dec 22 17:22:42 2007 +0100

    RV670 0x9501: TMDSA/B electrical values.

commit f213db06140226c843c9649cfaaea4b3d130ba16
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Dec 21 16:43:05 2007 +0100

    Bump to 1.1.0. Add changes to README.

commit c036b81933391ea41b78c4ba20bde01a1939433f
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Dec 20 17:45:28 2007 +0100

    Be a bit more strict in asking for user reports. Only on problems.
    
    We don't want reports about unknown boards if there is no problem at all.

commit 064b2899884557672850f8c2b309a82395995d62
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Dec 21 16:54:03 2007 +0100

    fglrx check didn't compile correctly with ansi wrapper enabled. Fix this.

commit b9277bfc275254be9823578819a13ceb056fc47e
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Dec 21 16:27:51 2007 +0100

    Check for fglrx kernel module and bark if it is loaded.

commit 79e016fde25a4ac713acedeb97cc4e5a6425d1ab
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Dec 21 03:48:01 2007 +0100

    RV670: TMDSA: Electrical values for 9505.

commit 9c010f2cb89ff3ca063a4c057f2cdce1047f2e46
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Dec 21 01:12:37 2007 +0100

    Rv670 TMDSB electrical values.

commit e5f9b2d2f646ae93552eaccbd1193778fc772c8b
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Dec 20 18:08:40 2007 +0100

    Rv670: Add PLL control values.

commit da8b68aa190ce00bb30057f86cb56079eaa29909
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Dec 20 17:25:55 2007 +0100

    Use DDC address probing for finding connected monitors if necessary.
    
    If both HPD and Sense are not available, use DDC.

commit 73aaafadb00f698ce63d52455801a4aa368ded41
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Dec 20 17:24:27 2007 +0100

    Update supported devices table.

commit 765f5972a08d404ded3c118eb5d507de71950a97
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Dec 20 16:57:45 2007 +0100

    Added description of all RandR properties.

commit cad8539ca12249a2c16b177e2364b77395a0dcab
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Dec 20 16:49:17 2007 +0100

    Rv670: Add IDs and such, and beautify supported hardware printing.
    
    No real support just yet. Need a few more things for that, which will come up
    next.
    
    Reported by TommyDrum.

commit 2b3928c642fcd65f21354f99a4f7fd9c9b24d7c4
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Dec 19 18:43:03 2007 +0100

    RandR compate code: Add crtc gamma function.
    
    This means translating the "new" way of specifying a gamma table to the older
    better designed way that i kept in my modesetting code. Or, another victim of
    rampant NIH.
    
    Fixes the "messed up colours" issues we have been seeing after suspend/resume.

commit dc8f3c3dfcf370c9ebce14a087894623fe2d60ab
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Dec 19 16:42:23 2007 +0100

    Nuke xf86DiDGAInit().
    
    We don't really want to support DGA anyway, and this call had some...
    side effects.

commit 861debbf8d649ce09d53d5880f819757ac9c7814
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Dec 18 23:03:07 2007 +0100

    Make the driver build with the latest ustream git server sources again.
    
    The driver stopped building due to the removal of xf86_ansic.h and
    xf86_libc.h in the latest upstream sources.
    This patch consolidates the heterogenious handling of system functions in
    this driver. The system function wrappers remain fully supported for older
    server versions.

commit 9120f95f90c95f7d6d1ba6cf1f0fc515646f8314
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Dec 18 20:12:36 2007 +0100

    Delete a spurious git_version.h.new when doing make clean.

commit e98195bdf1ed33637eb21a4e98b5ef75700b9f2d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Dec 18 20:11:03 2007 +0100

    Don't fail immediately when git-rev-parse fails.
    
    When a shell is executed with -e it exists immediately if an untested command
    fails. Therefore we need to make sure that this doesn't happen or a
    git_version.h may not be created which will lead to a failed build.

commit 6d9a6709bcf41d552dfd18853ff5cf4de14e07a1
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Dec 18 23:05:02 2007 +0100

    IDs: Asus M2A-VM should now no longer need a connector table.

commit 521bcacedee68cad8e923db2661c6415912d55b8
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Dec 18 20:54:36 2007 +0100

    DxGRPH: Fix graphics engine colour issues (hopefully).
    
    Lock down DxGRPH_CONTROL tighter, so that no accidents happen there already.
    And on R600 and up, save/restore and clear DxGRPH_SWAP_CNTL.

commit 47f8a6f784acc69da001b318ba3d80a9fa4c883d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Dec 18 18:59:01 2007 +0100

    Add support for HDMI connectors.
    
    HDMI connectors are treated like DVI connectors.
    Several users have reported to have patched their
    quirklists and made HDMI work by marking it as
    a DVI connector.
    We just follow this route by providing this patch
    - which is totally untested.

commit 21e1c6c44419e81857f8d159cf9d577085c0f981
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Dec 18 12:58:14 2007 +0100

    Get EDID block for panels from AtomBIOS even if there is a special Mode.
    
    Needed for DPI calculation.

commit 492e94c3f5e04e88615fcde9c1213cf3f1aa31de
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Dec 18 01:21:26 2007 +0100

    LVDS: Fix 18/24 bit dithering and disable spatial dither.
    
    18/24bit dithering breakage was spotted by Martin Nowack. He was not happy with
    me enabling both temporal and spatial dithering, and stopped the driver from
    touching either. I hope that disabling just spatial dithering will be good
    enough for now. Tomorrow i might add some improved handling and maybe an
    option.

commit 55f89f69e2f838a611335680683f6d24cda18636
Author: Martin Nowack <martin.nowack@inf.tu-dresden.de>
Date:   Mon Dec 17 23:30:08 2007 +0100

    LVDS: Fix FPDI handling.

commit ef51931af92b69e787bf6509e4d124eef685c140
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Dec 17 18:57:44 2007 +0100

    HPD pin swapping logic.
    
    Add flag for quirks table to swap HPD pins. They are often swapped on R5xx
    style hardware.
    Add HPD option (replacing the deprecated IgnoreHPD option) for manual control
    of pin swapping.
    Change quirk entry of Sapphire X1550 to just use HPD swapping.
    Improve man page formating.

commit 9741c5be6adba2926850afcb4236b89c300503fb
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Dec 16 17:05:40 2007 +0100

    TMDSA: properly add macro control for 0x7149 (M56)
    
    No, Stefans machine doesn't have a 7147, and a 7148 doesn't even exist in our idlist... This is what happens when you commit stuff at 3.13.
    
    Reported, again, by Stefan Becker

commit dcfd91c23359dfe1a7ca23501217d95750217f49
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sat Dec 15 03:38:32 2007 +0100

    TMDSA/B: add macro control values for 0x71C6 (RV530)
    
    Reported by Simon Munton.

commit c784c92a08b8c8584540804c6c5d634073aff74e
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sat Dec 15 03:13:40 2007 +0100

    TMDSA: add macro control for 0x7147 (M56)
    
    Reported by Stefan Becker

commit 5acefe5ca1e84becde10641e2ca948674d04fc80
Author: Sebastian Brocks <mail@sebastian-brocks.de>
Date:   Sat Dec 15 02:51:14 2007 +0100

    ID: 0x724B: Sapphire Radeon X1900 GT

commit 1a1d110f49c66063aba92d823e3158ea1860f5ae
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Dec 14 22:38:12 2007 +0100

    Restore: Fix VGA textmode restore when VSYNC length is 0.
    
    When using the VGA emulation support, crtc VSYNC can be set to null, and the
    VGA timing will still apply. But when you save and then restore this value,
    things become very tricky, as the 0 length VSYNC provides bad sync timing and
    displays will then go into power saving.
    
    By setting the VSYNC to an acceptable value for a shortish time, the VGA engine
    apparently is able to latch in correctly, and as such the issue is seemingly
    fixed.
    
    I have no idea about a better solution for this issue, preferably one involving
    the VGA support itself, but this, although ugly, does seem to work.
    
    Denise H. G is very much resposible for fixing this issue, as she pointed out
    that a null value in VSYNC is the cause of the problem here.

commit b991fe3d884a51e236f895c41b0ba1b06127f7dd
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Dec 12 18:31:29 2007 +0100

    DACs: Properly set up and save/restore SYNC_SELECT.

commit bb12148cbb02e93c17a03649a173d0566bbe5a4d
Author: Johann Hanne <jhml@gmx.net>
Date:   Wed Dec 12 14:35:56 2007 +0100

    Added Asus M2A-VM (RS690 based) to quirks table.

commit 87f8f8e9cc2167a3e4883cb8d63ce5815e99d333
Author: Juan Romero Pardines <xtraeme@netbsd.org>
Date:   Wed Dec 12 14:33:58 2007 +0100

    Add Gigabyte HD 2600 XT to quirks table.

commit b0cb8aec0409a551dce10e3d7d889d51917886a1
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Dec 12 14:21:59 2007 +0100

    Don't check for connector type for DMS-59 detection (RandR case).

commit affbdf54d68d8a36372a79ac2e631dfcbaf3897c
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Dec 11 16:52:03 2007 +0100

    Additional checks for cursor size in UseHWCursor().

commit 3ac7b028c8359e83f1e1c18c5063055362c1cb33
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Nov 29 12:19:22 2007 +0100

    Add ASSERTF() macro. Configure ASSERT() to create backtraces.

commit 09b4dea769654f4c8d09091ed1eedd5b9de61e2b
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Nov 28 19:54:52 2007 +0100

    Only reload cursor image if there is one.

commit 3d144290551baf4242f511560320e28b72a65d6f
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Tue Dec 11 17:36:04 2007 +0100

    Get rid of another potential quoting problem
    
    Some obscure shell might choke on this as well.

commit 6d57455590d90ff3606130f108bab59ed0a6230d
Author: Joerg Sonnenberger <joerg@britannica.bec.de>
Date:   Tue Dec 11 17:35:14 2007 +0100

    Fix quoting issues on NetBSD ash

commit dc7fe476a321ddcecb7fd12d2f9dae04567b57c2
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Dec 11 18:47:05 2007 +0100

    Broken connector table: GeCube Radeon HD 2400 AGP: proper fix.
    
    Now with conntest data :)
    
    Reported by Boris Kleibl.

commit 0eac12b833ba38435bdee451d2984f741ab59918
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Dec 11 18:38:03 2007 +0100

    gitignore: ignore git_version.h and conntests .deps

commit 5dcc23ec5da14a5b8d073ad4e74ab1519086b761
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Dec 11 17:47:18 2007 +0100

    conntest: fix uninitialised variables.

commit 798cac54befd31471521eff76c1bc262d7a1a30a
Author: Jean Delvare <jdelvare@suse.de>
Date:   Tue Dec 11 17:44:42 2007 +0100

    Spelling fix: separate

commit 7325dc4623431ac1ef1cab43ad7e2c4280231ce0
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Mon Dec 3 19:15:44 2007 +0100

    [PATCH] Avoid double -l when linking rhd_conntest
    
    If libpci is found via pkg-config, PCIUTILS_LIBS will contain
    something like "-L/path/to/lib -lpci -lz". So we get rid of the
    explicit -lpci and -lz in this case.
    
    In case pkg-config does not find libpci, though, we just revert
    to the previous behaviour of assuming that "-lpci -lz" will work.
    
    In any case, we make sure linking works before actually using it.

commit fa59270757b7ee579b2c5727b8c4f94df49bb8e3
Author: Coleman Kane <cokane@cokane.org>
Date:   Mon Dec 3 19:15:43 2007 +0100

    [PATCH] Let pkg-config look for PCIUTILS/libpci
    
    Coleman Kane reports that on FreeBSD, libpci is installed at
    /usr/local, and so we'd need a -L/usr/local/lib. This switches
    the responsibility for detecting the libpci location to the
    libpci.pc file.

commit ae46a18d85fcff03e36c54dc7751469738b6056e
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Dec 11 16:35:47 2007 +0100

    TMDSA/B: 9587 electrical values.
    
    Reported by grzegorz_76

commit 030f715ca59f457f709967d9d00743072ff20640
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Dec 11 16:29:18 2007 +0100

    Fix 13509: Xserver crash when RandR finds no modes.

commit c01edd521f8314942a0386c288df7de073c82124
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Dec 11 16:18:56 2007 +0100

    Improve scanning of panning area specification. Pan to area on setting it.

commit 42a07a0d9aae0d9f1d372133c10e9fb3d522626b
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Dec 11 15:55:18 2007 +0100

    Re-create Atoms for properties in CreateResources.

commit 6d0c7c327ea50d32cafaa46698948803be243e78
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Dec 10 16:00:55 2007 +0100

    Add panning in RandR mode.
    
    The panning area in RandR mode is specified by the geometry <w>x<h>[+<x>+<y>]
    in the RANDR_PANING_AREA output property (it actually is a Crtc-specific
    property, but RandR doesn't support that).
    
    As xrandr typically always resets the framebuffer size with every action,
    you will have to include --fb <w>x<h> on every invocation, unless there is an
    additional output configured with higher resolution.
    
    There is no static configuration for RANDR_PANING_AREA yet.

commit a0ed33e72ea6d371ebec36228b515a72ca364f16
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Dec 7 13:04:01 2007 +0100

    Generate ChangeLog from git. Add Copyright Header to Makefile.

commit e399d16597e30a6c53c8f70aa122285615fe7d08
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Dec 6 19:37:15 2007 +0100

    Move blanking from PrepareMode() to ModeInit().
    
    PrepareMode() is also called in SwitchMode() which doesn't
    call save SaveScreen() to unblank. Therefore the screen stays
    blank after mode switching.

commit 73f8ec8764bed7d8bcaa6e038811fe4d300ff4da
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Dec 6 18:24:12 2007 +0100

    RS600: add initial support.
    
    From what i have seen, this very much looks the same as an RS690. Egbert is
    still going through the DDC and MC code, but these seem similar to RS690 as
    well.

commit 3e8f10e4d3589a0b462a6d9cab1072a0cf91d911
Author: Liu, Wolke <Wolke.Liu@amd.com>
Date:   Thu Dec 6 16:21:39 2007 +0100

    LUT: Fix offset for LUTB specific registers.

commit f53d621d242a42cd33d6b6fe2c12fd11a681ad10
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Dec 6 15:19:41 2007 +0100

    EDID: Fix sync for preferred mode.
    
    Bits were swapped around, was fixed upstream on 20070808 by Eric Anholt
    already.

commit 29af4f3dcfc6756f9f82691c0b65c1eb0a82f5f7
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Dec 5 21:00:33 2007 +0100

    Modes: Add DPI calculation.
    
    This adds code to provide useful DPI calculation. It follows a server argument,
    or uses the newly introduced option forcedpi, or tries to average out the DPI
    of the various monitors.
    
    This is of course a stopgap solution, as no DPI calculation can ever be valid
    throughout the whole server life, as it varies with varying resolutions and
    varying monitors. But at least it is better than having nothing at all.

commit 732dea0e3545485e758a4e49ea014b3f1a8d73ba
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Nov 30 18:09:28 2007 +0100

    Initialize some uninitialized variables.

commit 0192e3463deb5b29765177d7344ad4b63eabd51f
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Fri Nov 30 18:04:17 2007 +0100

    Only accept the found git repo if it is in our top srcdir.
    
    Fixes bug introduced in ff796eba:
    In srcdir!=builddir builds, if builddir is a subdirectory of srcdir,
    "make distcheck" exposes a conflict between the dist tarballs'
    git_version.h and the new git_version.h erroneously created while
    compiling the source tree from the dist tarball.

commit 9fe776edf44c40d06e0059878df4f37391409c66
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 30 01:28:30 2007 +0100

    Bump to 1.0.0

commit 658b8890c7a6ee197dc8cfede325f1e966613b49
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 30 01:25:24 2007 +0100

    Much improved README and man page.

commit 22641a179fb44055c1a6c5b23d6771f23f4cd89d
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Nov 29 22:44:40 2007 +0100

    Connector Table: FSC Amilo PI1536 has no HPD on DVI.
    
    Reported by Andrea Rizzolo

commit 437a1e93e894743dad863a33ec2d9fa26c88171e
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Nov 29 22:32:18 2007 +0100

    Broken connector table: GeCube Radeon HD 2400 AGP.
    
    Reported by Boris Kleibl.

commit a97726981ac46e9a341b7bbe984967e4265243df
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Nov 29 21:35:01 2007 +0100

    Fix some messages: like number of scanlines available.
    
    * Number of scanlines was negative, as int versus word sized variables were
    mixed.
    * Tone down the unknown card message, and no longer ask for connector
    information.
    * Tone down CRTC unsync message.

commit e86e764bde2c2dbda5f0e0fe4b28122c6b3c8a68
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Nov 29 20:34:18 2007 +0100

    Add IgnoreHPD option.
    
    This shall only be used to work around broken connector tables.
    Please report broken BIOSes to radeonhd@opensuse.org

commit 6b001a8d4d69adc938daac36760b8f728e963419
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Nov 29 18:50:00 2007 +0100

    Print Crtc offsets in debug message as well.

commit b9a171ddf4687310e976b89c946705a3bdbcdb6e
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Nov 29 17:56:19 2007 +0100

    Fix test for other RRoutputs using same Output on disabling it.

commit 5d961ba0ffba9121b06984deb2bdbb3aa20f862f
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Nov 29 16:07:31 2007 +0100

    Print RR output names after consolidateRandrOutputNames().

commit f339ce81e0064e8b0f0c9b145cc25f6919b8d22f
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Nov 29 15:56:59 2007 +0100

    Call xf86RandR12PreInit.
    
    This is only return TRUE; at the moment, but you never know.

commit 8b1b8bfb21d2d86780cb4e02abc813578daa24bd
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Nov 29 01:49:33 2007 +0100

    TMDSA: add macro control for 0x7142.
    
    Reported by Aljaz Prusnik.

commit 24c6c86706f3aac32b39329b8db8c15fe55648ee
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Nov 28 22:49:53 2007 +0100

    Provide a stub for I2CStop to prevent xf86I2CProbeAddress() from segfaulting.
    
    xf86I2CAddress() has been implemented in a way that it requires
    bit banging instead of the higher level WriteRead() function.
    We can emulate I2CAddress() but we also need to provide a function
    stub for I2CStop() to keep this function happy.

commit e0378c1bd8ba81352f25d9895aa8bc03337a4db4
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Nov 28 21:30:57 2007 +0100

    TMDSA/B: Fix some more macro control values.
    
    LVTMA: atombios provided macrocontrol value results in monitors losing sync:
    * 0x72B4: Reported by Sebastian Brock.
    * 0x71D2: Reported and tested to death by our very own Matthias Hopf.
    TMDSA: missing value for 0x71D5, reported by Kirill Belokuro.

commit da4783c9d4f72ce1431bd774e5cdcd52774d1584
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Nov 27 22:15:09 2007 +0100

    TMDSA/B: Add macro control values for 724B.
    
    Reported by Sebastian Brock.

commit 595977680baccc8d6412c631e3e03b4bd2304826
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Nov 27 19:18:45 2007 +0100

    Blank/unblank in SaveScreen no matter whether Crtc is active or not.
    
    Otherwise RandR activated screens will stay black.

commit 13452880677076970e0046a1f6e6c621677b4249
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Nov 27 19:05:36 2007 +0100

    Handle preferred modes correctly.

commit 9d04d6ab0441ec425cff3719499403b54273e3e9
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Nov 27 19:05:14 2007 +0100

    Assume that a panel is always connected.

commit 64e90964dcac908ba511b583e69d88cca2029148
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Nov 27 17:28:39 2007 +0100

    Split RHDModeInit() to separate funcs that don't need to be called on SwitchMode().

commit fb82047e63ef1a49ed4b2e6b715e7c55bac27cf4
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Nov 27 16:47:56 2007 +0100

    Reworked output detection. Using HPD and Sense now.
    
    Also adds support code for DMS-59 VGA adapters.

commit 892ca32ee5dae98818539af4ef317fda47ffd921
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Nov 27 17:06:27 2007 +0100

    Initialize rhdPtr->randr before calling xf86InitialConfiguration().

commit 7ec6dd8bb0b51fdcb488b232df0ee51999dec718
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Nov 27 15:30:30 2007 +0100

    Set color value for black for screen blanking.

commit 9a671ee09925dfa0955cabf5013deff69079ebac
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Nov 27 12:36:02 2007 +0100

    Add an address probe function.
    
    An address probe function seems to be required when
    providing a high level WriteRead() although it could
    be emulated using WriteRead().

commit 669df5eceb280e7954212b27d635d08df9f055a8
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Nov 27 12:13:16 2007 +0100

    Move VGADisable() and MCSetup() to ModeInit().
    
    Only needs to be called once per screeninit / entervt.

commit 6a9a3538c236e46d720317b79d5a7c41910fd3f1
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Nov 26 22:36:57 2007 +0100

    Fix wrong shift value which places top limit at the wrong place.

commit 2e0f5f112bddd85cef92225d88926861dd3bdef5
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Nov 26 21:35:54 2007 +0100

    Add MC handling to RandR.
    
    Since the code paths taken by RandR differ in some cases
    MCSetup() needs to be called from CRTCPrepare(), too.

commit ab297695ff5e3b00566eebca97b977644400e6c1
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Nov 26 20:58:19 2007 +0100

    Improve naming scheme for RandR connectors.
    
    Now only using connector name if unambiguous.
    Use analog/digital as names for DAC/TMDS if needed.
    Fallback to old names.

commit 9024701762ea282e5f861e8399b194b224bf5d2b
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Nov 26 18:49:21 2007 +0100

    CRTCs: implement a Blank hook.
    
    This makes sure that wierd framebuffer content, upon switching back from the
    console, is no longer shown.

commit 1c07fbe6284f90c9b8967d680a2d558e6785d428
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Mon Nov 26 18:04:22 2007 +0100

    Handle non-branch case of git workdir
    
    git-symbolic-ref HEAD may fail due to there being no HEAD. This happens
    (e.g. if you "git checkout some_tag"), is thus OK, and "(no branch)" is
    exactly what "git branch" prints in such a case.

commit b2e9bfde50080e2b2132a999213ffb0673b2bd32
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sun Nov 25 23:34:05 2007 +0100

    Print warning if rhd_conntest is not built.
    
    Print warning explaining what to do when rhd_conntest cannot be built.

commit 810f0ad546b08bd0c9eecb255c3f68dc39f5ff2a
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Mon Nov 26 17:46:57 2007 +0100

    Add stubs documenting xorg.conf options

commit 833aefbe0bc2d54ccbed4dd738ed3f27a100b0f3
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sun Nov 25 23:37:55 2007 +0100

    Add authors to man page.

commit 78b763f97ab62cf8d504cc238bb4d59c5b9bf6fa
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Nov 26 15:55:43 2007 +0100

    Added quirk for xf86RandRModeConvert not initializing Mode with 0
    
    HSync & VRefresh is actually already calculated by RHDRRModeFixup.

commit 122f8f8ec7019267dd79ab612c96b2c5a5bcac92
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Nov 26 15:12:03 2007 +0100

    Add quirks for broken Mode names and uninitialized HSync & VRefresh.
    
    Old xservers giving us broken Mode names (fixed in git).
    xf86RandRModeConvert is not initializing HSync & VRefresh, recalculating.

commit 45b217d263e232f1f57778e340371c95105c87e8
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Nov 25 20:27:32 2007 +0100

    Adding rhd_mc.h to Makefile.am.
    
    Thanks to Yanko Kaneti for pointing this out.

commit 1235392fd32ef836c1e81a0dc8304b04c873a318
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Nov 25 18:51:48 2007 +0100

    Add support for reprogramming of FB_LOCATION for R5xx and RV515.

commit 8508fa98e41d1ba828d1df7efae90a99995ea47f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Nov 25 18:50:57 2007 +0100

    Handle MCRead/Write differently.
    
    AtomBIOS puts the enable mask for MC accesses into the top
    byte of a word, while the MC index register has them in the
    upper word a double word.
    Do the transformation in the CAIL function.

commit 8c5f3454d6721a4dcb53be4784ea4a0a9c99ce4e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Nov 25 00:33:11 2007 +0100

    Add debug output.

commit 8b823f526cf6f91b770d0fc43838ed9a81940061
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Nov 25 00:32:07 2007 +0100

    Add debug output.

commit 7cb2192a202921f47176d5b50cbf81501a226414
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Nov 25 00:06:53 2007 +0100

    Add a sanity check.

commit 3b93b437e10e30ede927078c5546add1df7c501d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Nov 24 17:00:02 2007 +0100

    Fix memory offset for R6xx.
    
    Some 512Meg VBIOSes map the upper portion of the
    memory to the memory aperture exposed to the PCI
    BAR.
    This makes sure we always map the lower portion
    on R6xx.

commit ce2607d1f534a2008cdcbd14c805074355647a8e
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sat Nov 24 03:28:54 2007 +0100

    Patchlevel bump: 0.0.4.
    
    R600 LVDS is a rather big new thing, suddenly RS690M, M72, M74 and M76 devices.
    Next to that, there were quite a number of fixes.

commit 35107cdcc611c5aa7977830b840692bec7fd5559
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sat Nov 24 03:16:16 2007 +0100

    Connector table: HD2400XT was actually an X1550.
    
    Late night hacking. Not good.
    
    Sapphire X1550 HPD for DVI is actually HPD1, not HPD0.

commit 28f30774d24e991b3337612587264e0a593a5e5f
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sat Nov 24 01:50:06 2007 +0100

    Warning fix: CARD32 -> unsigned int again.
    
    Server side should get fixed.

commit 7caf826f822bdd61f1359241324a48bd0e6abc78
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Nov 23 22:19:28 2007 +0100

    LVDS: Allow R600.

commit 8144561e1e61d13b5d342b3cf3679d4593154c3c
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Nov 23 22:11:10 2007 +0100

    TMDSB: unsplit code for TMDSB.

commit 3d01d69fc3a4f23b0ab8171f60d9dc8380a6c9da
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Nov 23 21:44:16 2007 +0100

    LVTMA: use some nasty macros to hide the shift in the register space.

commit d9cd95f1fe4bcb14b604a0ae41cb1645685b2299
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Nov 23 21:37:59 2007 +0100

    LVTMA: R690_NOT_DOCUMENTED is just REG_TEST_OUTPUT
    
    Spotted by Hermann Gausterer.

commit e294a134531a112570a31715eb6f4e91245a86ba
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Nov 23 21:30:29 2007 +0100

    PLL: Add r6xx mobilities to PLLElectrical.

commit 75a6d7fb9c185a175bb877151f4012ac91457b79
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 23 20:06:45 2007 +0100

    Better detection of RandR 1.2 interface on compile time.

commit 23ad1ec735a779ed4cb30e0fec4bd5175afde567
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 23 19:34:54 2007 +0100

    Fix Imakefile (rhd_randr was missing).

commit f5ffe41a6c1ffa9418782b7059b075da06e7c496
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 23 18:36:58 2007 +0100

    Nuke another xf86Parser.h

commit 6895da057770e14968920469e87e2a244f5d7f6d
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 23 17:27:55 2007 +0100

    Add ForceReduced and RRUseXF86Edid options.
    
    Made ForceReduced a global option and allow it in RandR mode as well.
    Added RRUseXF86Edid option to revert to old behavior.
    Some cleanup.

commit 05e36063eb0231543aa6d34c74b6370b953256d3
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 23 16:50:00 2007 +0100

    Add rhdCrtcUnlock for later usage.

commit 622ff7623da0337a9822ba13509151f30be502d4
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 23 16:45:58 2007 +0100

    Use own monitor & EDID functions.
    
    Improves mode validation.
    Allows for panel information fetched from AtomBIOS.

commit 746d876c29c0f333d20a29e1635e5a6d218157ae
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 23 16:45:01 2007 +0100

    Keep EDID data for later usage.

commit 9462fe518095e7f04a93319bb5142b83e2fb76dd
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Nov 22 18:35:56 2007 +0100

    Disable framebuffer tiling.
    
    AtomBIOS AsicInit seems to turn on tiling on some chips.
    Therefore we explicitely disable it.

commit 214e136a41e59d0af9de6c53bdab50b381812a80
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Nov 22 18:36:58 2007 +0100

    Format the connector name for TVout better.

commit f7af7c8eed55b50d21dc3fade42118308d4082ee
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Nov 22 13:20:22 2007 +0100

    Use more user friendly connector names.
    
    While the present connector naming sceme is useful for debugging it is
    not generic enough to be used by users.

commit 7043112600d8138d3a3bddbf86d6b6b0a199e244
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Nov 23 13:51:20 2007 +0100

    Add a debug printout for  R6XX_MC_VM_FB_LOCATION.

commit 60d0a3838effba288e1288b6dedd02016c8005fa
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Nov 22 09:24:02 2007 +0100

    Changing default depth to 24bpp.

commit 476e198706efda69a90261b4a467f00f866b5daf
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Nov 22 18:27:02 2007 +0100

    Comment on all git calls' compatibility

commit 00fb05b2931e63a9b036ecbafc29abb6a2783e06
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Nov 22 18:22:36 2007 +0100

    Detect uncommitted changes with git 1.4.x

commit ff796eba071341aad9235520a53f2c33456447fe
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Nov 22 17:56:38 2007 +0100

    Get rid of redundant broken GIT_DIR hack

commit 5a9dd7fd682eba6b183f0de234f6441f3db0b8ed
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Nov 22 16:25:00 2007 +0100

    TMDSA: actually use IDCLK.
    
    This fixes a jittery mode at certain dotclocks on the dell X1300.
    
    Reported by Ivo Couckuyt.

commit eee815e19c730b95fa63954e4695b2e4edd50135
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Nov 21 16:18:30 2007 +0100

    Connector table fix for Sapphire HD2400XT.
    
    2 DVI-I reported, 1 VGA and 1 DVI-I present. This means that HPD isn't there
    and that the load of the DAC on the VGA connector is not checked at all.

commit 23aec9b4d25c060003eb76351bff80f7c8ad517d
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Nov 22 12:31:44 2007 +0100

    Nuked xf86Parser.h

commit 3aeb91663629708cacc9800d792513aa5b736bf7
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Nov 22 12:30:53 2007 +0100

    Check rout->Connector->DDC before using it.

commit 43af6cc8bc959495073c6309b69e2f525c164ed6
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Nov 21 20:46:26 2007 +0100

    man: Add link to bugzilla

commit 20818bdb21440dbf24cc6ccf28909961803f9394
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Nov 21 20:45:21 2007 +0100

    man: Add link to radeonhd wiki page

commit 71f312cf0e243cb0c3242f78bcd5e127e155a26a
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Nov 21 20:32:26 2007 +0100

    I have only written the man page, not the driver.

commit 545f18c4ffaeac17cfb266483593b6b7ccc32f00
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Nov 21 20:29:42 2007 +0100

    man: Work around RandR problems (disable it)

commit af1b08bc9f700ba99bfa3ad7beae65a044b1a703
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Nov 21 20:22:49 2007 +0100

    Document Option "RROutputOrder" in man page

commit 6419ace7fb8164a4c2d81f8b66e7571ff8279be7
Merge: ed9065a... 29c9ea3...
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Nov 21 16:06:25 2007 +0100

    Merge branch 'initial-randr'

commit 29c9ea3e7c9272c1de4c8e9cd0b64dddae259c44
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Nov 21 15:56:15 2007 +0100

    Bump to 0.0.3

commit 49b74a20104fe1df692785069090f992459c160e
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Nov 21 15:56:04 2007 +0100

    Add 'RandR' string to messages where it was missing.

commit ed9065a4288b92d4e3c286071b1a452bb1756a88
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Nov 21 15:46:42 2007 +0100

    LVTMA: Add TMDSB support for R600, Rs690 and Rv6x0.
    
    Half the register block was shifted, and there is an undocumented register
    for rs690 still.

commit a5f37ef8a15a248b1a7906d84ed986d925561ba8
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Nov 21 15:00:50 2007 +0100

    Added RROutputOrder option to setup Xinerama screen order.
    
    RandR outputs listed in Option "RROutputOrder" (separated with spaces or
    commas) will initialized first, and in this order. The Xinerama screen order
    is apparently directly reflecting this order.

commit a533fd5f23f6da896a01202f9e76c0af8b3ac3e4
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Nov 20 20:26:53 2007 +0100

    Upload and set cursor images independently of Crtcs being active or not.

commit 3c7241551a79243b33c98497f045fb82689e93b8
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Nov 15 18:56:01 2007 +0100

    Quieten imake compilation (git_version.sh)
    
    If git_version.sh does not change git_version.h, it does not print
    any messages now due to the new --quiet option.

commit 1d55726aff4510ec5bde8a296da1c319bf9fc043
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Nov 15 18:54:05 2007 +0100

    Indentation fix

commit 6aed725ac7e679567c517c5c5a17d94a625b8859
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Nov 15 17:45:04 2007 +0100

    Keep git commit info in dist tarballs
    
    Add git_version.sh option --keep-if-no-repo, and hook it into imake
    and automake builds.
    
    automake builds do proper "make dist" tarball generation, shipping a
    git_version.h file specifically marked as being part of a dist tarball.
    
    Both automake and imake builds keep existing git_version.h files if
    they detect the source tree is not a git workdir.

commit 54cf410fdd3a220b18c6f922695d6d944862b6f6
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Nov 15 17:20:09 2007 +0100

    Multiple git_version.sh cleanups
    
    Add better --help output, make sure errors got stderr, etc.

commit a6e1398bba8683098c5c6fd36f868ec2e0d11187
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Nov 15 16:07:20 2007 +0100

    git_version.sh: Note git version in .h file

commit c386f2ff8783024febb340fa661385bbe0ea2837
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Nov 15 15:50:48 2007 +0100

    git_version.sh: Robust error handling
    
    Handle errors (git tools not present, not a git repo, error running
    git tools, ...) properly, by either saying "non-git sources" or by
    adding an error message.
    
    Write enough info into git_version.h to make it possible to determine
    problems rooted in git_version.sh.

commit ad7f73c95e55d729491eded0a0beaa061e284655
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Nov 14 22:13:11 2007 +0100

    Use (II) prefix when logging version info

commit 1c6828c40020d47ca7bd356d132bb05ca397aefd
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Nov 7 02:57:05 2007 +0100

    git_version.h: More efficient and robust git use
    
    Use the proper internal git tools instead of parsing git porcelain
    output. Thanks to the experts on #git!

commit 6c1d27fb5a6ec284f123bbab71a561e8ebc2daa7
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Nov 7 01:19:03 2007 +0100

    rhd_conntest: Shorter version msg (fit line?)

commit 6048f47c8178fc636de14849a51527c60460a833
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Nov 19 21:18:11 2007 +0100

    Nuke '..' from git id so copy/paste to gitk actually works.

commit 99fbaeeb443b5474bb99f24541ebfe697484df0d
Merge: 4b20125... dbb073b...
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Nov 19 20:55:44 2007 +0100

    Merge branch 'master' into initial-randr

commit 4b20125f2e633aaf76532eba86e5652f2b32ef3b
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Nov 19 18:35:00 2007 +0100

    Don't set CRTC to NULL when disabling shared outputs.

commit dce9ffc402511d0820c0fcdd7228e1f2ce8571fc
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 16 20:33:40 2007 +0100

    Add potential RandR 1.3 output properties.
    
    This adds the following (immutable) properties to every output, as partially
    described for discussion in an randrproto.txt diff on xorg-devel:
    
    RANDR_SIGNAL_FORMAT
           Type:                   string
           Range/List:             unknown VGA TMDS LVDS FBAS SVideo
                                   YPbPr DisplayPort
           Signal format / physical protocol format that is used for the
           specified output.
           A driver MAY change this property of an output if the
           underlying hardware indicates a protocol change (e.g. TV
           formats).
    
    RANDR_CONNECTOR_TYPE
           Type:                   string
           Range/List:             unknown VGA DVI DVI-I DVI-A DVI-D HDMI
                                   internal TV TV-FBAS TV-SVideo TV-YPbPr
                                   TV-SCART TV-C4 DisplayPort
    
           Connector type, as far as known to the driver. Values with
           dashes (TV-FBAS) describe more specific versions of the base
           values (TV). The former SHOULD be used if the connector is not
           capable of producing other signal formats. The later SHOULD be
           used if the exact connector is unknown, or the connector is a
           multi-format connector that is not described otherwise.
           'internal' describes laptop-internal (normally LVDS) displays.
           'TV' and 'TV-SCART' with signal format 'VGA' are valid
           combinations and describe RGB TV signals.
    
    RANDR_CONNECTOR_NUMBER
           Type:                   int32
           Range/List:             0-
    
           Outputs that route their signal to the same connector MUST
           have the same connector number. Outputs with the same
           connector number MUST route their signal to the same
           connector, except if it is 0, which indicates unknown
           connectivity. 1 is called the primary connector, 2 the
           secondary. 3 is often a TV connector, but that is completely
           driver / hardware dependent.
           Outputs with the same connector number SHOULD have the same
           connector type. Meaning and client behavior for mismatching
           connector types is undefined at the moment.
    
    RANDR_OUTPUT_NUMBER
           Type:                   int32
           Range/List:             0-
    
           A card may route one internal output to several connectors.
           Connectors that are driven by the same output cannot be driven
           by different Crtcs and are thus only allowed to be used in
           clone mode. The driver SHOULD emit an error message and
           continue as gracefully as possible if using different Crtcs for
           the same internal output is requested.
           Internal outputs are numbered from 1, 0 indicates that output
           routing is unknown.

commit dbb073b8b314264e311c3a1ebecd13d93e9627a6
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Nov 16 19:36:24 2007 +0100

    ID: Fix up Macbook pro.
    
    This one has a rather awkward atombios connector table and requires an id based
    workaround.
    
    Thanks to Jerome Glisse.

commit e4c4c44bd61e72c00a8769ceebc0e3bdc15742b8
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 16 18:03:18 2007 +0100

    Cleanup.
    
    Also documented one of the more exotic error messages.

commit df5487f9f869da26062f8229e678fddef9c5f065
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 16 15:48:01 2007 +0100

    Reordering ScreenInit(). Now closer to original order again. Fixes 16bit.

commit 78954e2c72af530b08413395da79953b4b939d52
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Nov 15 16:33:36 2007 +0100

    Added Radeon X1250.

commit 9031b870607336be2517188a7b57e63558e7d58f
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Nov 14 17:51:15 2007 +0100

    Nuke include of sys/types.h.

commit aa97a9082f3901acdeb89cab875621a641efd8c8
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Nov 14 17:21:29 2007 +0100

    Call FrameSet() in AdjustFrame() only in the non-RandR case.

commit fcca0f2e351b953a00c19713ed868b84da89807d
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Nov 14 17:14:06 2007 +0100

    Don't shut down outputs that have active connectors attached.
    
    Something that cannot be solved with the current RandR model is that multiple
    connectors might be attached to the same output. They cannot be driven with
    different crtcs then, but RandR sees them as different outputs because of a
    missing abstraction layer. This implementation will silently set one crtc or
    the other, and maybe even won't warn.

commit 8ac590882a822a02fd15d7671d6796f6a1a54e13
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Nov 14 17:11:23 2007 +0100

    TMDSA: create a table for electrical adjustments.
    
    Create a pci device id based table with electrical values for all
    currently known devices with TMDSA. Warn verbosely about unknown devices.
    TMDSB now also includes support for the RV530 on the Dell low profile card.

commit ec66e3b0e84bd57fcd93af2319025595b7dfd9bd
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Nov 14 17:10:52 2007 +0100

    Improved RHDDebugRandrState. Also logs only and does not spit on stderr.

commit 5c174fe4b1b087491975aa42d39e3201611910ac
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Nov 14 14:19:42 2007 +0100

    Fix missing ModeLayoutSelect() in noRandR case.

commit 6f1800ca52531f5baf3df2e65a7bbd93e4b1e637
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Nov 12 22:46:47 2007 +0100

    TMDS B: Add table with macro control values.

commit 6d84bd8b1a20db80d5111d1dca0a3e0da7fca571
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Nov 12 21:45:02 2007 +0100

    LVTMA TMDS: Add initial TMDS support for r5xx.
    
    Called "TMDS B".
    No Load Detection possible.

commit fe834af6713bccf3a6b4bc981b235872131aff7c
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Mon Nov 12 11:49:24 2007 +0100

    Add rhd_randr.h to dist tarball.

commit 7dc989a5dfc330d58372f34ab8978c255af328ff
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 9 21:48:47 2007 +0100

    Moved header file inclusion (rhdConnectorType needed for rhd_output.h).

commit ac7d8de963b654ced88c2740e0e0649ca6025133
Merge: bf523a1... e9c24f6...
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 9 21:35:40 2007 +0100

    Merge branch 'master' into initial-randr
    
    Conflicts:
    
    	src/rhd_cursor.c
    	src/rhd_driver.c

commit bf523a1146d88ff7454ab07156abb4f2489828f6
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 9 20:58:41 2007 +0100

    Move FrameSet() to the correct position.

commit 7eea83610134305e464b003df531ac0a9de3dd75
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 9 20:23:22 2007 +0100

    Split up output handling code into standard RandR functions.
    
    The obvious approach to handle everything in rhdRROutputModeSet doesn't
    actually work, because this function doesn't get viewport information.

commit 3c277f5827f1a2691a52a207e837833e9b722687
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 9 20:20:08 2007 +0100

    Monitor is handled by RandR completely transparently.
    
    Nuke the remaining (commented) monitor handling code.
    There is no rhdMonitor section filled in in rhdConnector yet. Dunno whether
    we will eventually need it.

commit 5e3b1bb48b9844fdf09467ca5e204d1b901c355b
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 9 18:38:26 2007 +0100

    Only set Mode of Output currently processed, not of all Outputs.

commit b118e216968a95f805b462e24399ef1f70bab1a2
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 9 18:33:44 2007 +0100

    *Dpms functions may activate / deactivate Crtcs and Outputs.

commit 3fd122036455b1b9a993b1c584cbf32fe7f8d9fd
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 9 18:32:49 2007 +0100

    setupCrtc() when called from ModeFixup() should not ASSERT anything.
    
    Also, Output->Crtc is now set in ModeSet() only.

commit fb5b84002ff848df6b24c83bd4b85413e8e34baf
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 9 18:26:43 2007 +0100

    Print out RandR state for debugging purposes.
    
    Also improved other outputs.

commit e9c24f662860229440dc61ecbae22e7d7c74d442
Author: Joerg Mayer <jmayer@loplof.de>
Date:   Mon Nov 5 15:42:26 2007 +0100

    Improve online help in rhd_conntest.

commit d618f205263ee40be72d473b658d1da8df2bfe88
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sun Nov 4 01:43:28 2007 +0100

    Adapt rhd_conntest build description

commit accf9c410e1401e326924f2034d79dd2ac093751
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sun Nov 4 01:41:56 2007 +0100

    Do not recursively build rhd_conntest (imake)
    
    A normal "make" run on imake builds will not descend into
    utils/conntest/ any more. However, "xmkmf -a" still creates
    utils/conntest/Makefile from the Imakefile, so the user can
    "cd utils/conntest && make" to build rhd_conntest.

commit e119fffba13adf57895ac84647e77ed44729659d
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sun Nov 4 01:31:21 2007 +0100

    Fix git_version.sh srcdir==builddir
    
    Consequent separation of source tree dir ($srcdir) and working
    dir ($working_dir). Fixes imake and automake in-tree builds.

commit 55ece6bdfb7b61ed13780e60eb62a9b0af598afb
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sat Nov 3 23:31:14 2007 +0100

    Have conntest build require pci/pci.h and -lz
    
    If either of those is not found, rhd_conntest is not built.
    
    Affects automake builds only.

commit 6e5a49e7b78507aedcb1ca07fd7f2d6b61565c90
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sun Nov 4 00:02:59 2007 +0100

    Add TOC to README

commit 1d6a464ee145b61f865e47d3de9dd2f7054c9ff6
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Nov 3 20:09:53 2007 +0100

    Use correct variable for DDC speed setting on R6xx, fix some warnings.

commit 3b89d73c8dc64218a634af5e025c473daf067a79
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sun Oct 28 23:38:26 2007 +0100

    Commit automatic update to radeonhd.man from rhd_id.c
    
    This update was found using experimental code which updates
    the man page from the rhd_id.c RHDIdentify() output.

commit 601aba57e3d14fe8e6008aa3d3aeb8776552d98a
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sun Oct 28 17:12:05 2007 +0100

    Remove monitor section advice from "known bugs" section
    
    radeonhd handles monitor sections differently, and thus does not cause
    these problems, since 2aa53c95a85824f4ed175943acf7f1c37cbe8e8c.

commit e8847035f78399df65d7b2f78073909fdc9e2154
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sat Oct 27 08:41:39 2007 +0200

    README section on common build problems: missing XORG_* macros

commit 669509e22fe48ebd464638c6c550f6b75598de63
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Oct 25 22:21:58 2007 +0200

    Preselect both product AND component in bugzilla URLs

commit a53cabe23c1acfa60167a5986a9dabe999d55612
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Fri Nov 2 21:20:42 2007 +0100

    Log git commit if source tree is git checkout
    
    Defines a number of CPP macros with a git commit version message
    if source tree is git checkout.
    
    Both radeonhd_drv.so and rhd_conntest print that version message.
    
    Numerous adaptations to git_version.sh and build rules:
      * only touch git_version.h if content needs to change
      * always define useful GIT_MESSAGE
      * add example program using git_version.h
      * handle srcdir != builddir
      * variable header name and ifndef

commit 340e18ff01f1e452e8e2101d9f99804a52b1cf22
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sat Oct 27 06:07:02 2007 +0200

    Add Luc Verhaegen's git_version.sh from xf86-video-unichrome

commit 213b1b275ef20a3f93768860b67a759843c4825c
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Fri Nov 2 20:57:02 2007 +0100

    Cover all build aspects with imake+automake
    
    "make dist" tarballs can now be built with imake.
    Build, but do not install rhd_conntest by default (am+imake).

commit d5d492b83353a38cb8ecbc605310fd8580e35b03
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 2 20:07:13 2007 +0100

    Do NOT update virtualX/Y via rhdRRXF86CrtcResize callback.
    
    This is strange... if we set virtualX/virtualY like the intel driver does, we
    limit ourself in the future to this maximum size.
    The check for this is internally in RandR, no idea why the intel driver
    actually works this way...
    Even more curious: if we DON'T update virtual, everything seems to work as
    expected...

commit fa58e27274933c26d63b64f0d973296959f002f0
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 2 20:02:45 2007 +0100

    Cleaned up comments.
    
    Also nuked some assert descriptions that are VERY unlikely to happen.

commit b865c0348e6f9bd45cc10dc83ea866f9795476ee
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 2 19:47:42 2007 +0100

    Disable monitor handling in ModeSet for now.
    
    It's wrong this way anyway.
    Also add more precautious crtc handling.

commit 946e1b5ebc4d53e9e9016eadb6d9286514e42bc9
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 2 19:41:27 2007 +0100

    RandR may give us a mode without a name - work around that.
    
    xf86RandRModeConvert sets mode->name to NULL - which lets our mode validation
    horribly fail. Copying the name from crtc->mode. This hopefully is not a
    memory leak, as the mode SHOULD be cleaned up.
    Modes can now be changed successfully.

commit 6b8afe2c521a3fd3b06807fdfd0b040547180d92
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 2 19:02:46 2007 +0100

    Don't include crtcs in check during mode_valid, only in fixup.
    
    If out-crtc is ever not NULL, it is not necessarily the Crtc that will be
    used, so it's better to skip crtc checks altogether...
    PLL in Crtc might now not be initialized when dpms is called. Ignore then.
    An crtc might already be assigned to an output, only assert for not being
    active then.

commit 6e26f324b310366ee914c438634c07082eb73ec6
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 2 18:54:23 2007 +0100

    Add missing stdio.h.

commit 9119e1e720a7632bd3e91f3a5eb822e6dd4b68df
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 2 18:53:10 2007 +0100

    Make compilation w/o RandR 1.2 support possible.
    
    If RandR 1.2 support is not available during compile time, the driver will
    fall back to standard old-fashioned modesetting.

commit 347806c70483cc4b8654725eee2cecabe0a40bfd
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 2 18:43:03 2007 +0100

    Moved RandR init further around.
    
    It's supposed to be called after framebuffer and acceleration initialization.

commit d392aba3f9c32703796b40f5c107ef6aae94279b
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Oct 31 13:41:43 2007 +0100

    Remove unused include breaking non-x86 builds
    
    rhd_conntest was not using sys/io.h anyway. This fixes builds
    on Linux PPC and PPC64, and on FreeBSD.

commit a35e22736dead92d8d4f865940bcc32a4a597f27
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Tue Oct 30 14:32:51 2007 +0100

    Remove unused redundant definition of SED var

commit e231e8549f2be205488516d7159970221125f527
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Oct 25 15:57:18 2007 +0200

    Have git ignore *.s and *.i files

commit f9f4ce59735fae0266f83e03392295f1940cec23
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Oct 24 20:50:53 2007 +0200

    Test for missing XORG_ m4 macros at autoconf time (part II)

commit ad599c4436c64b11d18c89da6a684f5241979a96
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Oct 31 22:42:05 2007 +0100

    Add a flag member to the card structure.
    
    This is the better solution for handling DMS59. We now more intelligently
    handle the two reported dvi-i connectors to also be able to handle the
    dms59 to VGA connector.

commit 4a63f60ffec3110ad8a828a40db5bbb24ae79f86
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 31 14:42:01 2007 +0100

    Added DPMS handling. Using right mode. Improved debug output.

commit 89e0c8f6d0d2da1ffe89bb3ac408fef699216fb0
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 31 14:39:55 2007 +0100

    Ignore even more standard monitor / mode handling in the RandR case.

commit fca8ddf1c9fceec38d22a58b2dbb306dada0694c
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 31 14:38:28 2007 +0100

    Save cursor for non-active screens as well.

commit ce02ed8c252d0b7c5921aa08046cfbb7051d1638
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Oct 30 19:16:02 2007 +0100

    Improve the ConnectorType handling when sensing.
    
    Rename enum _rhdConnectorType to rhdConnectorType while we are at it.

commit b6460b330974277c94a8b7901c20fddac813044c
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Oct 30 18:36:25 2007 +0100

    Properly fix 1650Pro PLL gain control.

commit 99df3c36f99692938c41463f008e8f49687ef97f
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 18:34:10 2007 +0100

    Mode setting.
    
    We have a mode :) Even multiple ;)
    Several minor and major quirks still, but it works.

commit e532cc4ea98a2bc331499378a024005ada6072e4
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 18:10:32 2007 +0100

    Don't set up regular mode structures if RandR is active.

commit 4232fa253e4037fcd7df752e7b12b34ac35ab7af
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 17:47:55 2007 +0100

    Fix use of uninitialized variable.

commit 6d1285c28bbb732a4a2204c31ca8dcb91a8d9689
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 17:40:42 2007 +0100

    Whitespace + indentation cleanup.

commit f3a2530cea981c6b4c88ec85093032ea152ed47f
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Tue Oct 30 17:37:03 2007 +0100

    Add <stdio.h>/<strings.h> to files using snprintf/strcasecmp.
    
    This change finally fixes the build on FC6.

commit 26c1caab69472aec7d51f04ecd2386c937b0ca51
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 17:32:52 2007 +0100

    Move RandR initialization to right position. Nuke unnecessary SetDesiredModes.
    
    This validates modes fine now. Still the hardware isn't banged at all.

commit e055694d7f8a8dfc1239fc54660c0ae8ee903883
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 17:28:39 2007 +0100

    Add NoRandr option that disables use of RandR based modesetting.

commit 15f2aa5c3b214f269b11967c68bcb99ede10b41b
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 16:46:23 2007 +0100

    Trivial fix for dummy function returning something.

commit b489a7b0ae18bd0db7205c57eec08f172f3a62ec
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 15:58:48 2007 +0100

    Add <string.h> to files using memcpy.

commit 972e21bb48771050cbf35a8ef9c36a13fff27d68
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 15:57:32 2007 +0100

    Add <string.h> to files using memcpy.

commit 4c081578556db35ec21ad83383e07b3891b7d3bc
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 15:34:24 2007 +0100

    Added Mode Validation and necessary dummy functions.
    
    This doesn't work correctly yet, because modes are still set from rhd_driver.c.

commit 6ceb6870bcc2774fb6acd2b6467a091e0cac1504
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 15:28:31 2007 +0100

    Added RandR entry point for mode validation.

commit 92a4e62150f05fc5be37d53624428006c134408c
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 15:27:05 2007 +0100

    Use ASSERT() instead of assert().

commit 9a660b164fd42bc434d5fc88d8e13decb303c9c8
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 15:24:02 2007 +0100

    Add ASSERT() macro, which bails out nicely, restoring video mode.
    
    NDEBUG is defined in xorg-server.h anyways. Shudder...

commit 157ea657c12d00501976a274fd362bcc1dd3c6e7
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 15:19:02 2007 +0100

    Include rhd.h for struct rhd{Crtc,Output,Monitor} declarations.

commit c59aebecc3ed2d9033b9c280768646a1c2b5db38
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Oct 29 19:14:00 2007 +0100

    Actually use RandR functionality in main driver if available.
    
    Due to missing mode validation, it actually *isn't* available yet.
    But Preinitialization is called.

commit 09eab90fbd3327a6420dd413b67ac5aa3f99c18b
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Oct 29 19:12:43 2007 +0100

    AC_SUBST RANDR_VERSION - in case it's ever needed for compiling rhd_randr.c

commit c2bca8c80eef27740804675c4b179f14e0f2286d
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Oct 29 19:11:47 2007 +0100

    Initial RandR framework.
    
    Contains framework for RandR which doesn't really do anything but setting up
    data structures. All RandR Outputs get an individual, unique name that is
    composited from rhdConnector and rhdOutput.
    Contains also first functionality: Output probing.

commit 4549f6b11e41273a80c359e7db8bc69949325fe5
Author: Ian Schram <ischram@telenet.be>
Date:   Mon Oct 29 12:48:46 2007 +0100

    Allow for spaces to occur in the path to the installation files.

commit 604bfb02cefa5f56b40aea2dc3256f09836121a4
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Oct 26 20:13:14 2007 +0200

    Move restoring of PLL spread spectrum until after PLL Set.
    
    This fixes the unacceptable mode instability when returning to VT on
    some mobilities.
    
    Debugged/Tested by Henry Ritzlmayr.

commit 2aa53c95a85824f4ed175943acf7f1c37cbe8e8c
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Oct 26 17:54:51 2007 +0200

    Be smarter about the monitor section by selectively ignoring it.
    
    Too many users are hitting this horribly outdated paradigm of one driver, one
    device, one monitor. Most of the configuration utilities out there still
    insist on creating a monitor section inside the config file, with a
    completely useless statement which enables DPMS which happens to be enabled
    per default anyway and cannot be disabled (the latter because of broken
    option handling in X dpms code).
    
    This hurts us because, when a handcreated monitor section is there, a sane
    driver should assume that this configured monitor is just there to add further
    restrictions to already known monitors, or to make up for lack of autodetected
    monitor information. This is why a driver should use this information.
    
    But apparently, the only real-world option is to ignore this section.
    Sanity doesn't count.
    
    So, new handling:
    * complain about monitor section if autodetected info is present.
    * use configured monitor if no autodetected info is present, fall back
      to default timing if no configured monitor is there.
    * option "useconfiguredmonitor" is there to enable the so desiring user
      to make the configured monitor matter in the autodetected case.
    
    Personally, i believe this to be overly complicated handling, and wrong.
    It's the third millenium, we can have multiple monitors already.

commit efc5981b135294a546e794d260dff242287ec71b
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Thu Oct 25 22:23:51 2007 +0200

    Generate the manual page properly on imake-based systems.
    
    Credits go to Hans Ulrich Niedermann.

commit 08ed486c954e889d36ce297b92dd4d6fff519d20
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Thu Oct 25 22:14:11 2007 +0200

    Added ID for Radeon HD 2600 LE (RV630).

commit d8cb8a2a8315f86fae0266f58ee30b609c81d510
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Oct 25 12:10:54 2007 +0200

    Set Id member of struct rhdOutput to the proper enum type.

commit df398db5262e4c9c4f0680894802368945725763
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Thu Oct 25 10:00:14 2007 +0200

    Added Imakefile for driver manual page.

commit dbdcc96f8a1daab5e9bc7b086ed9e2630bb350e2
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 24 19:49:06 2007 +0200

    AtomBIOS related source files need different CFLAGS due to stdc99.

commit 3a044302e9d2323d64ab26ce7e36d62637ef3c70
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 24 18:37:33 2007 +0200

    Abstracted CC flag detection into macro for further use.

commit 48627d47096e8bc9347cb1a77227f34fca0622ca
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Oct 24 18:46:16 2007 +0200

    Move PACKAGE_VERSION_* defs to a separate template file and simplify filter.
    
    To prepare for imake man page build common imake pieces are moved to a
    separate template file.
    Introduce a new non-split version def using cut and simpler sed expression.

commit 0c53811db529c316c3d077f9cc34bf04658ddf40
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 24 18:40:05 2007 +0200

    Change message for unknown card if we use AtomBIOS.
    
    With the usage of the AtomBIOS provided connector information
    chances are high that unknown cards are working.
    In this case users only need to contact developers if the driver
    doesn't work or doesn't work optimally.

commit 39c9e7cb26b77211ba4a33acf3f92eeb0c466d60
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Oct 24 18:31:05 2007 +0200

    Fix name: conntest -> rhd_conntest.

commit c646e9939a58e255232c162092dce811bc02a6ba
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Oct 24 18:11:14 2007 +0200

    MCS-59 doesn't exist. It's DMS-59.
    
    Stefan: stop laughing!

commit 533e86624eb0dfa4c32a22312e14b9750a1136db
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Oct 24 18:11:22 2007 +0200

    Add missing man page files.

commit ee98fac5a088c39d095bcb82a6ed4a4a60fb7f7d
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Oct 24 16:30:09 2007 +0200

    Add man page describing the most frequently encountered problems.
    
    Also extend README to describe how to build and install the driver.

commit 737d940b83001dbba858d9025a25024bda439726
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Oct 24 15:43:49 2007 +0200

    RHDGetVirtualFromModesAndFilter: second return value not checked.
    
    Obscure bug found by new extensive warnings.

commit 84eed053389b190778f7e8e1c204a0776f833de1
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 24 15:21:23 2007 +0200

    Spell correction.

commit cadce1be5a95aa734d42dccd698e02bbcf50df87
Merge: 950d4ae... e518e62...
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 24 15:18:49 2007 +0200

    Merge branch 'master' of ssh+git://git.freedesktop.org/git/xorg/driver/xf86-video-radeonhd

commit 950d4ae75b9e8841d58163debb891bc4512be995
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 24 15:14:39 2007 +0200

    Fix warning flags for compilation.
    
    Some -W flags create superfluous warnings. Misread some warning definitions in
    gnu CC info page.
    For debugging, some useful warnings can be re-activated with
      make CFLAGS="-O2 -Wshadow -Wunreachable-code -fno-inline-functions"
    as documented in configure.ac right now, but not all warning messages will
    make sense in this case.

commit b632a681615abdc1a47b63093d5a2c337b8cb494
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 24 15:12:24 2007 +0200

    Nuke unnecessary return.

commit cae34460aa56592d50a1f3b7b22363b42d15de2a
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 24 15:12:01 2007 +0200

    Fix signed/unsigned comparisons.

commit c649c0ec2b2f1e2510bb31a219ed5c2a5ec55f47
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 24 14:27:18 2007 +0200

    Don't check unsigned for <0.

commit e518e625ef3ea004137cabaa82d6b3bc43b0c8fd
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 24 14:26:04 2007 +0200

    Muffle the compiler some more (fix initializer of list element).

commit d50cb17ca58bbc2818b74f7a3d771bf5ba3d1f0b
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 24 14:14:07 2007 +0200

    Fixing uninitialized elements (noncritical).
    
    Includes libpciaccess fix.

commit 925263b911cba91cf2d8ec1d5fc0128e06df887a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 24 14:11:59 2007 +0200

    Fix fixable warnings.
    
    Commit 8699deaba2c added a list of compiler warnings which
    lead to a lot of noise during build.
    Non of the issues found seemed to be really relevant, still
    this patch attempts to fix all the issues that could be address:
    - comparisons between signed and unsigned.
    - unreachable code: unreachable return statement.
    - shadowing of global symbols (don't use 'index' as a symbol!).
    - order of static and const.
    
    Other issues cannot be fixed:
    - when functions are inlined some code paths in the function might
      be unreachable. The compiler should deal with this but not warn!
    - enums in a switch statement. gcc braindeadlessly complains even
      if there is a default: case.

commit 5754a225af8adc7dc84fdb2b311f668e3307dc79
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 24 14:03:59 2007 +0200

    Make test for linux more portable. Test for __linux__.

commit 32f054c2ba0029751845303b854f8e384a3360b2
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 24 13:57:38 2007 +0200

    Nuke unnecessary array existence check.

commit 81aa992954bda400e4b69b47293e081162240acd
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 24 12:27:03 2007 +0200

    Fix pciaccess compilation.

commit 9cff4d746a83fcf6951e90d399092f4708c08513
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 24 12:00:01 2007 +0200

    Nuke unnecessary redirection.

commit e9cad33452c1164e11d81d69a02834cc40a609ba
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Tue Oct 23 20:08:21 2007 +0200

    Test for missing XORG_ m4 macros at autoconf time.

commit 621f062dcdb22b2752c90d6f2a2f7553e6c250fb
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Tue Oct 23 17:56:30 2007 +0200

    Change 'conntest' to 'rhd_conntest' in README.

commit 155451a223184ce1f8e2171d23e7877254e8e2c3
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Tue Oct 23 17:44:28 2007 +0200

    Check if we can map VBIOS ROM and bail out if not instead of segfaulting.

commit d6889e8ddbad0e131c1d34cdef713ca49c4b7982
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Tue Oct 23 17:42:16 2007 +0200

    Make PACKAGE_VERSION_* extraction more portable.
    
    Replace scanner for the different elements of PACKAGE_VERSION with a
    simple 'cut' in configure.ac and with a more portable sed expression.
    Only use own macros in configure.ac when no macros have been defined
    in the xorg m4 macro files.

commit d8cabbea5cff35692a817e55227e577eac3a4c60
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 23 16:37:54 2007 +0200

    Enable LVTMA for panel on RS690.
    
    LVTMA panel support seems to work on RS690. So far
    the panel doesn't come one when it hasn't been active
    at boot time. This issue will be addressed separately.

commit 08187867f6ac27e55ca3218b32d4e26988e80c89
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 23 16:36:12 2007 +0200

    Remove unused driver options.
    
    Remove PROBE_I2C as it is not used any more (the functionality has
    been moved to rhd_conntest).
    Remove PCI_BURST as we have no use for it.

commit 95b492155ff380c74d6f1c5335512d0afb06de3a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 23 20:31:47 2007 +0200

    Implement PCI BIOS access reenablement to read BIOS from ROM BAR on POSTed systems.
    
    Once a RadeonHD chip has been POSTed it is no longer possible to read
    its PCI ROM from the mapped ROM BAR.
    For secondary cards this will mean they can only be used once after boot.
    Once the Xserver that has POSTed it has terminated the PCI ROM copy of
    the BIOS is lost.
    To be able to reread the BIOS image the driver needs to do some VOODOO
    to reenable access to the PCI ROM BAR.
    Support for R5xx still needs further testing and is therefore disabled by
    default.

commit c769a2e194543295a22fb4f7ed588290cb698758
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 23 09:27:18 2007 +0200

    Added size checks to AtomBIOS connector table parser.

commit e4fdc6cc0690467c1bb31c4c5220a245414bb61c
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 23 09:26:33 2007 +0200

    Corrected comment about DDC slave ordering.

commit 3906c865f2dffe94f21470aa7406309e8392fca9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 22 20:44:48 2007 +0200

    Remove DDC test as it hangs on some cards for unused buses.
    
    Instead print EDID data in RHDMonitorInit().

commit 8699deaba2c920a3df35acfea49360888868becb
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 23 18:48:12 2007 +0200

    Added tons of extra Warning flags. Make CCFLAGS user-customizable again.
    
    This triggers a whole lot of warnings, both in atombios and in our code.
    Some warnings might be superfluous, this has to be verified.

commit e663d884c9e98bd2fc6d0af36d3cef4ca4c226c1
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Oct 23 18:12:54 2007 +0200

    Improve detection of reduced blanking monitors.
    
    We now cycle through the EDID provided modes list to find reduced blanking
    modes. If found, the driver will now allow reduced blanking for this
    monitor.
    In case this still fails, we now have Option "ForceReduced", to force
    reduced blanking on all or no monitors.

commit 292a4f4ba057d57d388da1cd5ee7e5f9f53176cc
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Oct 22 23:50:56 2007 +0200

    Fix PLL for R5xx mobilities and Rv6xx.
    
    This one tiny commit has cost a lot of time and effort:
    * Disable pll spread spectrum. One single bit was one major spanner
      in the works. Fixes all r5xx mobilities
    * Limit internal minimum frequency to 648MHz (24 * reference).
    * Limit the feedback divider versus the reference by a linear
      approximation, with considerable margin, against an
      experimentally found curve of acute wobblyness on rv6xx :)
    * Remove conditional building and unused atombios provided limits.

commit 5d003ae54dc23d286df31ea327913bfc1fddcf26
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 22 12:45:50 2007 +0200

    Remove static from rhdAtomSetScaler() for now.

commit 46c547935d35b9ec0a997bd9e01adb945d198029
Author: Matt Kraai <kraai@ftbfs.org>
Date:   Mon Oct 22 10:23:07 2007 +0200

    Don't access pEnt after deallocation.

commit ac6c67a10130eedaa3b9b3abe384993595ec5cd7
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 22 10:20:54 2007 +0200

    Remove obsolete macros.

commit 505fa3c6063cae262aed34ba58bd4a058fe453b2
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 22 09:47:06 2007 +0200

    Preliminary AtomBIOS based output scaler implementation for testing.

commit a947ddced8a501a027ecc7ad77e7a38687d84f95
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 22 08:39:44 2007 +0200

    Add some -verbose 7 messages.

commit bbfc068697d097d629c0c7b2eecea5bec565db78
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 22 06:44:55 2007 +0200

    Document the -s option for rhd_conntest.
    
    Also correct name of the binary (as also pointed out by Hans Ulrich Niedermann).

commit 0375b0ad7341db480b2bea847374b484c7bcbee6
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 22 10:02:04 2007 +0200

    Add RS690 DDC support to rhd_conntest.
    
    * Use correct clock (engine clock) to calculate prescale.
    * Reduce the status loop counter from 5000 to 800 to avoid stalling on
      unused but incorrectly wired buses for too long.
    * Minor output format improvements.
    * Add more debugging support.

commit b89318f530b68f9e8f4f59a912aceda64d2e0a8d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Oct 21 08:53:21 2007 +0200

    Sanitize name of atomBiosHandle(Ptr/Rec).

commit bb4520f34875905da49a060c822b75d32327d5c7
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Oct 20 21:00:15 2007 +0200

    Reomved I2C bus scanning from X driver, integrated it in rhd_conntest instead.

commit 7967ac0e5b274cbe5379960a6bed1027c29cda38
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Oct 20 19:18:23 2007 +0200

    Modify handling of AtomBIOS LVDS misc parameter query. Add CompassionateData query.

commit 3a546346357c542b4fc481e83addbb4829a37b9a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Oct 20 13:27:51 2007 +0200

    Unify and consolidate PCI device lists for libPCIACCESS and non-libPCIACCESS builds.

commit d25e4a1a7c2fb32e4caffd563cd9ebcf27e7c74b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Oct 20 13:08:47 2007 +0200

    Unify and sanitize AtomBIOS layer variable, function and type names.

commit 2ea7b6b39ea43f055652d5b8d467bba7741dea81
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Oct 20 12:41:04 2007 +0200

    Let AtomBIOS layer convert variables to correct unit.
    
    To reduce the size of variables AtomBIOS rescales values.
    The AtomBIOS layer should rescale the values before passing
    it to other layers.

commit 16e99d4c6f4a118b2210775670c7d60cd03b19de
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Oct 19 14:13:43 2007 +0200

    Split ATOMBIOS_GET_PANEL_TIMINGS in ATOMBIOS_GET_PANEL_MODE and ATOMBIOS_GET_PANEL_EDID.

commit b465536aff52fa91c1dba60355c993ad448d7d32
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Oct 19 12:53:35 2007 +0200

    Clean up naming of local functions.

commit 2589f931cbbf1628cf1d66b34ccc01003d3c2aa9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Oct 19 12:53:08 2007 +0200

    Name all structs and enums in rhd_atombios.h.

commit db097ba25046fb85f655c92e498596a0faec9d3f
Author: Matt Kraai <kraai@ftbfs.org>
Date:   Thu Oct 18 19:29:16 2007 +0200

    Remove the semicolon from the RHDFUNCI definition.

commit dc904613512fed5c4bea3fe208ea5f233ff2f2cb
Author: Matt Kraai <kraai@ftbfs.org>
Date:   Fri Oct 19 12:48:08 2007 +0200

    Remove the semicolon from the RHDFUNC definition.

commit 2178d2544b24198463906fc4f0debe54034c56fb
Author: Matt Kraai <kraai@ftbfs.org>
Date:   Thu Oct 18 19:12:03 2007 +0200

    Ignore TAGS.

commit 3579bdddd95dc6f129e57bcf05cbd8b9b375940f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Oct 18 19:02:19 2007 +0200

    Don't call GetRec in PreInit() in the PCIACCESS case.
    
    The driver private is already allocated in Probe for the PCIACCESS case
    (leaving behind a memory leak when the driver isn't used afterwards).
    We don't have to call it in PreInit() (which would be harmless, though).

commit 7a2ebb5198d9837ff61b0ad6632caf869851f6a8
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Oct 18 18:44:59 2007 +0200

    Cleaning up the EDID confusion: only free the EDID block when not needed.
    
    To make things clearer, the EDID block passed from AtomBIOS is
    no in a structure element called EDIDBlock (as opposed to EDID).

commit 6e09935265a8fd2724b2f0986c087ff77d26e810
Author: Matt Haught <matt@haught.org>
Date:   Thu Oct 18 17:58:45 2007 +0200

    Fix AtomBIOS build on FreeBSD.

commit 4b9ba2271b3034533526a5dbd2d5103fb1d9ec86
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 17 22:03:23 2007 +0200

    Add I2C support for RS690.
    
    RS690 I2C for DDC is very similar to R6xx, however most
    of the registers are different.

commit 0c9de39946e124810b70ca7d4afb72a21bb0c492
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Oct 18 18:55:37 2007 +0200

    Card ID based workaround for MCS-59 connector.
    
    MCS-59 to 2x vga adapters do not assert the HPD pin. Therefor
    we need to provide a connector table ourselves, so that at least
    DACs will be tested appropriately.

commit 1b59cdd42c03e2eb476ae712983cd0451dbe2a91
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Oct 18 17:27:30 2007 +0200

    Fix enabling of Monitor->ReducedAllowed.
    
    * Now we properly handle reduced on TDMSA and LVTMA even when EDID
      doesn't tell us as such or when no EDID is used. This fixes the
      issue where we tried to set the panel mode on an external device
      which might not allow reduced.
    * Sync check in rhdMonitorValid is now reworked to have saner
      limits. This was much overdue as the other one, the one still
      in xfree86/common/xf86Modes.c was pretty awkward.
    * Logging of monitors and modes was also slightly adjusted.
    * And then a memleak in handling the atom provided panel mode
      information was fixed.

commit d03841b4950b3b827b3c42507e01767d0569391f
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Oct 17 15:49:01 2007 +0200

    Let git ignore files from imake build.

commit df4042df682759a358025cad3e7c86bf6caebc95
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Oct 17 15:37:11 2007 +0200

    Parse version number in configure.ac both for config.h and in Imakefile.

commit dcf062487f3080b29834a9c6d700fbabe54c94cd
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 17 14:44:01 2007 +0200

    Set driver version in configure.ac to 0.0.2.

commit e67c09d0b53bb48378f4e2ed03fa561fe2f029c0
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 17 14:40:38 2007 +0200

    Make sure that config.h is included in every file that includes rhd.h.
    
    rhd.h contains structures that are different wether
    libpciaccess is used or not.
    Therefore we need to include config.h before rhd.h.
    To avoid double inclusions of headers we don't include
    it in rhd.h itself but check there if the define for
    it is set. If not we simply error on build.

commit 793fc1873a26e00e377a2f6e2314e3ea07b85da5
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 17 13:53:43 2007 +0200

    Load config.h _before_ checking the define.

commit a7c4475d22b858bce854ec58086f8416662d62d6
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 17 11:24:20 2007 +0200

    Set 'HaveDriverFuncs' AddDriver(), use base_addr instead of bus_addr for mapping.
    
    'HaveDriverFuncs' is required so that AddDriver picks up the full
    DriverRec. (I should have know that since I designed it - although
    its original purpose, a backward compatible ABI has been defeated
    anyhow).
    regions[BAR]->base_addr seems to hold the base if the PCI range
    (relative to bus_addr).

commit e83d1ebd66bb1ad1c04326e571a2d70038724428
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 17 11:03:07 2007 +0200

    Test if structures are set up yet before destroying them.
    
    In an error case we may bail before these structures are
    set up. In this case we will get a crash when RHDFreeScreen()
    to free this data.

commit 569a9a38435ce1aed14f87f498f8800b5864ca5a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 17 10:01:10 2007 +0200

    Don't use rhdPtr->PciInfo->chipType as this doesn't exist with pciaccess.
    
    Use rhdPtr->PciDeviceID instead.

commit 03ca6bcda0315351abafc42b296acb7871b909d1
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 17 09:59:24 2007 +0200

    Set a (guessed) sane value for the default engine clock.
    
    This clock is used if there isn't an AtomBIOS present.

commit ca89833705eea8a12d7ea3e0df1c2e8894d7b099
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 17 09:58:36 2007 +0200

    Let RHDAppendString() take care of freeing the old string.

commit 1d21e21e1b5e49b9c07a0ac7d641f3d142dda986
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 15 18:09:53 2007 +0200

    Add support for libpciaccess.
    
    The new head of X.Org requires support for libpciaccess.
    This patch adds this support while maintaining backward
    compatibility.

commit 5398012568af4f5c4cc8002230e79d4585e63401
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 16 08:41:23 2007 +0200

    Fix build for the case that AtomBIOS or AtomBIOS parser are not present.

commit 0827c9d5b901a24cac134f27bfbe7dfbaef39309
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 16 07:40:15 2007 +0200

    Added query for I2C_GPIO table.
    
    This query is needed for I2C on RS690.

commit 0921ce07b81f5956c8bf4684a42092d3e16ea5e8
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 16 07:37:40 2007 +0200

    Use lookup table to find function and message information to AtomBIOS query.
    
    A lookup table makes it easier to add new requests for AtomBIOS.

commit ec816bb18d4396e841de0d10811b606e0a4724ea
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Oct 14 17:52:25 2007 +0200

    Add add a sanity check for the SupportedDevices table.
    
    Some AtomBIOSes don't seem to clear the entires for unused
    devices in the SupportedDevices table properly. Check if the
    device is really marked as supported by checking the bit.

commit f15d5f000633cb2e3999b237252dad0859302d9f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 17 07:44:10 2007 +0200

    Change CombineStrings() to AppendString().
    
    The semantics have changed. Now the first string is deallocated
    in some sense following realloc(). When the first element is NULL
    a new string will be created (like with strdup()). When the second
    string is NULL the first one will be returned unaltered. The
    same will happen in an out of memory condition.

commit 324f61f95adbfbffb71da842fdb99707aff37207
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 16 10:53:00 2007 +0200

    Only initialize I2C buses which are really available in HW.
    
    So far the I2C code assumed that there are always 4 I2C
    buses available in hardware. The R5xx only supports 3,
    though.
    We now only initialize the ones the hardware supports.

commit 2ffd2af87b19bcddf30348e875a03dab7724fade
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 15 20:06:08 2007 +0200

    Fix wrong setting of the I2C ARBITRATION bits for R6xx.

commit ba33954c52d92d8cbf634bbdc9b6a033e381eb5b
Author: Pierre Pronchery <khorben@defora.org>
Date:   Mon Oct 15 14:48:23 2007 +0200

    Fix string array typo.

commit e57a8e94e306f582cb318d8ee3bba51c3a0a8711
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Fri Oct 12 05:01:34 2007 +0200

    Integer AtomBIOS Query reply: print decimal AND hex value
    
    Decimal-only output of memory addresses is confusing, as is hex-only
    output of other numbers.

commit df7fcdd3e78e6aef0058d7de4ebeb34807164ff7
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Fri Oct 12 05:56:48 2007 +0200

    Fix spelling (use "SVIDEO" instead of "SVIDIO")

commit 6b7e6abc8d8af7115f9cfd127b325a206ce38c9d
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Fri Oct 12 03:41:56 2007 +0200

    Add two forgotten header files to dist tarball.

commit a5834907a0709df12dbf108ae236872adcbbc8bb
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Oct 15 13:50:26 2007 +0200

    PLL: Add PPLL_CONTROL value for x1650.
    
    Also fix a string from minimum to maximum

commit 6e570638e1772df97d8c8b22a82e7890dd47f1e9
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Oct 11 01:36:06 2007 +0200

    RHDCursorsDestroy: Null Crtc->Cursor, not Crtc itself.

commit 3daa4a1729b0160e34759771f1b11a9ee83d2d88
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Oct 11 01:28:03 2007 +0200

    Get rid of global rhdPanelMode.
    
    * rename rhdPanelMode to AtomPanelModeInfo, and move it to rhd_atombios.h
    * clean up panel mode information handling, and filter edid mode list
      to only retain a single mode, which, ideally :) is the preferred mode.

commit 26550c72ad588bfa9956a5ce81c2f80381d505f9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 9 17:12:10 2007 +0200

    Fix deallocation order.

commit b7a639c89fa281919377759de3aac6bb0d842804
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Oct 9 16:15:54 2007 +0200

    RHDLVTMAInit: Fix retrieval of panel electrical/timing information.
    
    We now, no longer, carry this information in our card table, but instead
    retrieve it from existing register configuration first, and then overwrite
    it with atombios values.

commit 48e351e68311b723c6e14e031f1414b4381a8170
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Oct 9 16:02:08 2007 +0200

    RHDConnectorsInit: fix allocation/freeing of ConnectorInfo and names.

commit fa302ae74ebd3207e53e71940bb0747a4b61366f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 9 13:39:38 2007 +0200

    Fix more memory leaks.

commit b1902f3267c80fce7141a290f2e79cc03e68a2bf
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Oct 9 12:48:30 2007 +0200

    Rename ConnectorTable to ConnectorInfo.
    
    Also:
    * Fix the build when there is no atom bios support present.
    * Clear up the situation surrounding connector table information
      in rhdCards.

commit 2df195425a00f2af00b7d8ad7665a45ded8520d5
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 9 09:44:13 2007 +0200

    Fixed a minor memory leak in rhd_atombios.c.
    
    Also memory leaks can result from structures which are
    allocated here but passed back to the calling function.

commit 9211806203572a6d58c498109cc76429c0f35e34
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 9 09:07:19 2007 +0200

    Add check for failed allocation.

commit 780425235d08885237d482da28040cc2047c0a7a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 9 06:07:36 2007 +0200

    Removed AtomBIOS test code.
    
    This test code was used to test the parser.
    Now obsolete.

commit e6735af5fffd9a62884d96e6a2c631ab2999208e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 9 06:06:14 2007 +0200

    Fix compiler complaints about string length.

commit 1103f74dc04e80f47a84367771e6b981d6a902ac
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 9 02:26:57 2007 +0200

    VGA resources should be disabled while the server is in OPERATING state.

commit 09986229a6ed77015f876c8f3a01f089e7b65299
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 9 02:25:32 2007 +0200

    DDC is required. Fail if I2C or DDC modules cannot be loaded.

commit c23887adae04a7789e030f6098ce4995bbd0d3f4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 9 02:24:26 2007 +0200

    Removing duplicate debug messages.

commit 156af310b6105bb089d16d1df806a0f9726dedf1
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 8 19:23:07 2007 +0200

    Add more range validation of AtomBIOS offsets.

commit 1f29746571546ba387c4ef0392ca4ab8db19db4b
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Oct 8 18:56:57 2007 +0200

    Nuke VT switch cursor saving code.
    
    After finally the cursor saving was working correctly, we decided in unison
    that this feature isn't necessary (no other driver does it), and the cursor
    image is to be restored by the application/driver switched to.

commit 67f11bb83e906cc52ed677d609b49cc7bfa85194
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Oct 8 18:07:46 2007 +0200

    Cursor cleanup: structure deallocation now in RHDFreeRec.

commit 7eb2e8ff8b72300eff30f8618d28aef7e461facb
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Oct 8 18:06:45 2007 +0200

    Only save cursor if size is within limits.

commit ff0232b09f846a3b2a504c4ff4aa62a1c22281cf
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Oct 8 14:35:27 2007 +0200

    RHDLVTMAInit: fixing unfreed structures.
    
    There was a reason why this Card is NULL check was at the front of the
    function.

commit 66cc07900a72dd912925500f5a1cc22f17013074
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Oct 8 14:30:34 2007 +0200

    RHDLVTMAInit: CARD16 while value is used as CARD32. Fixed.

commit 422c3ed2ae63d345d0b9e415027a63df1d160f7e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 8 12:51:29 2007 +0200

    Changing name of connector type enum to rhdConnectorType.
    
    rhdConnector was slightly ambiguous as a struct of the
    same name exists.

commit 03630bd194cabc650c2feffe6d0edd04ea6f0ebc
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 8 09:57:19 2007 +0200

    Fix segfault problem do to unzeroed DisplayModeRec data structure.

commit 810989884c6bb776b933c2701550f3c5fcab9ff5
Author: Matt Kraai <kraai@ftbfs.org>
Date:   Sun Oct 7 19:06:00 2007 +0200

    Use Crtc2 when trying to turn on the second CRTC.

commit cf12f1a41319b09c6dfc88ac59717bc92e01a0f1
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Oct 7 11:36:30 2007 +0200

    If no system specific information is available use values set.
    
    Neither for Power RefDiv nor for Backlight on RefDiv there
    is any information in AtomBIOS. If the device is not found
    in the knwon devices list simply use the values currrently
    set.

commit 428edc926b0dbacbd430eb837607db192f111d74
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Oct 7 09:28:43 2007 +0200

    Retrieve LVDS parameters from AtomBIOS.
    
    Some of the parameters required for programming the LVTMA
    for LVDS are listed in AtomBIOS tables. We retrieve them
    from there if available.

commit 67eccd55df7cc840491b6f777db4c293553bf229
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Oct 7 11:02:45 2007 +0200

    Approach reference divider from top (EXPERIMENTAL).

commit 81907c08c0da238d523997624ae84deeadc2fecd
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Oct 7 09:53:51 2007 +0200

    Getting PLL limits from AtomBIOS.
    
    AtomBIOS has information about the PLL_IN min/max VCO min/max and
    pixel clock max frequency.
    As the VCO_min frequency in AtomBIOS is 0 in most BIOSes that have
    been checked the code uses a fixed value of 600MHz for now.
    
    Also the names of the variables have been modified to match the
    nomenclature of atombios.h better.

commit 8772fa580df9b47dd439d9200b92312f2b1b4db6
Author: Dongxu Li <butdiene@yahoo.com>
Date:   Sat Oct 6 16:14:36 2007 +0200

    Alternative approach to PLL calculation.

commit da4ecd5e901e5eb4c299362f6de4d68601a3bfe8
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Oct 7 09:37:41 2007 +0200

    Change name of structure rhdConnectors (and friends) to rhdConnectorTable.

commit d82090a1c82a4c57e995cdbf24ecc4f4164646c1
Author: Matt Kraai <kraai@ftbfs.org>
Date:   Sat Oct 6 19:02:53 2007 +0200

    Call RHDMonitorInit() even if there is no DDC for the Connector.
    
    We don't solely depend on DDC any more to get mode for a
    connector. For panels we may use data pulled from AtomBIOS.
    Therefore we handle this inside RHDMonitorInit().

commit 7a419e06d5aa539a538df7f8cf2f30c241a39bb7
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Oct 6 10:40:24 2007 +0200

    If DDC fails try to get EDID or mode data from AtomBIOS.

commit 01b6a56fb46fee28c2e058b5183d3f71dd4be974
Author: Matthias Hopf <mhopf@suse.de>
Date:   Sat Oct 6 01:25:54 2007 +0200

    Cursor cleanup: Moving all locks to interface functions.

commit aa6ef99c879b398c1daa9b84f96c907e070381a8
Author: Matthias Hopf <mhopf@suse.de>
Date:   Sat Oct 6 01:19:00 2007 +0200

    Cursor cleanup: Nuke export of bit-banging interface.
    
    These functions were never intended to be called outside cursor.c, or to be
    overloaded. Calling function pointers also disables inlining by the compiler.
    Found some more reasonable function names for some.
    Some whitespace cleanup.
    Added missing rhdRestoreCursor() prototype.

commit 1ba6ec693c8f8a2eae018160b36659d45bcae274
Author: Matthias Hopf <mhopf@suse.de>
Date:   Sat Oct 6 00:59:52 2007 +0200

    Cursor cleanup: Move functions to right place. Adjust comments.

commit c8780b2f3b75cec582126ace85137fdf2208bb3d
Author: Matthias Hopf <mhopf@suse.de>
Date:   Sat Oct 6 00:51:41 2007 +0200

    On reloading cursor, do not only upload image, but also set cursor address.

commit 1947ab3ed81835a7ffb95ae0a7056766d24c90d2
Author: Matthias Hopf <mhopf@suse.de>
Date:   Sat Oct 6 00:29:35 2007 +0200

    Correct cursor image saving.
    
    Calculate correct cursor offset.
    Calculate correct cursor height.
    Verify against correct videoRam (Kbytes).

commit badc3389e46c069a2570687bc36388724db2d19b
Author: Matthias Hopf <mhopf@suse.de>
Date:   Sat Oct 6 00:15:59 2007 +0200

    Fix compilation (oops). Also saving cursor does not depend on CursorInfo.

commit 842701653a379692cc489cd4200bdef40baa8730
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Oct 5 17:48:15 2007 +0200

    Cleanup: cursor.h no longer necessary.

commit 90ea9d3c6d6f37bc99592f993610271a1f6bf068
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Oct 5 17:47:40 2007 +0200

    Only save cursor image if address is in mapped memory range.

commit 0288ac3d6a87d38983f60df7e5f398200dc58354
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Oct 5 17:43:08 2007 +0200

    Move Cursor Save & Restore to right places. Nuke HideCursor on LeaveVT.

commit 4dea386f003e2b9f0c0f70dd594ce13a0b033bfc
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Oct 5 17:40:14 2007 +0200

    Mainly reverted commit 0a546480a5c2e0c66f746a91cb0b5f592c06b357.
    
    This mixed up save & restore.
    Save is used for saving GPU state when *entering* the Xserver, Restore for
    restoring the old state when leaving. That includes the cursor (there could be
    a cursor active on VTs - though unlikely).
    Upon entering we save state, then *reload* the cursor image we just *know* to
    be correct. No need for saving that on LeaveVT.

commit a777515ee4016b86d2993291ec8ab7c5ad354468
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Oct 5 17:37:39 2007 +0200

    Fixed ambiguous else.

commit e325851486903e911cfb780849a9a471e8f0b54f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Oct 5 05:50:40 2007 +0200

    Don't validate the duty cycle on fixed device provided modes.
    
    Modes provided by the device itself should not be validated
    against common display standards. Most validations can be
    circumvented by not passing ranges to validate against.
    This is not true for the dutry cycle.
    While a 10 percent duty cycle seems low for a CRT device
    (which should not be below 20 percent) it may too high for
    modern display panels.

commit 33bfaca09733bd1565b11408caf2a92b681b0631
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Oct 5 05:50:01 2007 +0200

    Get LVDS panel timing from AtomBIOS.
    
    AtomBIOS contains LVDS panel timngs int the LVDS info table.
    All versions contain a structure with timing parameters.
    Tables starting with version 2 may also contain additional
    records which may contain 'fake' EDID blocks.

commit cd8446797a04da397773fc23e0c90924a49fd5ed
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Oct 4 12:35:21 2007 +0200

    Add initial support to query LVDS_Info tables.

commit 6c9894840d84b41b73274885d5c3beed8ed2b2e9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Oct 4 01:18:29 2007 +0200

    Increase loop counter in R5xxI2CStatus().
    
    This fix should give more reliable I2C readings on some hardware.

commit 0a546480a5c2e0c66f746a91cb0b5f592c06b357
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Oct 5 05:33:08 2007 +0200

        Fix cursor vt switch handling including segfault.
    
        Save() and Restore() are used to save and restore text mode.
        Therefore we cannot call CursorSave() and CursorRestore()
        from Save() and Restore() if we want to restore the cursor when
        vt-switching back to X.
        Cursor->StoreAddress read from D1CUR_SURFACE_ADDRESS does
        not hold the cursor image offset with respect to the framebuffer
        start but with respect to the memory address 0.
        Using it as an offset causes segfault.

commit 75f8b571ebc325f9610b582cdee71327492037ac
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Oct 4 21:08:08 2007 +0200

    Upload cursor image again on EnterVT.

commit 7e709ff356ced2ba69dca934be5dc291742bbc44
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Oct 4 21:07:30 2007 +0200

    Enable cursor save&restore on VT switch.

commit 0a077858b8e5e29fc6fc88333125f48f93b065d1
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Oct 4 21:06:23 2007 +0200

    Fix typo in cursor state save.

commit 3b5945d1ffc7bd05ab696835f79d6a5cba213558
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Oct 4 17:21:42 2007 +0200

    Typo & type fixes.

commit afee2f8bce5db7ee756bf4181ea9a43c53ad892d
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Oct 4 17:15:11 2007 +0200

    Implement full cursor save/restore including image.

commit f6b7bf711ffa8c2914a787587ce2d3d4d60a52d1
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Oct 4 16:26:55 2007 +0200

    Use new RHDPTRI macro for accessing RHDRec by scrnIndex. Less typing.

commit 42e3f8b8479233943ed5a745a7786b944510de59
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Thu Oct 4 11:13:44 2007 +0200

    Added some new R600/RV610/RV630 IDs.
    
    IDs for Radeon HD 2900 GT (R600), FireGL V7600/V8600/V8650 (R600),
    FireGL V4000 (RV610) and FireGL V3600/V5600 (RV630).

commit 0cfe65ff3e534b39baf10e5a077e95cc64e61196
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Oct 4 00:18:35 2007 +0200

    Fix a bug that prevents the identification of bogus table headers.

commit 9a0098f182df5e3b6c70b79e6fae6abea75d8974
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 3 23:45:36 2007 +0200

    Fixing error message...

commit e3546f14585ed5abc06326e8d00c29ad4782c33b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 3 23:40:05 2007 +0200

    Replacing ObejectID.h with one that contains the correct license.
    
    ATI pointed out to me that the file added earlier has not
    received the MIT license, yet. This commit fixes this now.

commit 2386584522c3f28b7c42ac1096d471ad577f4b6d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 3 23:17:23 2007 +0200

    Panel information is currently not available. Therefore bail - do not crash.

commit 87c0d95477a4e4662a50f07fe3fcd0ca3569d0bb
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 3 23:16:13 2007 +0200

    Fix singed/unsinged mismatch.

commit 7713ffb0173587cae203154e9994b801e3e60884
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 3 22:09:48 2007 +0200

    Removing warning about unknown card.

commit 0b7dedb99c25b8777e1eef866a00a9206c2647f1
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 3 22:09:15 2007 +0200

    Attempt to fix possible cause of a crash. Also adding more debug output.

commit e31421f50acb2769d40c4616a716238f90b0007d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 3 20:17:10 2007 +0200

    Adding missing header file.

commit 5c9efba68f14e85fdaa49185700e6bc548cf6236
Author: Marcin Garski <mgarski@post.pl>
Date:   Wed Oct 3 14:28:35 2007 +0200

    Add missing space after 'Bandwidth:' in log output.

commit fdd10fddc83dcc2f3aff6d4c3114e31658c3cb97
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 3 13:55:27 2007 +0200

    Fix DeviceID to index mapping.
    
    The DeviceIDs are bit values.

commit 59f1ab5cea5ec52e3c057a9c778e0c4724873f1b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 3 11:18:19 2007 +0200

    Add device tags to connectors generated from the SupportedDevices table.

commit 471e32e65c96d40469cd5bedb9566403a70a8f35
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 3 10:58:44 2007 +0200

    Add support for ATOM_CONNECTOR_DEVICE_TAGs to connector table parser.
    
    The ATOM_CONNECTOR_DEVICE_TAGs provide output names. These are
    useful for debugging and can be appended to connector names.

commit 84ea7cb6e0854975ca406f814bd603dfcc5ec6ea
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 3 09:01:53 2007 +0200

    Make debug message printing more consistent.
    
    A function gets added that allows to continue a debug message on
    the same line (ie. leaves out the message status and scrnIndex).

commit 60f831dadd9b975b498f0a7242d49651178296ee
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 2 20:49:55 2007 +0200

    Add some sanity checks on offset values and indices obtained AtomBIOS.
    
    Also captialized the text representation of output
    and connector names.

commit d835284814724fffeaac3d41701b3074be87e801
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 2 13:17:30 2007 +0200

    Add Object_Header parsing for connector tables for R6xx.

commit 4e38394784f4b7aaae1f5cff9d6ca62add175129
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 2 08:27:18 2007 +0200

    If connector information from AtomBIOS cannot be obtained try to fall back to list.

commit 4a07e036abca23fecd17fa98401e0723f83aec6d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 2 07:44:53 2007 +0200

    Fixed AtomBIOS HPD parsing for SupportedDevices table.

commit 51f0b804cfd411dd8347214e4f96e2f5cecce11d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 2 07:36:26 2007 +0200

    Fixed sig11 in verbose mode.

commit 9ec9249347c1634abef1acff63d7e5ba0f0ac657
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 2 07:12:48 2007 +0200

    Add connector table parsing for the SupportedDevices Table (R5xx).

commit c2b4309a95b061028ca840431b1e9e476d33f04e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 1 14:05:24 2007 +0200

    Add function to print connector table.
    
    Also added a connector, outputs and ddc types for future use.

commit 4b3ed6b870936fcd61c4c89183ce74b1e286110f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 1 07:49:18 2007 +0200

    Add framework for connector table parser.

commit 0e24539c417e0d6bc94afeea351c86dff1f86be4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 2 08:12:36 2007 +0200

    Make local functions static.

commit a690bb78e225a97b769457b8c87e9146e2ea2a2b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Sep 30 21:24:09 2007 +0200

    Cleanup in rhd_atombios.c: removed superfluous function arguments.
    
    The scrnIndex is contained in the atomBIOSHandleRec,
    therefore we don't need to pass it as a separate
    argument.
    Also hook up orphaned rhdAtomBIOSTmdsInfoQuery().

commit 21444ba446807a276d0378fd988bfd31bc824c04
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Sep 30 19:21:58 2007 +0200

    Prepare code for connector table parsing.
    
    - Define struct Connectors separately.
    - Replace defines by enums which provides for
      better compiler checking.

commit 9085d2e91f3b903df6c6c58dc2994a330f34ec70
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Sep 30 19:16:13 2007 +0200

    Replacing hex loop counter by decimal.

commit c344ef1062f924892795bb51d9f55cc131b598bf
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Wed Oct 3 11:16:51 2007 +0200

    Fixed INCLUDES when using X.Org SDK.
    
    Get rid of specifying CDEBUGFLAGS=-I/usr/X11R6/lib/Server/include.

commit 718e78770e73068053ca748638716c7ea2656681
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Oct 2 15:06:23 2007 +0200

    conntest: fix logical error in LVDS
    
    Also add some info in the readme about the secondary function of
    most ATI cards, and how these should be ignored.

commit 9c7bb4ad51747bc498573cd287cf1fbc1686816e
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Mon Oct 1 23:58:13 2007 +0200

    Fix Atombios build on OpenBSD.

commit 113dc16761ae66ba46b2e694415b8733a9e5ba10
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Oct 1 23:34:36 2007 +0200

    ID: Reverse connectors on ATI Radeon HD 2600XT DDR4
    
    Also fix the ChipID strings for rv6x0.

commit fe024e1c2d0623dd95e4b88260a276041b198ec3
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Oct 1 21:39:10 2007 +0200

    Fix PLL on rv6x0 and X1300.
    
    Also improve PLL Save/Restore.

commit 77c7f3f06aebde6d715fbdfc0da2dbb9e7e52279
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Sep 28 18:51:37 2007 +0200

    Fix broken fp calculation in checking for reduced blanking.
    
    Comparing a double with an int... no workies... So just multiply both
    ends of the comparison by 10, and avoid fp altogether.
    
    Reported by Marcin Garski.

commit f22a90dc43eac6ba20d4ba1963778b68c149a4a3
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Sep 28 13:53:16 2007 +0200

    ID: Added docking station for Lenovo Thinkpad T60 (2007)
    
    Reported by Ferry Huberts.

commit 4316fdee3d87930161d5c263d278d029cb4a5394
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Sep 28 13:49:42 2007 +0200

    ID: Sapphire X1650 Pro AGP
    
    Reported by Simon Munton.

commit 35a9a6910eee4d1ae929538ff94b3916fe2f2c6c
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Sep 28 12:42:11 2007 +0200

    ID: ATI Radeon HD 2600 XT
    
    Reported by "Swappp"

commit b0587971765d45c8832768f468f3a5219af19418
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Sep 28 01:29:05 2007 +0200

    Increase loop counter on I2C status poll loops.

commit cb54ab17715b7d2ba8b21986f657f5353c99dd7a
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Sep 28 00:46:06 2007 +0200

    ID: Fix DDC bus for Lenovo Thinkpad T60p.
    
    Reported by Thomas Schmidt.

commit 069107c19cc50f0de97ac4c0c389058dffecef73
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Sep 27 22:10:24 2007 +0200

    ID: Powercolor X1800XT
    
    Reported by Paul Stegeman.
    
    This is the grandaddy of all R500s, an actual 0x7100, or X1800...
    Ain't she pretty?

commit a3741c516a33d7b968802ad4ef609f5985fed12b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 27 21:40:12 2007 +0200

    Fixed wording in README.

commit 744191757e4de2199787ba87be8fa443af9a91f4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 27 21:38:16 2007 +0200

    Put scaler value in hex.

commit 651e776d2cd9aaaef4782e6cf600cc35cc0c9cc7
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 27 21:29:02 2007 +0200

    Fixed I2C probing on R5xx.
    
    The R5xx I2CWriteRead() function didn't handle the case
    where neither write nor read data is available correctly.
    In this situation only the slave address should be written.
    R5xx appearantly cannot deal with a one byte slave address
    and zero data bytes. Therefore we write one dummy byte
    (i.e. an index value) after the address.

commit fe08f8e56f97697012e77ccf5f28ccb0adfcee19
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 27 21:25:26 2007 +0200

    Fixed order of magnitude of SCL, added correct prescale calculation for R6xx.
    
    R6xx should be in kHz units.
    The I2C prescale value is the ratio of the XTAL clock (reference clock)
    to the SCL clock. The reference clock value is read from AtiomBIOS.

commit b5ec5d2cc84b0017a1bc49fe6d9809343c6824cc
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 27 21:11:54 2007 +0200

    Adding AtomBIOS support to conntest.
    
    Engine and XTAL frequencies are kept in AtomBIOS tables.
    These values are required to calculate DDC clocks correctly.
    This patch also fixes a typo which caused all DDC lines
    on R6xx to report a connected DDC slave.

commit 60927acdc82abb68cc7f2c8547dcb1d667226e9a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 27 21:09:15 2007 +0200

    Updating README.
    
    Adding information on how to dump the VBIOS.

commit 2a23adcc7bdd6ee053215da7a79cff71a7fb5e47
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 26 22:32:32 2007 +0200

    Added I2C prescale calculation for R5xx.
    
    R5xx prescale is still pending further information from ATI.

commit 2f6f2cbc0860fed45bdbd2b0aff5d4b66a24aedc
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Sep 27 18:20:55 2007 +0200

    ID: MSI RX1650 Pro
    
    Reported by Thomas Prochaska

commit 445c534dd2f3c71c7609ccfbe5ab6cd70918de7e
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Thu Sep 27 17:20:19 2007 +0200

    Removed RS600 IDs, since these are still R400 based and therefore
    not supported by this driver.

commit 9396e84ddfa5b2da39bf95dde2755f3a4edbb63f
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Sep 27 16:00:26 2007 +0200

    ID: Fix Asus z96j to read Asus W3J/Z96
    
    Reported by Nicholas Trangez.

commit 2d2abf652079a6f390dfa0a41bce71eb86eebcd3
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Sep 27 12:58:41 2007 +0200

    ID: Dell Inspiron 9400
    
    Reported by Jens Lody.

commit 9595c78ea9aa7a76771b242ee7ce10b75455e041
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Wed Sep 26 23:28:42 2007 +0200

    Adjusted RHDIdentify() to chipset name review and new Device IDs.

commit 53043ea9798c2075773ed9c8e456effac2c81c68
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 26 22:43:10 2007 +0200

    ID: HP/Compaq nc8430
    
    Reported by Lukas Hertig.

commit f6dddcae7cb0331b744f9134dd3ae951dcb18ae0
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 26 22:22:41 2007 +0200

    Adjust active output selection to better cope with missing panel EDID.

commit b3db776e5030600ec2f3989a72d54050f94445f3
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 26 22:17:30 2007 +0200

    More missing braces.

commit 7a46aac044cf89230eeeff8e67ed02501f18457f
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Wed Sep 26 22:08:19 2007 +0200

    Forgot two Device IDs in rhd_conntest.

commit 2b42588b983ca192d80112ed143826786180f597
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Wed Sep 26 22:05:36 2007 +0200

    Added missing chipsets to rhd_conntest.

commit 54ba51192ec9d58e893177df462827cda3d92697
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 26 21:40:18 2007 +0200

    Remove panel resolution entries from the id table.

commit 11fb615181d1221c5ca660c204fd741e583e58bc
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 26 21:26:25 2007 +0200

    ID: Dell Inspiron 6400
    
    Reported by Markus Gross.

commit d0f13e82aeb1d6fc37c5794165d32af7d3b38249
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 26 21:13:50 2007 +0200

    Fully eliminated all uses of regOR: use RHDRegMask() instead.

commit 86c81cb4b96fb87fabecbddfeeb6faffc67c2a39
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 26 21:06:34 2007 +0200

    Added missing braces.

commit 6434a93e29d51261ac57550e167ebcbbb349bf94
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 26 20:45:39 2007 +0200

    ID: Toshiba Satellite A100-237
    
    Reported by Marcin Garski.

commit 191287132b6c1291e4eb4e1004d9578800214532
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 26 20:15:11 2007 +0200

    LVTMA: alter M56 check to only stop anything >= RS690

commit 15501e07f4c0c45578731fb7a333689be19989a1
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 26 19:50:47 2007 +0200

    Fixed typo in debug message print function.

commit cb53afa34aa8adb17e82ff1dfadcd915e298c9a4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 26 19:57:15 2007 +0200

    Added debugging support for for HW I2C read.

commit be2a4ae3ff968678b5cb1f5dc33f5536e2906395
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 26 16:51:13 2007 +0200

    Fixed a non-fatal typo in an enum name.

commit 50204482a1af15884975ad2215dfb213ad63de69
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 26 16:50:22 2007 +0200

    Replaced bit values by symbolic names.

commit 06351e4fca59417f521becd1052fc5bd1828e650
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 26 16:19:11 2007 +0200

    R5xx only have 3 HW I2C lines for DDC.

commit 1c9cd702dd39684ee9ab1b683ec6bcfd994e7f0f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Sep 21 10:36:46 2007 +0200

    Added BIOS dumping to conntest.
    
    Made code slightly more consistent.

commit 3e956f0586e1e3321c728d8e205048cb01b33169
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 26 19:45:57 2007 +0200

    R5xx only have 3 HW DDC I2C lines.
    
    Also: making function names more uniform.

commit 6db7c61ace9d91f7be6e3be35ff3231296af4abc
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 26 14:33:49 2007 +0200

    Added symbolic register and bit names for R5xx I2C regs.
    
    Some I2C registers for R6xx had conflicting names.
    Separated namespaces by prepending an R5/R6.

commit 2983b97577be532857ff83f80513028794e2fe55
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Sep 24 04:01:32 2007 +0200

    ID: Lenovo Thinkpad T60 (2008)
    
    Reported by Felipe Contreras.
    
    This report includes the DVI-D Connector on the docking station. This is the
    first device with three seperate connectors, so it will be interesting to
    see how my code holds up here :)

commit 77bf0a532e310d3413dc297b0d602c420c1f7b17
Author: Evgeni Golov <sargentd@die-welt.net>
Date:   Wed Sep 26 19:02:04 2007 +0200

    Fix up RHDCardIdentify bail-out message.

commit 05e23a598fcf119e7d282d797735f5eda99cfdd7
Author: Matt Kraai <kraai@ftbfs.org>
Date:   Wed Sep 26 16:20:54 2007 +0200

    Fix tests for MonRec members by including the right CFLAGS.

commit 30a4e8d77dc6267858df446059a883fc9b11fe16
Author: Matt Kraai <kraai@ftbfs.org>
Date:   Wed Sep 26 16:13:33 2007 +0200

    Fix gitignore properly for the conntest Makefile.

commit 7073eddcc78f64fc60843b805343c3b16756df08
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Wed Sep 26 10:12:17 2007 +0200

    Build support for imake based X.Org releases.
    
    Added Imakefiles required for X.Org 6.X. Define _X_EXPORT to fix
    build on older X.Org releases.

commit 458577c4ac45ab2aedeb92f76c2dce2e6eee2aa6
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Wed Sep 26 00:47:02 2007 +0200

    Added missing chipsets according to fglrx driver.
    
    Added missing chipset for RV505, M54, RV550, RV560, RV570, RS600,
    RS740, RV610, M72, RV630 and M76 chipset families according to
    fglrxko_pci_ids.h of fglrx driver (versions 8.40.4 + 8.41.7).

commit d8f48cc772b443643264372be9d981e50943b82e
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Sep 25 14:24:26 2007 -0700

    Fix typedefs to work on Solaris

commit 15130f7c7ff4779f69d5bbd906762615aa3fc4c0
Author: Stefan Dirsch <sndirsch@shannon.suse.de>
Date:   Tue Sep 25 08:53:25 2007 +0200

    Chipset name review.
    
    Reviewed names in RHDPCIchipsets[]. Adjusted and reordered RHD_CHIPSETS/
    RHDChipsets[] accordingly. The information is based on fglrxko_pci_ids.h
    of fglrx driver (versions 8.40.4 + 8.41.7).

commit 198f49f3de8307932d69d933dd7802b256e5e916
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Sep 24 02:47:24 2007 +0200

    ID: Asus Z96j
    
    Reported by George Wu.

commit 3fb794a2a5b6981a8cb17198ab06f1077b286c4c
Author: Yanko Kaneti <yaneti@declera.com>
Date:   Thu Sep 20 22:50:30 2007 +0200

    Fix paths to include files ('make distcheck' works now).

commit 561c8f7488e8621593a6f0473b384235f97745ca
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Sep 20 22:47:52 2007 +0200

    Fix builds with srcdir != builddir.

commit abff1af7e330183fddb0fd7ae6319bd2e3644c0c
Author: Evgeni Golov <sargentd@die-welt.net>
Date:   Thu Sep 20 22:43:26 2007 +0200

    Fixed message string for AtomBIOS parser disable.

commit 0f9988796e1d964f8bac4bf302bac7d78b70a388
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 20 22:35:22 2007 +0200

    Removed some test code, restored original version.

commit 5f2c77bd79d5eee4d2d5c04902d660d69e4861fa
Author: Matt Kraai <kraai@ftbfs.org>
Date:   Thu Sep 20 21:28:57 2007 +0200

    Fixed a wrongly applied patch. Sorry Matt.

commit cc0942d22afbdb98f6e8facab248664300111690
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 20 21:21:23 2007 +0200

    Fixed a type conflict when building with AtomBIOS parser.
    
    The AtomBIOS header files use types that are also used by X.
    They most likely conflict. Since CD_Common_Types.h tries to
    be 'nice' it wraps all typedefs with an #ifdef TYPE_NAME ...

commit 602916db0b97a35346e8b3f52f1443c623368823
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 20 20:45:16 2007 +0200

    Added test for NetBSD.

commit 4bb2741a8fcfc87541c9f02248144b6bd39320ee
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 20 20:06:38 2007 +0200

    Fixed AtomBios/include -> AtomBios/includes.

commit bc40519279a18bd7c2e534e8c52893a403796eed
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 20 20:00:09 2007 +0200

    Fixed another missing \n.

commit 7005ba671ae63247fd3cf6a6d491674326508d69
Author: Matt Kraai <kraai@ftbfs.org>
Date:   Thu Sep 20 19:45:23 2007 +0200

    Fixed the atombios-parser option.

commit 10f25c76b9b526c3bc40a1ba222d6dd8bcba4e64
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Sep 20 18:24:56 2007 +0200

    Fix missing \n in rhdModeLayoutSelect

commit ff6439181657f10f0b20255c2454d7fbf961610c
Merge: d9ef458... 48f0fb8...
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 20 17:38:55 2007 +0200

    Merge branch 'master' of ssh://git.freedesktop.org/git/xorg/driver/xf86-video-radeonhd

commit d9ef45828d99a70db31baf6de2fa54a7960c121e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 20 17:38:31 2007 +0200

    Adding AMD's AtomBIOS parser.

commit 48f0fb8b358d96b8bf81f3e28c67516f5dfbdddc
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Sep 20 16:37:50 2007 +0200

    ID: Toshiba Satellite A100-773
    
    Reported by Felix Mller.

commit 3f15318e786360c8ed7232261ad58853628ede7d
Author: Matt Kraai <kraai@ftbfs.org>
Date:   Thu Sep 20 12:59:33 2007 +0200

    Fix the spelling of RHD_UNKNOWN.

commit a189f3e133bef0adc9ab0a5db01b798e782ddc6d
Author: Matt Kraai <kraai@ftbfs.org>
Date:   Thu Sep 20 12:57:18 2007 +0200

    Fix the misspellings of "whether"

commit b2550475f62eff829e27cf32886e616750a03a20
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Sep 20 12:17:09 2007 +0200

    ID: MacBook Pro 2.2
    
    Reported by Martin Aumueller.

commit 30f4bfb718a934f84a27992a9f4eb5393f7f6cbe
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Sep 20 00:14:36 2007 +0200

    ID: Add GeCube X1950 Pro
    
    Reported by Peter Jnsson.

commit 891e3a4d8d12fd0426ea30da0c8d7151d4dd16ec
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 19 23:43:18 2007 +0200

    ID: add Dell Inspiron E1505
    
    Reported by Brian Tate.
    
    Will not work yet due to missing DDC information and no such
    atombios handling yet (hopefully tomorrow).

commit 17aa9d02f77ecd8ad7f156a48b5148a752f0b277
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 19 23:34:55 2007 +0200

    ID: add "Asus EAX1650 Silent"
    
    Reported by Christoph Brill.
    
    TMDS is a guess.

commit e8c55e9500b473322a31f4d10e1ef8f6fd77c453
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 19 23:24:44 2007 +0200

    ID: add "Lenovo Thinkpad Z61m"
    
    Reported by Evgeni Golov.

commit b236fde3bed281d238860cbe11bd22092d2555f7
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 19 23:21:06 2007 +0200

    IDs: Add "Lenovo Thinkpad T60 (2007)"
    
    Reported by Michael Gaber.

commit 3e04a3203ab0cb52b84be52763cb641686dcdb88
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 19 23:09:10 2007 +0200

    Remove experimental checking.
    
    We depend on card specific connector data later on anyway.

commit 0f3ec64915e10c1588f63dca9d156cf0ad565e71
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 19 22:48:34 2007 +0200

    Add conntest utility.

commit 9ffef0fb88318a12025fbcb90bb654cf5fb902ae
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Sep 18 15:29:31 2007 +0200

    Replaced the MAILINGLIST placeholder by actual ML address.
    
    The printing of the bug report message has been moved to a
    separate function as it may be needed in more places.
    Also a pointer to the bugzilla has been added.

commit 4958c3651efd03c0432cc61d6b6594514f7df13d
Author: Kyle McMartin <kyle@freedesktop.org>
Date:   Tue Sep 18 15:03:53 2007 +0200

    Fixed spelling typo: no inclusion of int10 when AtomBIOS parser present.

commit 3944252b9f67bf7d5787473c979f1b933bfb37d2
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Sep 18 02:44:07 2007 +0200

    Add H/VDisplay entries to the LVDS entry of the card table.
    
    Plus alter handling of panel monitor in layout selection.
    Also fix the DDC channel for the panel of the Lenovo T60p.

commit ffb95e9575821d929b0007d704a9761ad4df6b8e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Sep 18 00:47:22 2007 +0200

    Adding AMD's atombios.h.

commit a425575e19eeea7d240c0268595bc44486bbec54
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Sep 18 00:47:00 2007 +0200

    Turn on legacy int10 when no AtomBIOS parser is used.

commit dc15b7fa014a24b2a0bac6e6a57d4e6910a79105
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Sep 18 00:42:52 2007 +0200

    Adding AMD Copyright. Fix build to build with atombios.h but without parser.
    
    The license situation for the AtomBIOS parser has not yet been
    fixed. So the initial release will be without it.
    We comment all the code that relies on it.

commit f689686492c9319983e6690c01f56d6b26426e7d
Author: Egbert Eich <eich@tst2.site>
Date:   Mon Sep 17 21:18:40 2007 +0200

    Print message that tells if shadowfb is used.

commit 2571fafe2fccb919aef8c34f21ed5589cecac6cb
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Sep 17 18:28:08 2007 +0200

    Better handling of verbose messages.

commit 2a45ed181351888c005e4b3dbad2b4d2a6102538
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Sep 17 21:07:45 2007 +0200

    Expand the date for my copyright statement.
    
    This is code that lived in xf86-video-unichrome before and started living
    another lease of life here.

commit 3c0f8586821da0ba4b66c47dd5e8f3fecb45d907
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Sep 17 19:19:43 2007 +0200

    Improve card structure to hold panel specific information.

commit ff5dc0912b4a2f36b8a22e730e27c78f59d2ef44
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Sep 17 14:02:38 2007 +0200

    Fix typo in RHDMonitorInit.

commit 711278d7c53d04cc576b407c1fd3eef5e451ce80
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Sep 17 12:52:25 2007 +0200

    ShadowFB now on per default.
    
    Fix a segfault in RHDShadowCloseScreen.
    Stop rhdShadowWindow from logging as RHDFUNC.

commit fca009e11832de73af1bd2b6ea522f47721f859f
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Sep 17 11:56:43 2007 +0200

    Fix xf86snprintf warning by including xf86_ansic.h

commit cabbc9de634f02ed41d707d6a165584adb26adc6
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Sep 17 11:41:10 2007 +0200

    Alter mode validation to properly catch fixed modes.
    
    And get in a saner usage for the configured monitor.

commit ed5db4c0c6b2687dae12263710cf7ddfe6c7f045
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Sep 17 01:01:42 2007 +0200

    Added big fat warning when code gets build without AtomBIOS support.

commit 427175822e45034769f9c5d9823a8453ba69391f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Sep 17 00:48:08 2007 +0200

    Build fix problem introduced by removing a redundant command line arg.

commit 1e086f76dd5b4172853379cb486ed3b978e26e5d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Sep 16 19:44:56 2007 +0200

    Fixed ScanBus result reporting.
    
    Also deleted trailing whitespaces from some files.

commit 06a5157c911c3fccc081e40b880731203e19c580
Author: Egbert Eich <eich@e57.suse.de>
Date:   Sun Sep 16 18:44:58 2007 +0200

    Added/fixed missing pieces in shadow support.

commit 16684a729d5f666467aebdb0c500d5d07c579f81
Author: Egbert Eich <eich@e57.suse.de>
Date:   Sun Sep 16 18:44:03 2007 +0200

    Fixed ScanBus, reduced I2C delays.

commit 2d9ca7196ed4146b579ad9602c3ab5fff7552dda
Author: Egbert Eich <eich@e57.suse.de>
Date:   Sun Sep 16 18:42:10 2007 +0200

    Get Default Memory/Engine clocks for AsicInit from AtomBIOS.

commit 3da0f5de42d2083f5f7d2cf961d9fb6f31f7b9e4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Sep 16 00:46:45 2007 +0200

    Adding shadow buffer handling. Cleaning up helpers.

commit a708f4e1951d254ce12314b069813262af009262
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Sep 16 16:54:01 2007 +0200

    Plugfest: add ddc to all known devices, add connector table where missing.
    
    Also fix an issue with DAC mode validation: 165MHz is a TMDS limit,
    not a DAC limit :)

commit f7fed2884badc8e2618ffaa777b9cd1db1a23241
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sat Sep 15 23:26:09 2007 +0200

    Fit cursors in Crtc specific structs.
    
    Also add proper destroy for Crtcs in FreeRec.

commit 986143602f40eff2b29d12bea4654c668c83618d
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 12 13:51:46 2007 +0200

    Beautification... rename struct rhd_* to struct rhd*

commit 13a4a96097d50f6626d3d3d630637e6bc6248e1e
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 12 12:45:02 2007 +0200

    Invert PLL calculation and fix EDID bandwidth bug.

commit b734119b5434918212d4969ffbd5661fe683f39d
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 12 09:47:24 2007 +0200

    Add quick and dirty IgnoreConnector option.
    
    This allows one to disable a display, even when it is present.
    Fix atombios build.

commit ac61d0cb1a0714f7d936efde69869ea7a2100d4f
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 12 04:39:46 2007 +0200

    18bit panel looks horrid without dithering, so set this up.

commit 87626f745d9da13e270e00f62c549d57584b45ac
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 12 09:02:44 2007 +0200

    Added a scanbus option to scan all i2c buses on all lines.
    
    Alongside with this the build was fixed that broke
    due to previous merges.
    All AtomBIOS and I2C functions now take a scrnIndex
    instead of a ScrnInfoRec as argument since all subsystems
    carry only the scrnIndex as a link to the 'world' in their
    private structures.

commit 329925499bafcfccc7eca9969238d87cde5827ac
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 12 02:40:08 2007 +0200

    Added missing license and copyright headers.

commit 9afc87211eab4f8c33e1b4ad9070ab94c1cbaed5
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 12 01:29:03 2007 +0200

    Add DDC channel for m56 laptop VGA connector.
    
    Also we now hit an unresolved symbol: RHDCVTMode versus rhdCVTMode

commit 103c06e81a748dcb0fbf4fd9079e3a885af816ff
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Sep 11 18:58:23 2007 +0200

    Implement initial monitor abstraction.
    
    We now kind of validate things correctly, well, somewhat.
    TODO:
    * interface monitor handling with output sensing.
    * figure out what to do when no EDID data is there, current handling is
      incorrect.

commit 4634b214346d241a9ef3ec2758194a1c3218cb64
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Sep 11 11:26:28 2007 +0200

    Initial LVDS implementation for M56.
    
    Very rough edges still, but it will have to do for now.

commit b99e1cb21199187d0b3e8af8e8f1862de4f443d9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Sep 11 14:10:28 2007 +0200

    Made AtomBIOS code optional, restructured Fb allocation.
    
    This patch also addes some more messaging.

commit 7f299494948764c2096e724a69c66393e4b856ce
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Sep 11 14:02:49 2007 +0200

    Added ScanBus and DDC readout to I2C.

commit 84e2731533b2cbda3a58be1b7f3d76518ea193c4
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Sep 9 18:42:58 2007 +0200

    M56 (0x71C5): Add basic support.

commit 7e1be7e794db318f3b579b37be86490858195d05
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Sep 9 18:32:37 2007 +0200

    Fix array overrrun in I2C code.
    
    Also make CAIL messaging less verbose.

commit 8c5515f7878cba22eacc42ecd6d02c4b5729ccc9
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Sep 9 13:47:55 2007 +0200

    Fix the build of rhdI2CProbeAddress.
    
    Also fix building against older modular X servers.

commit 8c9f7eb31a9fedb8f1a005babd96d3fbf113f4db
Author: Egbert Eich <eich@e57.suse.de>
Date:   Sat Sep 8 01:32:56 2007 +0200

    Tested and fixed I2C on R5xx.

commit 90317728c576ab6aa4287d5289e06b841c6ac9f6
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Sep 8 02:11:29 2007 +0200

    Fixed call to ASICInit. Now we set up ATOMBios before memory sizing.

commit b3dafbe914b506769b5f9d63d59a0e5c25d075f8
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Sep 8 01:26:43 2007 +0200

    Adding AddressProbe for I2C.

commit 8227d13887a71468f88992b0575861a81a738177
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Sep 7 23:30:05 2007 +0200

    Replace 2 0xFFFFFFFF values in an enum by defines.
    
    This stops truncation and stops the compiler from complaining.

commit 9e88b57350e3dec8bac2b8182c0735292606183b
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Sep 7 22:01:31 2007 +0200

    Use atombios's FirmwareInfo PLL info for our PPLL calculations.
    
    rv630 still gave me a bad one on a mode with ~1.1Ghz internally.
    Will need to be dug out... but no time today anymore :(

commit b9b69287de412e44d24b5015cd1e761784b2be67
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Sep 7 21:06:22 2007 +0200

    Changed default Engine Clock and Memory Clock to 700MHz. Fixed Problem with clock value.

commit 337d986b8461f8fa44422c8f3fd75e66127ff1a7
Author: Egbert Eich <eich@e57.suse.de>
Date:   Fri Sep 7 20:51:41 2007 +0200

    Fixed memory allocation.

commit 485d627dc9fb8e069599bcde0982476b57d42128
Author: Egbert Eich <eich@e57.suse.de>
Date:   Fri Sep 7 12:23:27 2007 +0200

    Removing call to ASIC Init for now as this messes up the system.
    
    ASIC_Init messes up the initialization at the moment therefore
    we remove the call for now.
    Also make sure the framebuffer is mapped if we need it for AtomBIOS
    calls.

commit 2cfd67b70f9d487c8a9409f1d9511d4a84b18598
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Sep 7 01:06:33 2007 +0200

    Change to get rid of dependency on broken xf86i2cGetScreenBusses().
    
    Also added some further AtomBIOS table retieves.

commit 88968e9ceb6ab24ea43310523aaa11529bbf0fe8
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 6 09:27:04 2007 +0200

    Introduced a different handling of VRAM scratch space initialization.

commit 58098b916ae9ffea71a45d84a2aa4e559902c602
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Sep 6 18:59:26 2007 +0200

    Add connector table for firegl v3400

commit e80a6cd66a9a3e5fa782c5343cfa68d767c2371c
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Sep 6 17:30:34 2007 +0200

    Fix the build:
    
    * one from a bad merge from egbert to me.
    * one where i didn't move rhd_connector.h from rhd_hpd.h in git.

commit f1e9f75cf68be85c20c908043560640e402b298e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 6 08:00:36 2007 +0200

    Added support for AtomBIOS exec, Int10, DDC on R6XX and Asic_Init.
    
    The following functional blocks have been fixed with this
    patch:
    - I2C: DDC read out has been added and tested on R6XX.
    - AtomBIOS:
      * Some structural changes were made to accomodate
        AtomBIOS execuiton better.
      * Execution of AtomBIOS was successfully tested with
        ReadHWAssistedEDID().
      * Support for ASIC Init was added.
      * Better Debug support was added.
    - Int10:
      * Int10 support was added. Secondary cards POST
        flawlessly.

commit ff45fca743290ed828579588da46ce057cfc33f1
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Sep 4 10:49:04 2007 +0200

    First integration of I2C into common infrastructure.
    
    I2C init/teardown has been added and a few adjustment to
    the code have been made to give it a more uniform look and feel.
    AtomBIOS is also uninited now.
    Fixed AtomBIOS init/memory allocation and query funcs.

commit c96120c0cc8b9105eadc803dd7b1b476440491da
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 6 09:52:55 2007 +0200

    Added support for AMD GPG profided AtomBIOS command table parser.
    
    Some adjustmends have been made to the AtomBIOS data
    table parser to accomodate the command table parser better.
    The files itself are not yet integrated as the license has
    not been fixed yet.

commit 8cc902805a1b2311260e0a4819ac2a685db441df
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Sep 4 10:27:40 2007 +0200

    Initial version of I2C handling code for R5xx and R6xx.
    
    R6xx I2C support should be pretty complete.
    R5xx I2C support suffers from the lack of documentation.
    Currently we don't have full specs for R5xx
    therefore the code there is very preliminary.

commit fbe55cfe07da3f3ca3317f957cdb22ad718bcc81
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 5 00:25:11 2007 +0200

    Add connector handling.
    
    Connectors tie the actual plug, a monitor of any description, a ddc bus
    a hot plug detect pin, and (currently) up to two outputs together.
    
    So, everything comes together here, and the connector handling decides
    how and when which monitors and which outputs and which CRTCs are tied
    together.
    
    This requires an entry in our card table to map out these connectors
    for various hardware, another lengthy and painful plugfest...
    Which isn't complete yet, so your hardware might not start just yet.

commit 3cde3f19f446283f57be3d83f5346501f5a08fa0
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Sep 4 14:56:54 2007 +0200

    Fix HW cursor on Crtc2. Fix HW cursor with virtual.
    
    Nuked unnecessary cursor-related entries in RHDRec.
    Corrected REG_CUR_OFFSET.
    Moved actual cursor pos setting to rhdShowCursor.
    Re-show cursor in RHDAdjustFrame.

commit 2f0df11c8365f62e2cce9437c035c99eb86fcc65
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Sep 4 14:53:36 2007 +0200

    Round x coords in ViewPortStart.
    
    Also added a comment about granularity.

commit 700ccf181035358bd7a461a2d77bd61a7bff91e4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Sep 4 11:30:09 2007 +0200

    Make HWCursor code backward compatible with non-RandR-1.2.
    
    The flag HARDWARE_CURSOR_ARGB is used by the new RandR 1.2
    layer. It's not available on earlier versions nor is it
    required. Therefore we check for its presence before we use
    it.

commit 3741c9447b3dc5cce9844f6a5a52f3537281ebd8
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Sep 3 23:44:18 2007 +0200

    Add some very simplistic FB memory handling.
    
    Just grab DRM_FB_CHUNK bits off of rhdPtr->FbFreeStart/Size. Whatever
    is left is used for the scanout buffer and xf86 FB management.

commit 00c0f2331ebe7fd445027bdd2f68d9f56d789d85
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Sep 3 22:15:13 2007 +0200

    Fix DPMS

commit 6e14bb1af493695d5a70268fa5384027505caa61
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Sep 3 20:35:18 2007 +0200

    Hardware cursor support.
    
    No save/restore yet. Hardware cursor lives just below 128MB ATM.

commit c14ff985cfde0e885df80ed3c150e112819e9918
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Sep 3 16:45:28 2007 +0200

    Fix my email address.

commit 2ad86d2834259206e0ffb9f17c9d2f8b4574de8b
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Sep 3 16:25:35 2007 +0200

    Add LUT handling.
    
    We now have 8bpp working correctly. We have full gamma control over all the
    other bitdepths, and 15bpp has now also been added.

commit ca41591c327c216775cfaff1533548dc35739b1e
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Sep 2 20:20:46 2007 +0200

    Fix FrameAdjusts.
    
    Also expand VGA disabling.

commit 57f9fa41084fded7e51ee3a6ea2352b0947adcb4
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Sep 2 16:47:27 2007 +0200

    rhdPtr->XOrigModes was stupid and superfluous: cull it.

commit 796f3a644513d9223ca049a19779e0e8239c6ba7
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Sep 2 16:39:45 2007 +0200

    Add mode validation.
    
    Largely stolen from my unichrome driver. Virtual selection is much improved
    though.

commit b463703317e8371b3008a845f60de55c11f0e4a0
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Aug 31 20:37:15 2007 +0200

    Rework OutputsSelect to rhdModelayoutSelect.
    
    Also:
    * Power down unused CRTCs.
    * Add output validate functions.
    * Fix FrameAdjust CRTC selection bug.
    * Add DACx_CONTROL2 DFORCE_EN bit handling.
    * Move PLL calculation value printing to RHDDebug.

commit 28ba746dc8962fe1d34947fe92f26dd403f08a0d
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Aug 31 12:23:59 2007 +0200

    Add local copy of xf86CVTMode.

commit d6b513e4e01a17f9109b327702efbb6a1f8acc38
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Aug 30 16:27:50 2007 +0200

    Fill out DxModeValid.
    
    Also:
    * Move some functions from being display (D) specific to being shared
      between both displays.
    * Tie PLL2 to CRTC2.

commit 3e380f0ccf405952693dc685e7d9a90887eb351c
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Aug 29 19:40:50 2007 +0200

    Add initial CRTC abstraction.

commit 489afaa29574aeea64b24bf7005c28ca4c0838ec
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Aug 26 20:27:34 2007 +0200

    PLL: Invert Post divider selection logic.
    
    To choose the highest possible internal PLL frequency, this to improve the
    stability of the output PLL.
    Also add handling for EXTx_PPLL_CNTL, this adds voltage handling for PLLs for
    the r600s. For r500s, this is handled by ASIC_RegistersInit in atombios.

commit 108899586f3d33688790e41a97d79c56150d2f62
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Aug 24 00:04:20 2007 +0200

    Make sure that we set up the viewport correctly.
    
    No frameadjust yet though: buggers up the linebuffer.

commit cc5c5eecd18cf3bb5223b62cd822fc9cd6e24e65
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Aug 23 17:08:30 2007 +0200

    Add support for TMDSA.
    
    Also fixes:
    * an issue initialising the DACs: output video standard.
    * an issue initialising the CRTCs: read enable.
    * alter the activation of devices depending on their sense result.

commit 3ba286b05a3f892694856e024f5b220bbb307c1b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Aug 22 12:12:02 2007 +0200

    Clearified some names in atombios.c/h.
    
    Small patch that fixes typos and attaches some Atom BIOS
    specific entities into the Atom BIOS name space.

commit 3aee32c803b2c1bd121cbdcf599ab418c9417f30
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Aug 20 15:54:41 2007 +0200

    Add hot plug detect subsystem.
    
    This just handles the four DC_GPIO_HPD pins, but might some day get a timer
    and maybe the r600 interrupt handling.

commit bc661e564a0ae86d65544d24052e323c10498604
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Aug 15 13:10:53 2007 +0200

    Add CRT detection for DACA and B.

commit d430bed119037e9e58b8eda2aebb5fd20fb3c2e1
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Aug 13 22:17:18 2007 +0200

    We have no need for rhdLock/rhdUnlock functions at this time.

commit dacfd27f5c94ed8db17a02a40e520da012057d8f
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Aug 13 22:13:43 2007 +0200

    Split out handling of the VGA compatibility hardware.
    
    This might seem daft, but makes things more balanced with the rest of
    modesetting.

commit b0bfeb545769cca6850410c13e544b3eafbfd8c0
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Aug 13 19:57:54 2007 +0200

    Depend on rhdPtr->CursorInfo instead of rhdPtr->swCursor.val.bool.
    
    This is much safer. Plus, when RHDCursorInit fails we don't need to bail out,
    as we can happily fall back to the software cursor.

commit 860f18400f33443bbefe2015e1dc38f0b15106b5
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Aug 13 19:39:25 2007 +0200

    Split out PLLs

commit 63e3d5ee9d4166f227238f18f40e4293836f871e
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Aug 12 02:03:41 2007 +0200

    Mitigate some of the ->scrnIndex complexity through macros.
    
    Simple #defines take in ptr and replace to (ptr)->scrnIndex; nothing scary.

commit e140706548526fb1c049815f637c19d7a4f190f9
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Aug 12 01:44:21 2007 +0200

    Initial split out of outputs.
    
    DACs A and B.

commit 13e8c2b94aac32b407a5b613ee75df0a6d0b74b6
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Aug 12 00:42:08 2007 +0200

    Fix includes for cursor.
    
    By not depending on the xf86Cursor typedef and using the struct * instead, we
    don't need to include xf86Cursor.h all over the place. This tactic means that
    we will never have to spend ages resolving inter-header dependencies and makes
    us more resilient against unrelated SDK/API changes.

commit 763f6286c3dbe0b51d307e804f81ccdfb50ccd0a
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Aug 12 00:26:47 2007 +0200

    Remove the RHDRegRead/Write/Mask dependence on rhdPtr.
    
    RHDRegRead/Write/Mask now take scrnIndex as their first argument. This
    ensures that, when structuring modesetting, we don't need to cast back
    to rhdPtr all the time to be able to touch registers.

commit 4c88c8995f0cba61ddae71dfff8ad4c771be6632
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Aug 12 00:10:02 2007 +0200

    Add rhdPtr->scrnIndex, __func__, RHDDebug and RHDFUNC.
    
    * Add rhdPtr->scrnIndex and move all modesetting functions to take rhdPtr
      as a first argument.
    * Add a workaround for __func__ on systems that don't provide this
    * Create RHDDebug function for debug messages (-logverbose 7).
    * Create RHDFUNC macro to print function names to the log when debugging.
      This might once again seem superfluous, but it is easier to tell a user
      to provide a log of -logverbose 7 than to have them run gdb.
    * Improve messaging to use __func__, RHDDebug and RHDFUNC.

commit 1fa29a1c638f99ee245d62454222aa33d551694e
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Aug 10 18:26:09 2007 +0200

    Fix R600 memory sizing and internal FB base.

commit 9e8121dd1b5bef2141dfa022021e80a042015771
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Aug 10 11:54:39 2007 +0200

    RS600 is r4xx style modesetting so this doesn't need to be handled here.

commit 6118f4c6a373869bab26fd1d1aaa775d42596f5d
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Aug 9 14:26:01 2007 +0200

    Fix 32bpp.
    
    Apparently this wasn't tested at all. Code written on friday apparently isn't
    to be trusted.

commit f11df314eaf45de9b1beaf1ee2c8866f6c45fd55
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Aug 8 19:05:44 2007 +0200

    Add one or two pci ids...
    
    We had a delivery of AMD hardware, so we had a bit of a plugfest. This means
    that we now have a grand total of 15 unique devices at our disposal.
    
    Then boiko@mandriva dug up a pci id listing from ATI, which kind of bumped
    the number of possible R5xx/R6xx devices up to a cosy 99.
    
    We need to order more hardware.
    
    So:
    * Add to RHD_CHIPSETS, RHDChipsets, and RHDPCIchipsets.
    * Create a function to mark the "few" cards we can't test as experimental,
      which means that the driver will complain and bail.
    * Add Option "EXPERIMENTAL", to stop the driver from bailing.
    * Add PCI card/subsystem id checking; only prints the card name now.
    * Remove rhd_macro.h as RHDPTR() should live near the definition of RHDPtr.
    * Move a few other defines, like RHD_NAME, to rhd.h.

commit 0ea6130aec6e88ea7c48e638b0d1e46484ff718d
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Aug 7 20:56:08 2007 +0200

    Add support for multiple bitdepths.
    
    This means that 16bit colour is possible now, 8bit still needs to be figured
    out as palette access still needs to be implemented.

commit 71a295f52b270d798308715ce43446d9d3dbbdf1
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Aug 2 20:58:45 2007 +0200

    Get videoRam size from MMIO 0x00F8.
    
    This is where Atom stores the size. This size is checked against the size of
    the PCI BAR aperture (which is limited to 512MB), and the smallest of the
    two is chosen.
    Also removes the superfluous BAR selection crap, uses 2 defines instead. Will
    reintroduce logic when it is actually needed.

commit 7597a3b52c740058f7419e5418a5c41537413e19
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Aug 2 14:00:52 2007 +0200

    Expand modesetting to do two DAC single fb dualhead.
    
    Now D1 (D1GRPH, D1CRTC and D1PLL) points to DACA and D2 (D2GRPH, D2CRTC and
    D2PLL) points to DACB. And all seems to work. It's not exactly refined or
    overly useful, but we have a working starting point.

commit aed371086bb5e434e11a054f85bda4513bd4c65c
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Aug 1 21:40:39 2007 +0200

    Reverse order of memory address when logging Fb difference.
    
    Also rename guessed register so that we will not forget to change this
    to the ATI documented name.

commit 0c9c125528eb461364bf353e667b6f316245c46e
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Aug 1 21:19:28 2007 +0200

    Use internal FB address instead of PCI BAR address.
    
    These might differ, and all the FB Addressen in our IO are referenced
    comparably to some still undocumented register which we now will call
    FB_INTERNAL_ADDRESS.

commit a7053ee84d576b84ce1971b5e2b8f162d2c88681
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Aug 1 20:33:26 2007 +0200

    mmap size calculation correction.

commit 2f31af106c43c9605d08dde5d08cf504417b0d76
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Aug 1 19:45:55 2007 +0200

    Added R580. Reordered symbols in id order.

commit e01c44147e61b6cbaa87318bd20d54a5058919d7
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Aug 1 19:36:40 2007 +0200

    Add support for the primary DAC (DACA)
    
    Extend the support for DACB to force it to go on as well.

commit 733b80dd1c62e306542946f8285659d51a422294
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Jul 31 21:53:31 2007 +0200

    Restore 1280x1024 as the possible mode.
    
    This mode is the current denominator, we will soon have some mode validation
    going now.

commit 7d64c2c19db180893c73175259fe1d8253a26692
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Jul 31 21:44:31 2007 +0200

    First actual modes working.
    
    * Dotclock generator and PLL setting
    * CRTC1 now has proper blanking and sync setting and ties the correct
      PLL to the correct CRTC
    * VT restore follows suit.
    * Fix an issue with xf86_libc.h defining ulong to unsigned long,
      and egberts option handling.

commit 6facb65e8922e137cf28b549f4795c6e47baf8a2
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 30 17:45:19 2007 +0200

    Single entry point to ATOM BIOS subsystem.
    
    The entry point to the ATOM BIOS subsystem is now
    a single function:
    AtomBiosResult RhdAtomBIOSFunc(ScrnInfoPtr pScrn, pointer handle, AtomBiosFunc func,
    		    AtomBIOSArgPtr data);
    Apart from pScrn the arguments are:
     'handle' (a struct with persistent internal data),
    typedef enum {
        ATOMBIOS_INIT,
        ATOMBIOS_UNINIT,
        ...
        FUNC_END
    } AtomBiosFunc;
    which describes the action to perform.
    Before any other action can be performed ATOMBIOS_INIT needs
    to be called. It will create and return the 'handle' which
    needs to be passed for any subsequent operations.
    
    it can return the states:
    typedef enum {
        SUCCESS,
        FAILED,
        NOT_IMPLEMENTED
    } AtomBiosResult;
    
    The 4th argument is a pointer to a union
    that can be used to pass arguments to and
    results from the function.
    The most common data types are already in the union,
    more elaborate structures can be passed back and
    forth by using the ptr member.
    
    AtomBiosArg

commit fd3d83aa50dc60f4ff0d8ef415bffda2e95f3bee
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 30 17:14:42 2007 +0200

    Added framework to query data from ATOM BIOS tables.

commit a08e64b798e9e471be9df239655abe0232c7e23f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 30 12:44:35 2007 +0200

    Moving function delcarations from rhd_regs.h to rhd.h.
    
    In the future we may generate register lists on rhd_regs.h
    automatically. Thus this file should contain as little as
    pssible that doesn't relate to registers.

commit 1541f4201175ac8e74b825df4e338e6960a61a62
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 30 12:37:22 2007 +0200

    Converting defines of register addresses to enum.

commit 7f605e721fcdecfe4052955db5a25f37b48157d0
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 30 11:19:38 2007 +0200

    Fixed bailout structure: uninit bios data and unmap mmio when needed.
    
    The failure case was still not handled correctly:
    MMIO should get unmapped and the BIOS handler private data
    structures should be freed on failure. (If the latter ones
    will be needed in ScreenInit() in the future we can keep
    them around and point to them from the driver private data
    structure.

commit f3dc9a9b9ff5a3186bfb31554a5534769c724de3
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 30 10:07:25 2007 +0200

    Added initial support for ATOM Bios.
    
    Load ATOM Bios, verify its data and obtain the data tables
    for futher use.
    NOTE: atombios.h has not yet been included as its license
    status is still undetermined.

commit 6adf65970f5f9c8e2116c9868ab215f132545705
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 30 07:31:46 2007 +0200

    Add RV515 pciid.

commit 798d88598fda347033f4572e6e8d7a414dbaab34
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 30 07:29:03 2007 +0200

    Track option set status.
    
    Presently there is no consistent way of tracking if an option
    was set by the user or has been set to the default value.
    This information may be needed later to make more educated
    decisions on how to proceed.
    Many drivers work around this problem in different ways - often
    by introducing a second driver private variable to track the
    option status.
    We add a set of functions and a new structure to handle this
    in a more consistent way.
    These functions should eventually be moved to DDX.
    For now we leave them in the driver.

commit 53c6fe2083a6ce4ccdb5dad97becfc731160090e
Author: Egbert Eich <eich@wlan-hermes.suse.de>
Date:   Mon Jul 30 06:54:54 2007 +0200

        Making some local functions static.

commit b5e908c96a1f9d92d7c8780cbbf3795b609cb19e
Author: Egbert Eich <eich@wlan-hermes.suse.de>
Date:   Mon Jul 30 06:54:33 2007 +0200

        Break out option handling.
    
        Breaking out parts from ReInit() makes this function more readable -
        especially when new elements are added.

commit bab19d9a950eefb7384545cd8a9efc8700b6a79f
Author: Egbert Eich <eich@wlan-hermes.suse.de>
Date:   Mon Jul 30 06:53:51 2007 +0200

        Use the default method to specify VRAM size.
    
        The DDX already provides a device section option to specify
        the size of VRAM. The GDevRec is linked into the entity info.
        Therefore we pick up this value before we free this structure.
    
        In the future we may have to keep the entity info around for
        longer. But we will also have a way to reliably probe VRAM size
        in which case we may not want to pick up a user specified setting
        at all.
        The exact policy can however determined later.

commit d619529a9ccbf4b827b621298a96918af8e46d2b
Author: Egbert Eich <eich@wlan-hermes.suse.de>
Date:   Mon Jul 30 06:53:09 2007 +0200

        We only have one hardware entity for now.
    
        Don't bother looping over entity list.

commit 4e954b3445cd4b053993fb9bd7f63c0ecdc31904
Author: Egbert Eich <eich@wlan-hermes.suse.de>
Date:   Sat Jul 28 10:21:29 2007 +0200

    Make function names match English grammar.

commit d8d5c0e467a67256b479dfa34a3cab30c5ec2e88
Author: Egbert Eich <eich@wlan-hermes.suse.de>
Date:   Fri Jul 27 22:51:29 2007 +0200

    Use fixed size type for register read.
    
    For hardware access fixed size types should be used
    which are typedefed appropriately on the target system.

commit 3c9b0eff5f8df3dc85adf67ec3177ae073c89df7
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Jul 26 12:14:17 2007 +0200

    Do the first very rudimentary modeset.
    
    This is very much dependant on the mode already set by the bios,
    but adjusts this to something useful already.

commit a90498a2205acba33399dc02ba9b9f527c1b6d99
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Jul 25 16:54:18 2007 +0200

    Disable VGA Mode and restore it.
    
    This means that we now get a stiple background when starting X, and that
    we properly restore VGA textmode when exiting X. Also adds some basic
    functions to alter MMIO registers.

commit d58eff1bf58eadc3afbd44049f407525274843b1
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Jul 25 14:32:27 2007 +0200

    Fix trivial BAR sizing bug.
    
    PciInfo->size[] here denotes the number of bits used, not the real size.
    The size of the MMIO BAR is _not_ 0x10, but 2 << 0x10, for instance. So i
    improved mapping verbosity and spotted this.

commit a6f07a373f53568a7ec1badb83147194b7cb541b
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Jul 25 12:13:58 2007 +0200

    For initial testing purposes, tell X that we support 1280x1024.
    
    No validation or anything, but then, all the test monitors here are
    capable of 1280x1024@60.

commit d8932dd248ae9d36edf192e954a035268c3792dd
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Jul 25 11:47:10 2007 +0200

    Add RV530 pciid.
    
    Also move some things to before Option collection again. xf86CollectOptions
    cluelessly depends on some things being fully initialised already. This is
    broken but was encountered before on xf86-video-unichrome, so the nasty
    workaround was put back rather quickly.

commit b89549dd0698b8ca2798a3ecdd3875f3c61d8920
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Jul 25 11:13:21 2007 +0200

    Add videoRam option.
    
    Need to spend a few hours getting this info out of the memory controller.
    So postpone for a bit, but make it the first job after getting a working
    mode.

commit ccb3d6c413e064eba7220040125493087843a51e
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Jul 24 22:37:21 2007 +0200

    Fix segfault in option handling.

commit d28199cb9d37d72cb3b9abd7b94c4b182579a519
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Jul 24 22:33:05 2007 +0200

    Clean up IO and FB mapping.

commit ba0259a9931eca3ddcccb72248fd1615aaa3e56f
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Jul 24 22:06:05 2007 +0200

    Move option handling.
    
    There is no HW cursor yet, so don't bother.

commit 1a4d1de1cde80087b3aab45ab402c81b99539400
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Jul 24 21:34:18 2007 +0200

    Remove BAILOUT macro.
    
    There was one place where it was not used correctly, and the entity pointer
    is not needed anymore after PCI resources have been claimed. In future, other
    things will have to be handled when bailing out of PreInit later on, things
    which need more code than a macro should have. If the extra work involved is
    that much of a burden, then this is about the only case where a goto is
    accepted, especially by the otherwise very picky kernel community.

commit 904464ea80b2aac1f7e20f44d457c2b69d7c97bb
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Jul 24 20:40:23 2007 +0200

    Add autogen.sh and .gitignore

commit 3e49bccf8036c680d96ae5410b4859e5403cc899
Author: Egbert Eich <eich@wlan-hermes.suse.de>
Date:   Tue Jul 24 12:00:53 2007 +0200

    Minor formatting changes.

commit 8c494c0fa0f9622305c0609b1279b9e0163c0baf
Author: Egbert Eich <eich@wlan-hermes.suse.de>
Date:   Mon Jul 23 06:49:04 2007 +0200

    Skeleton for a driver for the ATI RADEON HD series Chipsets
    
    This skeleton driver still lacks support for
    - acceleration
    - RandR 1.2
    - multiple screens
    It still needs to undergo some restructuring as we go along.

commit cc85648d655152f93f89e8df898ab4a2e065b43e
Author: Egbert Eich <eich@wlan-hermes.suse.de>
Date:   Tue Jul 17 13:03:22 2007 +0200

    Adding a README for the RadeonHD driver
