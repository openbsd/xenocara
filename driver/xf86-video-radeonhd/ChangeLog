commit 9d131f9035b3b0ff7755dda708e16326aa156e83
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Apr 10 21:20:42 2008 +0200

    Bump to 1.2.0. Add changes to README.

commit 7560240b9935d86570be0ea46f85a6f5c9630cf9
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Apr 10 21:20:09 2008 +0200

    Update + fix supported chips list, both in source and manpage.

commit 595050167523f0121b3bf0efeed42e6ca403d1a4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Apr 10 07:41:07 2008 +0200

    Add a very basic register dump utility.

commit b0563cbde992594f5d66d308c1ef5fdb7b110a7e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Apr 10 20:34:19 2008 +0200

    Add a very basic register dump utility.

commit 89c10062a3207c1f194a6a610684da2c1a40ef66
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Apr 10 07:40:26 2008 +0200

    Minor cleanups.

commit bb652740fc287eba2421e9bbc048f004549cb059
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Apr 10 15:29:14 2008 +0200

    git_version scripts: add licensing information.

commit 60dc7e0453167b956a1fb0cc9db89aa22196b1cf
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Apr 7 23:23:22 2008 +0200

    Add a hard coded connector table for an MSI HD2600PRO AGP.
    
    Full ID of the card: MSI RX2600PRO-T2D512Z/D2.
    The connector information for this chip lists HPD0 instead of HPD2.

commit 8048353d9580e3930b9f1bfc47581284dc2ab100
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Apr 7 22:44:24 2008 +0200

    Remove unneeded use of pciTag when using libpciaccess.

commit 3076447f027eb0e358304b4d5ffd337626e2b9a5
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Apr 7 22:45:28 2008 +0200

    Fix MC access for RS 690.
    
    The MC registers are accessed thru PCI config space of the NB.
    Since we know nothing about RS600 it is excluded for now.

commit 01bc57b1e3aafae5e5d992c1f20e0c63a956c9c6
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Apr 7 13:01:15 2008 +0200

    Add initial support for talking to IGP northbridges.

commit 46367d6107510e55b75db0eff16c5ca496c6daf7
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Apr 7 12:56:09 2008 +0200

    Add IGP flag to chipset map.

commit 338eb58b749071ab2559455d2a4ba212276667d5
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Apr 7 11:41:08 2008 +0200

    In verbose 7 debug mode dump present mode line.

commit c0c8fbedb18369c5a057488dec9aa249d82fdb23
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Apr 7 11:11:48 2008 +0200

    Mark PCI subsystem 0x94C1, 0x1002, 0x0D02 DMS-59.

commit 5a8138e896136a6598a023d40501a7eb54ede3e4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Apr 6 10:28:31 2008 +0200

    Treat RV635 as a separate family.

commit 954fd01c4d950d3727d0a72144904f754b83c498
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Apr 6 10:14:03 2008 +0200

    Provide more information on HPD detection and mode programming in verbose log.

commit 4733547bf8ba4813a1ce55a20f02080b6c06d2be
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Apr 7 16:14:06 2008 +0200

    Add support for the full RS690 family including RS740.

commit 580ad5bfa12f529915b4d364ffc6bca9670aac6b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Apr 5 22:43:12 2008 +0200

    Enable RS690 MC support.

commit decf3554ebb1ae39901fdfd82adf2ced55d72cd3
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Apr 5 22:09:32 2008 +0200

    Treat all RV515 chips as such in MC code.
    
    There are a number of ASIC generations which belong to the
    RV515 family.
    A table and a function is added to match asics to families.

commit 2c2d132077fdac80f41c39c019eb93b5b3f7f95a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Apr 2 20:34:46 2008 +0200

    Add a workaround to make interlaced mode work.
    
    A HW bug requires the front porch to be at least 2 lines in interlaced mode.

commit 783b5ab4f3d910e5964e69938ea0a5835bd19be4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Mar 26 21:11:20 2008 +0100

    Add support for interlaced modes.

commit 6d5ef116bbdd60799da2ace15f51b1bb4b883c6f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Apr 1 22:59:04 2008 +0200

    Add better support for LVTMA TMDS macro control values on R5xx and RS600/RS690.

commit 38efb27c05523fd25323c732a567e90378e1a1e7
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Apr 1 17:17:28 2008 +0200

    Add MC idle testing for RV515, add MC support for RV550.
    
    RV515 is supposed to be identical to RV515.

commit f64aba20a2942a18daf122d642389ccfede22cdc
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Apr 1 16:38:48 2008 +0200

    Use proper temporal dither reset bits depending on chip generation.

commit db2c3948d5a398047b3a881f6f88541dc963d22e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 31 08:12:44 2008 +0200

    Fix LVTMA code to also handle single link DVI correctly.
    
    Bug #15214

commit 55e3b21e709c2a14ff7153e2044a4921f30b82f2
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 31 08:10:33 2008 +0200

    HDMI Type A is single link DVI while B is dual link.
    
    This is a follow up on 806d95361c11068a078.

commit d53f2201b5d82936b190fb5b5fe2701f5e083aeb
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 31 00:49:07 2008 +0200

    Add source select to DDIA block.
    
    This code got dropped on the floor by accident.

commit be9055f03a8a4759fbdf454ad4c2c4e215ead1df
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Mar 29 14:21:33 2008 +0100

    Fixed argument order to rhdAtomGetTableRevisionAndSize().

commit 1623f86f0834e7c13a89682983729b70348512b2
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Thu Mar 27 17:49:01 2008 +0100

    Added missing rhd_ddia.c/rhd_ddia.o to Imakefile.

commit 186c345cad07fb4eb626707f40a2c444fc5d8bc7
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Mar 27 07:34:30 2008 +0100

    Print output name for sensed type.

commit d7d63b25d264f0838c497a79e38059506ccdc814
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Mar 26 22:50:43 2008 +0100

    Print sensed type also for RandR.

commit 6d628f5658512cb73fd04dda85f5672736e80080
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Mar 26 21:10:31 2008 +0100

    Make debugging output of HPD verbose about the result.

commit 811b0cd66958e32bddcbbca7656893de160b2de8
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Mar 25 17:25:14 2008 +0100

    Added quirk table entry for a different Sapphire X1300

commit 89cfb7384b1e34c1de88d3b32ff6202b9ecda287
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 24 23:07:08 2008 +0100

    Add support for RS690 DDIA digital block.
    
    This will support the second digital output on many RS690 boards.

commit b6418a97bfc448ecd6e15c548bcdeb8af8967619
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 24 09:34:18 2008 +0100

    Add debugging aids.
    
    The RHDReg??D() functions can be used to print out the register
    values read/written. When RHD_DEBUG isn't define they will be
    identical to the versions without the 'D'.

commit c8ad2599d54fa855b4cdf234c6c560301afeebf4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 24 18:28:55 2008 +0100

    Reset CRTC horizontal counter replication.
    
    Appearantly this should only be set for 30bpp DVI modes.

commit bd11d76aab42354403dff1bffd5f89dc86c3ecc7
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 24 16:23:08 2008 +0100

    Handle AtomBIOS TMDS PLL parameters correctly.
    
    NOTE: This code is not used so far but support for this
    will be added later.

commit 806d95361c11068a078c85db2891c3802a106f9d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 24 13:57:44 2008 +0100

    HDMI Type B connector is dual link capable.

commit ae3171b9621b54ecacc2a10a133c435f2e380152
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 24 13:43:40 2008 +0100

    Add TMDS PLL macro control values for M54 (0x7145).
    
    Bug #15132, reported by Veli-Jussi Raitila.

commit 19a6eb464a5f988a700259c85042350d67d66ea3
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Fri Mar 21 11:35:13 2008 +0100

    Chipset name review.
    
    Added Device ID for Radeon HD 3850 AGP. Fixed typo in Device
    ID for ATI FireMV 2450.

commit 96f36339e2b6dbe60efafc6a150a561111aaf844
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Thu Mar 20 17:54:57 2008 +0100

    Fixed imake build.
    
    Added rhd_mc.c, rhd_dig.c to Imakefile to resolve undefined
    symbol RHDMCInit, which prevented Xserver from starting.

commit 3d62e9a1be968655969e79570a522c28da218bae
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Mar 19 01:54:17 2008 +0100

    Cosmetics: Move RV620/635 to a more sensible position in our devices list.
    
    Makes supported devices printing a bit saner, but pretty useless otherwise :)

commit 9de85904ca8183fad9c9ec67985394c2567ac2f5
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Mar 19 00:13:48 2008 +0100

    RHDPLLsInit: PLL2: Add missing " else " in "if () {}{}"... Duh.
    
    I really must visit an optician one of these days...

commit 00f182d6c9f026ac05969cc1304e02e6483cae90
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Mar 13 13:20:03 2008 +0100

    Use correct option name for (yet unused) TVMode option.

commit 98d328b04500dda5030eb612f1fa899ee0fb5a95
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Mar 13 13:12:21 2008 +0100

    Fix endless loop.
    
    Bugzilla #14988

commit 427d95537b424d7f3ccfb3b0c0ccb779adc9ab8e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Mar 13 07:51:13 2008 +0100

    If available read panel dithering parameters from AtomBIOS.
    
    AtomBIOS contains information about temporal and spatial dithering
    as well as the number of grey levels emulated thru temporal dithering
    in the LVDS_Info table. If available use this information.

commit c336508ea9cc26c02c1331f3ec9dbb394c3cd9fd
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Mar 13 07:37:37 2008 +0100

    Remove DVI_DUAL as a type which can be detected by load detection.
    
    Appearantly TMDS(A) load detection cannot be used to distringuish between
    single link and dual link DVI which would be useful to detect if someone
    erronously uses a single link DVI cable on a dual link capable monitor.

commit bf8bda883793465f0f88b622a2412b3f3597cf60
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Mar 13 07:33:05 2008 +0100

    Make variable and enum names more consistent.

commit db0d605852934a248f484a88528042c3623f6ddc
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Mar 11 07:35:41 2008 +0100

    Fix a memory leak.

commit 098cf71d3d51694908f2766a8c35483a9f79da19
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 10 12:36:01 2008 +0100

    Make test for DIG2 more consistent.

commit 46a40c82c6696d1d57261ea34d124f94e342b391
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Mar 6 17:03:09 2008 +0100

    Add #ifdef wrappers around AtomBIOS related code.

commit 54f491f983ab6d618e9e06e2c8f7d8cd37464266
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Mar 5 20:54:34 2008 +0100

    Add AtomBIOS based UNIPHY support for RV620/635.

commit 2d81ffc704db68f3758e5ce28fe6d1de83ef7c11
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Mar 5 20:52:12 2008 +0100

    Fix a wrong type in ATOM_ANALOG_TV_INFO in upstream version of atombios.h.

commit cab03118f05d47b714965d7d46ae61eeb37abcfd
Author: Luc Verhaegen <lverhaegen@ridcully.suse.de>
Date:   Wed Mar 12 18:36:26 2008 +0100

    DxCRTC: Fix disabling check.
    
    We were waiting on hblank, while we have a nice little bit for checking the
    state of the CRTC.

commit 52f04a7f8ff43fe79c140ba7d17d18bb78cdb1af
Author: Luc Verhaegen <lverhaegen@ridcully.suse.de>
Date:   Wed Mar 12 17:20:49 2008 +0100

    TMDSA: Fix sensing with respect to duallink.
    
    Load detection is apparently sniffed at at ATI. So our only sense-able
    digital link is unable to find out whether we have proper duallink
    termination there or not. A missed opportunity...

commit 42d3201bb7dcfe2ec1755976641e0260f5eb4e91
Author: Luc Verhaegen <lverhaegen@ridcully.suse.de>
Date:   Wed Mar 12 16:34:10 2008 +0100

    PLL: further fall-out of removal of validation callback for our hw.
    
    NoRandR path was fixed, but RandR wasn't... Stupid!

commit 8f499c3879cff399ec40db2403a0bf5626f13c03
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 10 11:57:55 2008 +0100

    DVI is on TMDSB not LVDS.

commit 56a264f86762030bb4173b6fc0515918b0e3fc5e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 10 11:51:48 2008 +0100

    Set Connector element already in rhdRROutputDetect().
    
    Setting this early makes this infornmation available to mode validation.
    Some limits may depend on the connector (example: dual link DVI has a
    pix clock limit twice as high as single link).

commit 478bda793b7101834ce58bbe37f03a3ccf5036a4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 10 11:31:27 2008 +0100

    Fix issues with DDC on RV620/635.
    
    DDC may also time out or be aborted - in which case the result is also
    invalid. Let the status function check for that.

commit e5dddbc2f73bccc66a5ff00a2afb6e8a7ffa93e5
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 10 11:30:42 2008 +0100

    Fix issues with DAC load detection on RV620/635.
    
    Some BIOSes leave DDET_REF_EN or SDET_REF_EN set. This changes the
    DAC comparator reference. We turn off either.

commit 5596d06da56a299a42818a63ec15b72393703861
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 10 11:26:38 2008 +0100

    Fix issues with DAC load detection and erronous DDC detection on RV620/635.
    
    Some BIOSes leave DDET_REF_EN or SDET_REF_EN set. This changes the
    DAC comparator reference. We turn off either.
    DDC may also time out or be aborted - in which case the result is also
    invalid. Let the status function check for that.

commit c9ccc4c474af39b583073ea083a61a7b0f711ad3
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Mar 8 10:52:09 2008 +0100

    Resolve unknown registers.
    
    DIG1 drives UNIPHY link1 and DIG2 drives UNIPHY link2 (if not dual)
    unless swapping bit is set.
    Fix DIG clock source selection and enable.

commit aa7037a7418869da702bd2429b59fb51c9ee6e42
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Mar 8 10:40:04 2008 +0100

    Remove stale structure elements.

commit dfe3604858d8792a5d34ac6324baced24274135e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Mar 5 15:24:21 2008 +0100

    Changed heuristics for encoder link enabling.

commit 153331e806eedff5f73ccb212a7d68d0b691753d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Mar 4 18:03:47 2008 +0100

    Properly restore Encoder and Transmitter.
    
    This patch attempts to follow the set procedure to restore encoder and
    transmitter values. Not doing this doesn't seem to make any difference
    here, but we never know...

commit 6742f79e8e77add4d62893c1a84908c6c4a5d621
Author: Luc Verhaegen <lverhaegen@ridcully.suse.de>
Date:   Sat Mar 8 04:09:07 2008 +0100

    RV620: Add Pixelclock support.

commit 807e525a277668b3006afb36596a9f89dad7ca48
Author: Luc Verhaegen <lverhaegen@ridcully.suse.de>
Date:   Thu Mar 6 17:22:36 2008 +0100

    Implement the hardware level scaling code.
    
    This is currently only useful for disabling scaling and for save and restore.
    The framework for enabling scaling is not implemented yet, so this code should
    not change driver functionality, just fix some modesetting issues we've come
    across.

commit fd6a7abfc2dce560092791706393ca073090e995
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Mar 4 13:55:46 2008 +0100

    Restructure FMT block handling.
    
    The FMT block is directly linked to the CRTC block but only the ditital
    outputs seem to be connected to it. The FMT block preformats the pixel
    data for the display doing things like dithering which will give the
    impression of a higher color depth on 18bit digital displays.
    Since the FMT block is connected to the CRTC we save/restore it in the
    rhd_crtc.c while we program it from within DigMode().

commit 2e1f55b00d101274bebc51d7ce3a27d54f92d658
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Mar 4 11:41:54 2008 +0100

    Consolidate handling of dual link TMDS displays.
    
    This code is still not tested, yet due to lack of equipment.

commit f0256f38aff57fc88e2a5deed79a4744fd1f331a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Mar 4 11:12:41 2008 +0100

    List explicite arguments for FMT block programming.

commit 59de4071c6354cf95722d9e5d19f7506d7f69a5f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 3 22:19:36 2008 +0100

    Fix identification of end-of-code table data tables and GoldenSettings search.

commit b3df388f2917e754bd5cd1bee68292032c0a75e0
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 3 22:14:08 2008 +0100

    Add RV620/RV635 devices.

commit c13650e667aad0064223060bb6460de2c307f810
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 3 22:10:34 2008 +0100

    Add KLDSKP_LVTMA and UNIPHYs to connector handling.

commit 0dee42c5b7c1153ea524c65766ee7b0f36b63c93
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Mar 12 20:42:02 2008 +0100

    Add support for new DIG blocks on RV620/635.

commit 8dabb69a3780ffcf231dd38dc190e39fd1f88437
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 3 22:18:02 2008 +0100

    Fix structure names in rhd_output.c.

commit 80fb6b3fa5a9dfccc9c2b8bfdfeba39842ca3cf2
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 3 22:15:53 2008 +0100

    Fix copy-over artefacts from rhd_conntest.

commit 252491e4a1b97b2ad020ebf45862d75c99da561b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Feb 27 20:25:27 2008 +0100

    Adding KLDSKP_LVTMA and UNIPYA/B as output types.

commit 6dab67a84caa30d4653cad44ce67b572037b89f2
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Feb 27 19:31:03 2008 +0100

    Add RHD_CONNECTOR_DVI_SINGLE to be able to mark a single link connector.

commit abb188fe88e5b1887b940201ce0f7c5cf7234a66
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Feb 26 22:16:45 2008 +0100

    Separate query for temporal and spatial dithering.

commit 4ec302827107453fc8f20f9c0dd083644683a834
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Feb 26 21:59:48 2008 +0100

    Add more verbose output on GoldenSettings matching.

commit a0c11368fb48f7bec4b0e0dee723f523315e76b6
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Feb 26 20:35:43 2008 +0100

    Add support enumerated object IDs to the connector table parser.
    
    The enumeration of object IDs is not just used to number devices but
    is used to further specify the device type.

commit b280b417463affbb2da7168f1eb67f68a2b40864
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Feb 13 10:29:28 2008 +0100

    Support for TMDSA dual link load detection (untested!).
    
    This code attempts to load detect it a second DVI channel on TMDSA is
    available. This code is entirely untested.

commit dec87ba6920ac89df21c6c7453d3c8e79626f0aa
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Feb 13 10:24:37 2008 +0100

    Add support for dual link DVI panels (untested!).
    
    NOTE: This is entirely untested due to lack of testing equipment.

commit cf8eea258505b1902b030a3d0ca8bf41d4dae9d8
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Feb 12 09:25:47 2008 +0100

    Add support for two new ObjectIDs required for RV620/635.

commit 55ce4f82c4ac88dfb184d1a21c364ad87b0acab9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Feb 20 14:19:48 2008 +0100

    Added own version of AtomBIOS getConditionalGoldenValues().

commit 283c2d2e877e1eb8bef9ed496ba153484b9c768a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Feb 3 20:05:39 2008 +0100

    Fix GPIO routing for DDC in RV620/635.
    
    Locate GPIO routing data table in ReadEDIDFromHWAssistedI2C
    table and find the correct entry.

commit d499a61623b10a9ff2b046877bf2528efe250e70
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Feb 3 20:05:03 2008 +0100

    Fix GPIO routing for DDC for RV620/635 in rhd_conntest.c.
    
    This adds support to pick data tables from AtomBIOS command tables.
    And code that locates GPIO routing table in ReadEDIDFromHWAssistedI2C
    command table.

commit 8de4cd9a9b71ca2f7e2b00a2943c19ced3517b8f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Feb 3 20:04:32 2008 +0100

    Locate data tables embedded in AtomBIOS command tables.
    
    The AtomBIOS bytecode tables can contain data tables which are
    referenced from this specific table only. Find them and return
    their size and a pointer to their start.

commit e29024d98e605e3b0d38462f4a7b42b4f246d400
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Feb 2 15:33:47 2008 +0100

    Consolidate load detection for R5xx/r6xx in rhd_conntest.

commit f021c0cf6ed65095d7ee6bfbf3ecebfa6d4279f4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Feb 1 18:50:39 2008 +0100

    Add support for DAC load detection and I2C for RV620/RV635 to rhd_conntest.

commit 481df4027f75b38a522355668561db1439f1d50e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Feb 1 18:49:39 2008 +0100

    Add stubs for the PLL subsystem.
    
    PLL support is going to follow soon.

commit 3ba1c0937d60eea79167039062f931c3974e5bc3
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Feb 1 18:48:45 2008 +0100

    Add support for the DAC output subsystem for RV620/RV635.

commit b08e64ec70e29af8e8050508f44e7c8f822ff41f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Feb 1 18:44:46 2008 +0100

    Add I2C subsystem support for RV620/RV635.
    
    This patch includes the register additions required for I2C and DAC support.

commit 089801d49ffd3b736f27529fc8ba4499e43f280f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Feb 1 18:27:36 2008 +0100

    Add RV620/RV635 PCI IDs.
    
    These IDs are disabled at the moment as we are still missing PLLs to
    do anything really useful.

commit 47298a34699d9c81ba61e5d829279253e193d3bf
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jan 16 10:25:06 2008 +0100

    Add support for sensing and programming different analog outputs.
    
    In this event clean up handling of analog output norm handling
    and AtomBIOS fixed mode retrieval.

commit 2d42e5b7c8e826771c38c19d7418c3ab0e07a667
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jan 15 15:34:02 2008 +0100

    Add monitor support for TVs.

commit 8f06626d19543f5e7e4b99819cc230f3a38ebe9a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jan 15 15:33:17 2008 +0100

    Add an option to pass the TV standard to override boot default.

commit 3fe49f2a1de02d572c3e66f16ba6aba439f1fe79
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Mar 12 21:24:35 2008 +0100

    Fix spelling of 'Supp(p)orted' to match the fixed spelling in atombios.h.
    
    Fixing spelling in atombios.h generally isn't a good idea as it would
    require all the code that depends on it to be fixed (in the
    Catalyst driver for example).
    Nontheless this fix was given to us by ATI.

commit 2bcabe12c8f07ce501025e7214854a7df9b5231f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jan 15 15:30:13 2008 +0100

    Add parsing of TV releated data tables to the AtomBIOS support.
    
    Add AtomBIOS support for setting up the TV encoder.

commit 726f6da1f3778d420b505bd28894dba7cad327e1
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jan 15 15:26:38 2008 +0100

    Add TV detection do DAC load detection.

commit e1605dfbfa917cd52c7685fc612ee876ba2266c5
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 3 09:59:27 2008 +0100

    Be more verbose about fb parameters.

commit 5163b9fb81967ff026a8f2ed7dddaae640fa3f93
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 3 09:58:38 2008 +0100

    Get and store verbosity level.
    
    The verbosity level is used in many instances when we need to decide
    wether we want to log a certain information or not. If we know the
    verbosity level we can avoid computational overhead when we are not
    going to print anything anyway.

commit 00e1b02500d0513681c48ca4c5cf1b4fa419c6eb
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Mar 3 09:25:17 2008 +0100

    Restore original order of CRTCRestore and VGARestore.
    
    This reverts commit 23a47ec001e195218e5c4ac4349139f70fc9984a:
    "Restore VGA after restoring the CRTCs."
    This change collided with 1a1d110f49c66063aba92d823e3158ea1860f5ae
    and doesn't seem to be required to fix the underlying problem.

commit 8c6d1b46b70ae19fafb5484c238a74cca18d5990
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Feb 29 23:03:14 2008 +0100

    conntest: add new ids.

commit 294cf1f62a9def23e08405c3718c4696881e2a80
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Feb 29 09:08:56 2008 +0100

    Fix test for RS6XX in RHDMCSetup().
    
    Problem pointed out by CornedBee on #radeonid.

commit 1b3f3c9c56fb4f70d49f4b123f1e2b1feb6ec3cd
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Feb 29 09:03:55 2008 +0100

    Add connector table flag for X1400 (0x7145, 0x1297, 0x3058).

commit a23b11238155b184c4f886ee72b33bd41d18b0ce
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Feb 27 13:00:08 2008 +0100

    Loop over all CRTCs when shutting down memory access.
    
    A stupid cut-n-paste bug had prevented this.

commit 8432cb084ec351da6ec586b10940cc53327163ec
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Feb 25 18:26:39 2008 +0100

    Add quirk table entry for Diamond Viper Radeon X1650 Pro

commit 5ba5f4b5cf28a106d40c5a73c648ce15f4d99b62
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Feb 25 18:22:39 2008 +0100

    Include description for acceleration options.

commit eee9b71888aa5916b5681de1b014c3d03b9e9614
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Feb 25 18:06:04 2008 +0100

    Fix typo in patch adding DradonFlyBSD support.

commit f89bac589adb2586b15643d6829a047d7853a101
Author: Thomas E. Spanjaard <tgen@netphreax.net>
Date:   Mon Feb 25 16:25:52 2008 +0100

    Add support for DragonFlyBSD.

commit 1223e40a401e4abf67752197ff05e01d9a7856c0
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Feb 20 13:20:26 2008 +0100

    Add debugging to rhd_conntest.c

commit 1e8637b1be1ffd7de16d519ad175110383d005a8
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Feb 18 23:05:27 2008 +0100

    Changing R6XX_MC_VM_MISC_OFFSET to R6XX_HDP_NONSURFACE_BASE.
    
    HDP_NONSURFACE_BASE is the official ATI name.
    Originally we found this register in code tables called by AsicInit.
    It was given the name MC_VM_MISC_OFFSET because we didn't know the
    official name of it as we never received docs on it from ATI.
    
    Now it appeared in the 'radeon' driver under it's official name.

commit 854ce3b22585be6b51a3870817081fc599ece6dc
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Feb 15 18:16:47 2008 +0100

    Make DDC for panels work on MacBook Pro's.

commit 247d42637b24dc07fdf3763a40d08fda52d632d7
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Feb 15 01:32:00 2008 +0100

    Set up GPIO pin HW access for DDC testing in rhd_conntest.

commit 23a47ec001e195218e5c4ac4349139f70fc9984a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Feb 14 13:24:34 2008 +0100

    Restore VGA after restoring the CRTCs.

commit 74eacf3e5ef7c490e08e0806944cf2f1af9d535a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Feb 14 13:23:16 2008 +0100

    Make sure GRAPH and CRTC engine are disabled before changing surface.

commit 2b16734b998e657a426af5b9dc332700cba2c9be
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Feb 14 12:23:10 2008 +0100

    Set GPIO pins to be HW driven on R5xx for HW controlled I2C.

commit 2feff5cb81db551e1b25a60a3cd4c130a6f3c9af
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Feb 14 12:20:51 2008 +0100

    Add wait for memory idle state.
    
    Make sure all engines are properly turned off and memory is idle
    before accessing MC or surface offset registers.

commit e0d587844419881b4523dfd8288abf606f7b819e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Feb 13 00:37:46 2008 +0100

    Handle LVTMA_TRANSMITTER_ENABLE identically on R5/6xx.

commit 1849092ef139e4b19ace04872466e6170e216582
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Feb 13 08:51:01 2008 +0100

    Add connector information for a Sapphire Radeon HD 2600 PRO AGP (PnPID: 0x9587:0x1002:0x0028).
    
    This card has one DVI-I and one VGA connector. However AtomBIOS
    claims it has two DVI-I.

commit 7527df07812ec7175cadb4dbe4efc1986f608882
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Feb 25 16:12:47 2008 +0100

    Revert "PATCH: Report PANEL as disconnected when no modes are available"
    
    This reverts commit 3d29d4ce1183a53810ff8b5c2970b03f9cc3b097.
    This patch actually makes PANEL never report as connected, even when
    rhd_conntest seems to report otherwise, when an external monitor is
    connected.

commit 3d29d4ce1183a53810ff8b5c2970b03f9cc3b097
Author: Thomas Meyer <thomas@m3y3r.de>
Date:   Wed Jan 30 19:41:08 2008 +0100

    PATCH: Report PANEL as disconnected when no modes are available
    
    Report PANEL as disconnected when no modes are available

commit cd6a4b894c36728b27cd31f6a375beac7dbae0db
Author: Yang Zhao <yangman@gmail.com>
Date:   Thu Feb 7 13:56:02 2008 -0800

    typo fix in DPI guessing code
    
    Looks like there's a typo in the code that tries to guess screen DPI;
    doesn't make sense to assign a variable value to itself. ;)
    
    Untested, as my hardware setup won't trigger this portion of the driver.

commit 1a503c591164d61d4ad6af964f65cd3d58a98e56
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Wed Feb 6 17:34:03 2008 -0500

    Update ObjectID.h
    
    Updated with upstream AMD changes.  Coincides with my recent atombios.h patch.
    
    Alex

commit 8640be8ee3923b45c5b8d8cb02296f7d31fb96aa
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Fri Feb 1 16:08:15 2008 -0500

    Update atombios.h
    
    Update atombios.h with the upstream AMD version.
    
    Alex

commit a9af866ae712a0048d374dc640e482d1f4ce8859
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Feb 11 08:37:30 2008 +0100

    Prevent endless loop in connector table parser.
    
    Some connector usDeviceID entries may contain 0 (which is invalid).
    This patch should handle this problem.

commit 80c7c9e5c19d5f60c117f5458e44c3d60b8d1a41
Author: Sebastian Redl <wasti.redl@gmx.net>
Date:   Sun Feb 10 12:47:06 2008 +0100

    Fix device ID for 0x7187, 0x174B, 0x3000 in cards table.
    
    Cut-n-paste error caused 0x300 to be written instead of 0x3000.
    Also fix a formatting error in a log message (again spotted
    by Sebastian Redl.)

commit bef7f09c6de1b4cf2192dbc46bddb9634c0bd058
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Feb 9 18:18:33 2008 +0100

    Ask people to not only send in their log file but also to describe their problem.

commit bde5fbbf29ed1c95d398e895e29f6b5c434bbb54
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Feb 9 17:52:25 2008 +0100

    Added 'HPD swap' flag for  0x7187, 0x174B, 0x300.
    
    Bugzilla #14414. Thanks to Sebastian Redl.

commit 7606be1a7a3e50503dba0ffe80da8aea2a4eaa8f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Feb 5 16:08:42 2008 +0100

    Fully implement the SaveScreen() function.
    
    The argument to SaveScreen() is not simply on/off.
    xf86IsUnblank() needs to be called to actually match the
    DIX argument to on/off. Also the input timer needs to be
    reset on unblank. Furthermore the ScreenPtr may be NULL
    under certain circumstances thus it also needs to be checked
    before dereferencing.

commit 748de8400bf49ed20bcbe4b54779b2d6943de0b1
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Feb 5 13:33:06 2008 +0100

    VGA: bitten by pScrn->videoRam in kB instead of B again.
    
    This way, our VGA FB can live in more than the first 256kB of our framebuffer
    :)

commit cbbd54a2fa934ecbe8c6b93d5b063407c06d955f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Feb 4 22:39:33 2008 +0100

    Fix blaning problem in bug #13853.
    
    RHDSaveScreen() is a DIX function. It gets called right from the DPMS
    extension. Non of the DIX function know anything about screen switching. Thus
    the protection of the hardware against accidental switches needs to come from
    the DDX (which includes the driver - if it provies functions which may be
    called from DIX directly).
    Adding a check for vtSema seems to fix the problem.

commit f37d4cb9767a7d7aca66c489578a86fc71a25c00
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Feb 3 23:24:08 2008 +0100

    Don't make assumptions about DDC clk line on RS690 when AtomBIOS is not available.
    
    Commit c900aa5 hardwired the DDC clock line to DDC2 when AtomBIOS was not
    available. This is definitely wrong. The 'default' in the switch statement
    meant as 'fall back to the one remaining possibility' (exactly as handled
    by AtomBIOS iself), not as the default value.
    This change hopefully eliminates any confusions.

commit dc519eb296e434e6ce31f3f020eb5514c162828e
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Sun Feb 3 21:05:50 2008 +0100

    Need to include string.h in r5xx_exa.c

commit caa10014d115a49a59b4a2aef6ce36a4e615556a
Author: Joachim Deguara <joachim.deguara@amd.com>
Date:   Tue Jan 29 23:39:54 2008 +0100

    Add support for R680 (HD3870 X2).

commit 7e9b6ef0917932964d2be2cadd450525e9f08512
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Jan 29 19:54:16 2008 +0100

    R5xx: Implement EXA.
    
    MMIO only, so no accelerated up/download yet.

commit af0c64d897f7f2288419b6e43468850e1037bb59
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Jan 28 13:09:55 2008 +0100

    R5xx accel: Add XAA support.
    
    MMIO path only, no CP support yet.

commit 7cab021c74e1ea45d2e087df89b9f14c5ec300ee
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Jan 28 13:05:42 2008 +0100

    Improve FB handling.
    
    Split things up in Scanout, Offscreen and Free.
    Add option offscreensize, which allows selection for both % (of total
    videoram) and M(megabytes) of offscreen memory.

commit e0cfbcd5c97591ee556dc836d58e965771e5240a
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Jan 28 07:12:59 2008 +0100

    Add AccelMethod Option and related handling.

commit c900aa5a2c9ce18dee3e1ac54aeed002ae68b01b
Author: Thomas Meyer <thomas@m3y3r.de>
Date:   Tue Jan 29 21:16:00 2008 +0100

    I2C: fix build without atombios.

commit bc8851304a71e612b2dafaacc965858e3f197654
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Mon Jan 21 00:47:25 2008 +0100

    autoconf: Check for libpciaccess.
    
    If xorg-server.h does not define XSERVER_LIBPCIACCESS, there will be no
    check for the unused libpciaccess.

commit 5829bff7d02cfe42d3eb54ac14fc38383bf0751d
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Jan 16 18:19:35 2008 +0100

    TMDSA: Add control value for 71C4.
    
    Reported by Alec Habig.

commit 7cb27bca609f5bc2dc3e4f3aa8e9633c2e621eb4
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Jan 16 17:11:09 2008 +0100

    Add RHD_CARD_FLAG_HPDOFF flag, improve quirk entries for T60p.

commit 9eaa27c7b08a3faa252172fd402d8e5483783477
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Jan 16 17:01:36 2008 +0100

    Add PCP X1600 400M/500E.

commit f75ad2d36d45856abb3ca8e78de6b5f1a9ce8a06
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Jan 15 12:20:58 2008 +0100

    Add PowerColor X1550.

commit 32d1b4d99afdda3bc402a7ada0a833d650da4433
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Jan 8 13:04:58 2008 +0100

    If no EDID is available, assume 96dpi on the first (preferred) mode.

commit ad50eaa0bc53a97d905cce4432763c2c966387fa
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jan 14 13:45:35 2008 +0100

    Correct order of mask and value in ROM access code.

commit 0f066c209e091813eed0a8b94f90ba66b05c897b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jan 8 23:10:38 2008 +0100

    Implemented PLL functions for CAIL, fixed MC.
    
    Some AtomBIOSes require access to the PLL registers.

commit 361ba486e00471d1232a1622531357043356fc3f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jan 8 17:41:09 2008 +0100

    Change heuristics to check for an unPOSTed card.
    
    The code used to look for the location and size of the VRAM
    scratch area in the BIOS to determine if the device has been
    POSTed or not. This value reads 0 on unPOSTed BIOSes.
    This however is not true for all cards.
    Now we simply look where the BIOS has originated.

commit 72e7b062479cbf6fb80ee9bdf5ab2b4736530bda
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jan 8 14:54:58 2008 +0100

    Fix some issues when reading PCI ROM on POSTed systems.
    
    This stuff is rather magic.
    The SPI ROM interface needs to be set up. The SCK period
    needs to be set to be increased (power up default should be
    save).
    The GPIO pins seem to control the SPI ROM, so the GPIO pins
    must be set to be driven by hardware.

commit 26c6ce53463f2432f341fd41694b4758886023f9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Jan 8 08:26:08 2008 +0100

    Add I2C data dump code.
    
    This code scans all i2c buses it can find and dumps n bytes of data
    starting at offset 0.

commit a412d58233854dc8cfa6d3697960c23cdfb26f8a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Jan 4 16:01:13 2008 +0100

    Read PCI BIOS on secondary R5xx cards.

commit 4e488a349c862da2e27f6025d376fb2b63db3bf9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jan 2 22:04:53 2008 +0100

    Woops! Fix typo in chipset names.

commit cfc003965eeb05d3f635cc77b6d05ad2169a5bff
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jan 2 21:50:43 2008 +0100

    Enable FB location fix for r5xx.
    
    RS6xx still needs to be checked.

commit a6835b5872cec662caed34ec756f9308a81b7f9f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Jan 2 07:41:56 2008 +0100

    PLLControlTableRetrieve(): Fix test in for loop.
    
    With the current for loop test the function will always return the first value
    in the list.

commit 3293c60d0e8b026f3fedcc182ac86bb05d6a1ced
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Dec 31 09:41:46 2007 +0100

    Fix header inclusion order.
    
    The inclusion of xf86_ansic.h before the X.Org headers caused
    problems under some circumstances as those header might include
    system headers whose function declarations then also get wrapped.

commit fcf15c8facb7c2c1a4a2513f3f84537f3f35c6a1
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Dec 28 16:23:47 2007 +0100

    Add quirk table entry for ATI Radeon 2400HD Pro.

commit 7e5ea8a215c2e2941b62824ca8453b58b0573437
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Dec 28 12:57:12 2007 +0100

    Fix RANDR_PANNING_AREA spelling. Oops.

commit 6c0f97d50f7884e822d573b1da57fcfd2aee08fa
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sat Dec 22 17:25:22 2007 +0100

    conntest: fix warning (uninitialised value).

commit 10c551027b92f3ce796115c754393cd0b88a7bac
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sat Dec 22 17:22:42 2007 +0100

    RV670 0x9501: TMDSA/B electrical values.

commit f213db06140226c843c9649cfaaea4b3d130ba16
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Dec 21 16:43:05 2007 +0100

    Bump to 1.1.0. Add changes to README.

commit c036b81933391ea41b78c4ba20bde01a1939433f
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Dec 20 17:45:28 2007 +0100

    Be a bit more strict in asking for user reports. Only on problems.
    
    We don't want reports about unknown boards if there is no problem at all.

commit 064b2899884557672850f8c2b309a82395995d62
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Dec 21 16:54:03 2007 +0100

    fglrx check didn't compile correctly with ansi wrapper enabled. Fix this.

commit b9277bfc275254be9823578819a13ceb056fc47e
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Dec 21 16:27:51 2007 +0100

    Check for fglrx kernel module and bark if it is loaded.

commit 79e016fde25a4ac713acedeb97cc4e5a6425d1ab
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Dec 21 03:48:01 2007 +0100

    RV670: TMDSA: Electrical values for 9505.

commit 9c010f2cb89ff3ca063a4c057f2cdce1047f2e46
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Dec 21 01:12:37 2007 +0100

    Rv670 TMDSB electrical values.

commit e5f9b2d2f646ae93552eaccbd1193778fc772c8b
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Dec 20 18:08:40 2007 +0100

    Rv670: Add PLL control values.

commit da8b68aa190ce00bb30057f86cb56079eaa29909
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Dec 20 17:25:55 2007 +0100

    Use DDC address probing for finding connected monitors if necessary.
    
    If both HPD and Sense are not available, use DDC.

commit 73aaafadb00f698ce63d52455801a4aa368ded41
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Dec 20 17:24:27 2007 +0100

    Update supported devices table.

commit 765f5972a08d404ded3c118eb5d507de71950a97
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Dec 20 16:57:45 2007 +0100

    Added description of all RandR properties.

commit cad8539ca12249a2c16b177e2364b77395a0dcab
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Dec 20 16:49:17 2007 +0100

    Rv670: Add IDs and such, and beautify supported hardware printing.
    
    No real support just yet. Need a few more things for that, which will come up
    next.
    
    Reported by TommyDrum.

commit 2b3928c642fcd65f21354f99a4f7fd9c9b24d7c4
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Dec 19 18:43:03 2007 +0100

    RandR compate code: Add crtc gamma function.
    
    This means translating the "new" way of specifying a gamma table to the older
    better designed way that i kept in my modesetting code. Or, another victim of
    rampant NIH.
    
    Fixes the "messed up colours" issues we have been seeing after suspend/resume.

commit dc8f3c3dfcf370c9ebce14a087894623fe2d60ab
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Dec 19 16:42:23 2007 +0100

    Nuke xf86DiDGAInit().
    
    We don't really want to support DGA anyway, and this call had some...
    side effects.

commit 861debbf8d649ce09d53d5880f819757ac9c7814
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Dec 18 23:03:07 2007 +0100

    Make the driver build with the latest ustream git server sources again.
    
    The driver stopped building due to the removal of xf86_ansic.h and
    xf86_libc.h in the latest upstream sources.
    This patch consolidates the heterogenious handling of system functions in
    this driver. The system function wrappers remain fully supported for older
    server versions.

commit 9120f95f90c95f7d6d1ba6cf1f0fc515646f8314
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Dec 18 20:12:36 2007 +0100

    Delete a spurious git_version.h.new when doing make clean.

commit e98195bdf1ed33637eb21a4e98b5ef75700b9f2d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Dec 18 20:11:03 2007 +0100

    Don't fail immediately when git-rev-parse fails.
    
    When a shell is executed with -e it exists immediately if an untested command
    fails. Therefore we need to make sure that this doesn't happen or a
    git_version.h may not be created which will lead to a failed build.

commit 6d9a6709bcf41d552dfd18853ff5cf4de14e07a1
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Dec 18 23:05:02 2007 +0100

    IDs: Asus M2A-VM should now no longer need a connector table.

commit 521bcacedee68cad8e923db2661c6415912d55b8
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Dec 18 20:54:36 2007 +0100

    DxGRPH: Fix graphics engine colour issues (hopefully).
    
    Lock down DxGRPH_CONTROL tighter, so that no accidents happen there already.
    And on R600 and up, save/restore and clear DxGRPH_SWAP_CNTL.

commit 47f8a6f784acc69da001b318ba3d80a9fa4c883d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Dec 18 18:59:01 2007 +0100

    Add support for HDMI connectors.
    
    HDMI connectors are treated like DVI connectors.
    Several users have reported to have patched their
    quirklists and made HDMI work by marking it as
    a DVI connector.
    We just follow this route by providing this patch
    - which is totally untested.

commit 21e1c6c44419e81857f8d159cf9d577085c0f981
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Dec 18 12:58:14 2007 +0100

    Get EDID block for panels from AtomBIOS even if there is a special Mode.
    
    Needed for DPI calculation.

commit 492e94c3f5e04e88615fcde9c1213cf3f1aa31de
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Dec 18 01:21:26 2007 +0100

    LVDS: Fix 18/24 bit dithering and disable spatial dither.
    
    18/24bit dithering breakage was spotted by Martin Nowack. He was not happy with
    me enabling both temporal and spatial dithering, and stopped the driver from
    touching either. I hope that disabling just spatial dithering will be good
    enough for now. Tomorrow i might add some improved handling and maybe an
    option.

commit 55f89f69e2f838a611335680683f6d24cda18636
Author: Martin Nowack <martin.nowack@inf.tu-dresden.de>
Date:   Mon Dec 17 23:30:08 2007 +0100

    LVDS: Fix FPDI handling.

commit ef51931af92b69e787bf6509e4d124eef685c140
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Dec 17 18:57:44 2007 +0100

    HPD pin swapping logic.
    
    Add flag for quirks table to swap HPD pins. They are often swapped on R5xx
    style hardware.
    Add HPD option (replacing the deprecated IgnoreHPD option) for manual control
    of pin swapping.
    Change quirk entry of Sapphire X1550 to just use HPD swapping.
    Improve man page formating.

commit 9741c5be6adba2926850afcb4236b89c300503fb
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Dec 16 17:05:40 2007 +0100

    TMDSA: properly add macro control for 0x7149 (M56)
    
    No, Stefans machine doesn't have a 7147, and a 7148 doesn't even exist in our idlist... This is what happens when you commit stuff at 3.13.
    
    Reported, again, by Stefan Becker

commit dcfd91c23359dfe1a7ca23501217d95750217f49
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sat Dec 15 03:38:32 2007 +0100

    TMDSA/B: add macro control values for 0x71C6 (RV530)
    
    Reported by Simon Munton.

commit c784c92a08b8c8584540804c6c5d634073aff74e
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sat Dec 15 03:13:40 2007 +0100

    TMDSA: add macro control for 0x7147 (M56)
    
    Reported by Stefan Becker

commit 5acefe5ca1e84becde10641e2ca948674d04fc80
Author: Sebastian Brocks <mail@sebastian-brocks.de>
Date:   Sat Dec 15 02:51:14 2007 +0100

    ID: 0x724B: Sapphire Radeon X1900 GT

commit 1a1d110f49c66063aba92d823e3158ea1860f5ae
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Dec 14 22:38:12 2007 +0100

    Restore: Fix VGA textmode restore when VSYNC length is 0.
    
    When using the VGA emulation support, crtc VSYNC can be set to null, and the
    VGA timing will still apply. But when you save and then restore this value,
    things become very tricky, as the 0 length VSYNC provides bad sync timing and
    displays will then go into power saving.
    
    By setting the VSYNC to an acceptable value for a shortish time, the VGA engine
    apparently is able to latch in correctly, and as such the issue is seemingly
    fixed.
    
    I have no idea about a better solution for this issue, preferably one involving
    the VGA support itself, but this, although ugly, does seem to work.
    
    Denise H. G is very much resposible for fixing this issue, as she pointed out
    that a null value in VSYNC is the cause of the problem here.

commit b991fe3d884a51e236f895c41b0ba1b06127f7dd
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Dec 12 18:31:29 2007 +0100

    DACs: Properly set up and save/restore SYNC_SELECT.

commit bb12148cbb02e93c17a03649a173d0566bbe5a4d
Author: Johann Hanne <jhml@gmx.net>
Date:   Wed Dec 12 14:35:56 2007 +0100

    Added Asus M2A-VM (RS690 based) to quirks table.

commit 87f8f8e9cc2167a3e4883cb8d63ce5815e99d333
Author: Juan Romero Pardines <xtraeme@netbsd.org>
Date:   Wed Dec 12 14:33:58 2007 +0100

    Add Gigabyte HD 2600 XT to quirks table.

commit b0cb8aec0409a551dce10e3d7d889d51917886a1
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Dec 12 14:21:59 2007 +0100

    Don't check for connector type for DMS-59 detection (RandR case).

commit affbdf54d68d8a36372a79ac2e631dfcbaf3897c
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Dec 11 16:52:03 2007 +0100

    Additional checks for cursor size in UseHWCursor().

commit 3ac7b028c8359e83f1e1c18c5063055362c1cb33
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Nov 29 12:19:22 2007 +0100

    Add ASSERTF() macro. Configure ASSERT() to create backtraces.

commit 09b4dea769654f4c8d09091ed1eedd5b9de61e2b
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Nov 28 19:54:52 2007 +0100

    Only reload cursor image if there is one.

commit 3d144290551baf4242f511560320e28b72a65d6f
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Tue Dec 11 17:36:04 2007 +0100

    Get rid of another potential quoting problem
    
    Some obscure shell might choke on this as well.

commit 6d57455590d90ff3606130f108bab59ed0a6230d
Author: Joerg Sonnenberger <joerg@britannica.bec.de>
Date:   Tue Dec 11 17:35:14 2007 +0100

    Fix quoting issues on NetBSD ash

commit dc7fe476a321ddcecb7fd12d2f9dae04567b57c2
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Dec 11 18:47:05 2007 +0100

    Broken connector table: GeCube Radeon HD 2400 AGP: proper fix.
    
    Now with conntest data :)
    
    Reported by Boris Kleibl.

commit 0eac12b833ba38435bdee451d2984f741ab59918
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Dec 11 18:38:03 2007 +0100

    gitignore: ignore git_version.h and conntests .deps

commit 5dcc23ec5da14a5b8d073ad4e74ab1519086b761
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Dec 11 17:47:18 2007 +0100

    conntest: fix uninitialised variables.

commit 798cac54befd31471521eff76c1bc262d7a1a30a
Author: Jean Delvare <jdelvare@suse.de>
Date:   Tue Dec 11 17:44:42 2007 +0100

    Spelling fix: separate

commit 7325dc4623431ac1ef1cab43ad7e2c4280231ce0
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Mon Dec 3 19:15:44 2007 +0100

    [PATCH] Avoid double -l when linking rhd_conntest
    
    If libpci is found via pkg-config, PCIUTILS_LIBS will contain
    something like "-L/path/to/lib -lpci -lz". So we get rid of the
    explicit -lpci and -lz in this case.
    
    In case pkg-config does not find libpci, though, we just revert
    to the previous behaviour of assuming that "-lpci -lz" will work.
    
    In any case, we make sure linking works before actually using it.

commit fa59270757b7ee579b2c5727b8c4f94df49bb8e3
Author: Coleman Kane <cokane@cokane.org>
Date:   Mon Dec 3 19:15:43 2007 +0100

    [PATCH] Let pkg-config look for PCIUTILS/libpci
    
    Coleman Kane reports that on FreeBSD, libpci is installed at
    /usr/local, and so we'd need a -L/usr/local/lib. This switches
    the responsibility for detecting the libpci location to the
    libpci.pc file.

commit ae46a18d85fcff03e36c54dc7751469738b6056e
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Dec 11 16:35:47 2007 +0100

    TMDSA/B: 9587 electrical values.
    
    Reported by grzegorz_76

commit 030f715ca59f457f709967d9d00743072ff20640
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Dec 11 16:29:18 2007 +0100

    Fix 13509: Xserver crash when RandR finds no modes.

commit c01edd521f8314942a0386c288df7de073c82124
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Dec 11 16:18:56 2007 +0100

    Improve scanning of panning area specification. Pan to area on setting it.

commit 42a07a0d9aae0d9f1d372133c10e9fb3d522626b
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Dec 11 15:55:18 2007 +0100

    Re-create Atoms for properties in CreateResources.

commit 6d0c7c327ea50d32cafaa46698948803be243e78
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Dec 10 16:00:55 2007 +0100

    Add panning in RandR mode.
    
    The panning area in RandR mode is specified by the geometry <w>x<h>[+<x>+<y>]
    in the RANDR_PANING_AREA output property (it actually is a Crtc-specific
    property, but RandR doesn't support that).
    
    As xrandr typically always resets the framebuffer size with every action,
    you will have to include --fb <w>x<h> on every invocation, unless there is an
    additional output configured with higher resolution.
    
    There is no static configuration for RANDR_PANING_AREA yet.

commit a0ed33e72ea6d371ebec36228b515a72ca364f16
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Dec 7 13:04:01 2007 +0100

    Generate ChangeLog from git. Add Copyright Header to Makefile.

commit e399d16597e30a6c53c8f70aa122285615fe7d08
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Dec 6 19:37:15 2007 +0100

    Move blanking from PrepareMode() to ModeInit().
    
    PrepareMode() is also called in SwitchMode() which doesn't
    call save SaveScreen() to unblank. Therefore the screen stays
    blank after mode switching.

commit 73f8ec8764bed7d8bcaa6e038811fe4d300ff4da
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Dec 6 18:24:12 2007 +0100

    RS600: add initial support.
    
    From what i have seen, this very much looks the same as an RS690. Egbert is
    still going through the DDC and MC code, but these seem similar to RS690 as
    well.

commit 3e8f10e4d3589a0b462a6d9cab1072a0cf91d911
Author: Liu, Wolke <Wolke.Liu@amd.com>
Date:   Thu Dec 6 16:21:39 2007 +0100

    LUT: Fix offset for LUTB specific registers.

commit f53d621d242a42cd33d6b6fe2c12fd11a681ad10
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Dec 6 15:19:41 2007 +0100

    EDID: Fix sync for preferred mode.
    
    Bits were swapped around, was fixed upstream on 20070808 by Eric Anholt
    already.

commit 29af4f3dcfc6756f9f82691c0b65c1eb0a82f5f7
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Dec 5 21:00:33 2007 +0100

    Modes: Add DPI calculation.
    
    This adds code to provide useful DPI calculation. It follows a server argument,
    or uses the newly introduced option forcedpi, or tries to average out the DPI
    of the various monitors.
    
    This is of course a stopgap solution, as no DPI calculation can ever be valid
    throughout the whole server life, as it varies with varying resolutions and
    varying monitors. But at least it is better than having nothing at all.

commit 732dea0e3545485e758a4e49ea014b3f1a8d73ba
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Nov 30 18:09:28 2007 +0100

    Initialize some uninitialized variables.

commit 0192e3463deb5b29765177d7344ad4b63eabd51f
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Fri Nov 30 18:04:17 2007 +0100

    Only accept the found git repo if it is in our top srcdir.
    
    Fixes bug introduced in ff796eba:
    In srcdir!=builddir builds, if builddir is a subdirectory of srcdir,
    "make distcheck" exposes a conflict between the dist tarballs'
    git_version.h and the new git_version.h erroneously created while
    compiling the source tree from the dist tarball.

commit 9fe776edf44c40d06e0059878df4f37391409c66
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 30 01:28:30 2007 +0100

    Bump to 1.0.0

commit 658b8890c7a6ee197dc8cfede325f1e966613b49
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 30 01:25:24 2007 +0100

    Much improved README and man page.

commit 22641a179fb44055c1a6c5b23d6771f23f4cd89d
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Nov 29 22:44:40 2007 +0100

    Connector Table: FSC Amilo PI1536 has no HPD on DVI.
    
    Reported by Andrea Rizzolo

commit 437a1e93e894743dad863a33ec2d9fa26c88171e
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Nov 29 22:32:18 2007 +0100

    Broken connector table: GeCube Radeon HD 2400 AGP.
    
    Reported by Boris Kleibl.

commit a97726981ac46e9a341b7bbe984967e4265243df
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Nov 29 21:35:01 2007 +0100

    Fix some messages: like number of scanlines available.
    
    * Number of scanlines was negative, as int versus word sized variables were
    mixed.
    * Tone down the unknown card message, and no longer ask for connector
    information.
    * Tone down CRTC unsync message.

commit e86e764bde2c2dbda5f0e0fe4b28122c6b3c8a68
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Nov 29 20:34:18 2007 +0100

    Add IgnoreHPD option.
    
    This shall only be used to work around broken connector tables.
    Please report broken BIOSes to radeonhd@opensuse.org

commit 6b001a8d4d69adc938daac36760b8f728e963419
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Nov 29 18:50:00 2007 +0100

    Print Crtc offsets in debug message as well.

commit b9a171ddf4687310e976b89c946705a3bdbcdb6e
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Nov 29 17:56:19 2007 +0100

    Fix test for other RRoutputs using same Output on disabling it.

commit 5d961ba0ffba9121b06984deb2bdbb3aa20f862f
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Nov 29 16:07:31 2007 +0100

    Print RR output names after consolidateRandrOutputNames().

commit f339ce81e0064e8b0f0c9b145cc25f6919b8d22f
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Nov 29 15:56:59 2007 +0100

    Call xf86RandR12PreInit.
    
    This is only return TRUE; at the moment, but you never know.

commit 8b1b8bfb21d2d86780cb4e02abc813578daa24bd
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Nov 29 01:49:33 2007 +0100

    TMDSA: add macro control for 0x7142.
    
    Reported by Aljaz Prusnik.

commit 24c6c86706f3aac32b39329b8db8c15fe55648ee
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Nov 28 22:49:53 2007 +0100

    Provide a stub for I2CStop to prevent xf86I2CProbeAddress() from segfaulting.
    
    xf86I2CAddress() has been implemented in a way that it requires
    bit banging instead of the higher level WriteRead() function.
    We can emulate I2CAddress() but we also need to provide a function
    stub for I2CStop() to keep this function happy.

commit e0378c1bd8ba81352f25d9895aa8bc03337a4db4
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Nov 28 21:30:57 2007 +0100

    TMDSA/B: Fix some more macro control values.
    
    LVTMA: atombios provided macrocontrol value results in monitors losing sync:
    * 0x72B4: Reported by Sebastian Brock.
    * 0x71D2: Reported and tested to death by our very own Matthias Hopf.
    TMDSA: missing value for 0x71D5, reported by Kirill Belokuro.

commit da4783c9d4f72ce1431bd774e5cdcd52774d1584
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Nov 27 22:15:09 2007 +0100

    TMDSA/B: Add macro control values for 724B.
    
    Reported by Sebastian Brock.

commit 595977680baccc8d6412c631e3e03b4bd2304826
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Nov 27 19:18:45 2007 +0100

    Blank/unblank in SaveScreen no matter whether Crtc is active or not.
    
    Otherwise RandR activated screens will stay black.

commit 13452880677076970e0046a1f6e6c621677b4249
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Nov 27 19:05:36 2007 +0100

    Handle preferred modes correctly.

commit 9d04d6ab0441ec425cff3719499403b54273e3e9
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Nov 27 19:05:14 2007 +0100

    Assume that a panel is always connected.

commit 64e90964dcac908ba511b583e69d88cca2029148
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Nov 27 17:28:39 2007 +0100

    Split RHDModeInit() to separate funcs that don't need to be called on SwitchMode().

commit fb82047e63ef1a49ed4b2e6b715e7c55bac27cf4
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Nov 27 16:47:56 2007 +0100

    Reworked output detection. Using HPD and Sense now.
    
    Also adds support code for DMS-59 VGA adapters.

commit 892ca32ee5dae98818539af4ef317fda47ffd921
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Nov 27 17:06:27 2007 +0100

    Initialize rhdPtr->randr before calling xf86InitialConfiguration().

commit 7ec6dd8bb0b51fdcb488b232df0ee51999dec718
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Nov 27 15:30:30 2007 +0100

    Set color value for black for screen blanking.

commit 9a671ee09925dfa0955cabf5013deff69079ebac
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Nov 27 12:36:02 2007 +0100

    Add an address probe function.
    
    An address probe function seems to be required when
    providing a high level WriteRead() although it could
    be emulated using WriteRead().

commit 669df5eceb280e7954212b27d635d08df9f055a8
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Nov 27 12:13:16 2007 +0100

    Move VGADisable() and MCSetup() to ModeInit().
    
    Only needs to be called once per screeninit / entervt.

commit 6a9a3538c236e46d720317b79d5a7c41910fd3f1
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Nov 26 22:36:57 2007 +0100

    Fix wrong shift value which places top limit at the wrong place.

commit 2e0f5f112bddd85cef92225d88926861dd3bdef5
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Nov 26 21:35:54 2007 +0100

    Add MC handling to RandR.
    
    Since the code paths taken by RandR differ in some cases
    MCSetup() needs to be called from CRTCPrepare(), too.

commit ab297695ff5e3b00566eebca97b977644400e6c1
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Nov 26 20:58:19 2007 +0100

    Improve naming scheme for RandR connectors.
    
    Now only using connector name if unambiguous.
    Use analog/digital as names for DAC/TMDS if needed.
    Fallback to old names.

commit 9024701762ea282e5f861e8399b194b224bf5d2b
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Nov 26 18:49:21 2007 +0100

    CRTCs: implement a Blank hook.
    
    This makes sure that wierd framebuffer content, upon switching back from the
    console, is no longer shown.

commit 1c07fbe6284f90c9b8967d680a2d558e6785d428
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Mon Nov 26 18:04:22 2007 +0100

    Handle non-branch case of git workdir
    
    git-symbolic-ref HEAD may fail due to there being no HEAD. This happens
    (e.g. if you "git checkout some_tag"), is thus OK, and "(no branch)" is
    exactly what "git branch" prints in such a case.

commit b2e9bfde50080e2b2132a999213ffb0673b2bd32
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sun Nov 25 23:34:05 2007 +0100

    Print warning if rhd_conntest is not built.
    
    Print warning explaining what to do when rhd_conntest cannot be built.

commit 810f0ad546b08bd0c9eecb255c3f68dc39f5ff2a
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Mon Nov 26 17:46:57 2007 +0100

    Add stubs documenting xorg.conf options

commit 833aefbe0bc2d54ccbed4dd738ed3f27a100b0f3
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sun Nov 25 23:37:55 2007 +0100

    Add authors to man page.

commit 78b763f97ab62cf8d504cc238bb4d59c5b9bf6fa
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Nov 26 15:55:43 2007 +0100

    Added quirk for xf86RandRModeConvert not initializing Mode with 0
    
    HSync & VRefresh is actually already calculated by RHDRRModeFixup.

commit 122f8f8ec7019267dd79ab612c96b2c5a5bcac92
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Nov 26 15:12:03 2007 +0100

    Add quirks for broken Mode names and uninitialized HSync & VRefresh.
    
    Old xservers giving us broken Mode names (fixed in git).
    xf86RandRModeConvert is not initializing HSync & VRefresh, recalculating.

commit 45b217d263e232f1f57778e340371c95105c87e8
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Nov 25 20:27:32 2007 +0100

    Adding rhd_mc.h to Makefile.am.
    
    Thanks to Yanko Kaneti for pointing this out.

commit 1235392fd32ef836c1e81a0dc8304b04c873a318
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Nov 25 18:51:48 2007 +0100

    Add support for reprogramming of FB_LOCATION for R5xx and RV515.

commit 8508fa98e41d1ba828d1df7efae90a99995ea47f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Nov 25 18:50:57 2007 +0100

    Handle MCRead/Write differently.
    
    AtomBIOS puts the enable mask for MC accesses into the top
    byte of a word, while the MC index register has them in the
    upper word a double word.
    Do the transformation in the CAIL function.

commit 8c5f3454d6721a4dcb53be4784ea4a0a9c99ce4e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Nov 25 00:33:11 2007 +0100

    Add debug output.

commit 8b823f526cf6f91b770d0fc43838ed9a81940061
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Nov 25 00:32:07 2007 +0100

    Add debug output.

commit 7cb2192a202921f47176d5b50cbf81501a226414
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Nov 25 00:06:53 2007 +0100

    Add a sanity check.

commit 3b93b437e10e30ede927078c5546add1df7c501d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Nov 24 17:00:02 2007 +0100

    Fix memory offset for R6xx.
    
    Some 512Meg VBIOSes map the upper portion of the
    memory to the memory aperture exposed to the PCI
    BAR.
    This makes sure we always map the lower portion
    on R6xx.

commit ce2607d1f534a2008cdcbd14c805074355647a8e
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sat Nov 24 03:28:54 2007 +0100

    Patchlevel bump: 0.0.4.
    
    R600 LVDS is a rather big new thing, suddenly RS690M, M72, M74 and M76 devices.
    Next to that, there were quite a number of fixes.

commit 35107cdcc611c5aa7977830b840692bec7fd5559
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sat Nov 24 03:16:16 2007 +0100

    Connector table: HD2400XT was actually an X1550.
    
    Late night hacking. Not good.
    
    Sapphire X1550 HPD for DVI is actually HPD1, not HPD0.

commit 28f30774d24e991b3337612587264e0a593a5e5f
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sat Nov 24 01:50:06 2007 +0100

    Warning fix: CARD32 -> unsigned int again.
    
    Server side should get fixed.

commit 7caf826f822bdd61f1359241324a48bd0e6abc78
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Nov 23 22:19:28 2007 +0100

    LVDS: Allow R600.

commit 8144561e1e61d13b5d342b3cf3679d4593154c3c
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Nov 23 22:11:10 2007 +0100

    TMDSB: unsplit code for TMDSB.

commit 3d01d69fc3a4f23b0ab8171f60d9dc8380a6c9da
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Nov 23 21:44:16 2007 +0100

    LVTMA: use some nasty macros to hide the shift in the register space.

commit d9cd95f1fe4bcb14b604a0ae41cb1645685b2299
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Nov 23 21:37:59 2007 +0100

    LVTMA: R690_NOT_DOCUMENTED is just REG_TEST_OUTPUT
    
    Spotted by Hermann Gausterer.

commit e294a134531a112570a31715eb6f4e91245a86ba
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Nov 23 21:30:29 2007 +0100

    PLL: Add r6xx mobilities to PLLElectrical.

commit 75a6d7fb9c185a175bb877151f4012ac91457b79
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 23 20:06:45 2007 +0100

    Better detection of RandR 1.2 interface on compile time.

commit 23ad1ec735a779ed4cb30e0fec4bd5175afde567
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 23 19:34:54 2007 +0100

    Fix Imakefile (rhd_randr was missing).

commit f5ffe41a6c1ffa9418782b7059b075da06e7c496
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 23 18:36:58 2007 +0100

    Nuke another xf86Parser.h

commit 6895da057770e14968920469e87e2a244f5d7f6d
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 23 17:27:55 2007 +0100

    Add ForceReduced and RRUseXF86Edid options.
    
    Made ForceReduced a global option and allow it in RandR mode as well.
    Added RRUseXF86Edid option to revert to old behavior.
    Some cleanup.

commit 05e36063eb0231543aa6d34c74b6370b953256d3
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 23 16:50:00 2007 +0100

    Add rhdCrtcUnlock for later usage.

commit 622ff7623da0337a9822ba13509151f30be502d4
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 23 16:45:58 2007 +0100

    Use own monitor & EDID functions.
    
    Improves mode validation.
    Allows for panel information fetched from AtomBIOS.

commit 746d876c29c0f333d20a29e1635e5a6d218157ae
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 23 16:45:01 2007 +0100

    Keep EDID data for later usage.

commit 9462fe518095e7f04a93319bb5142b83e2fb76dd
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Nov 22 18:35:56 2007 +0100

    Disable framebuffer tiling.
    
    AtomBIOS AsicInit seems to turn on tiling on some chips.
    Therefore we explicitely disable it.

commit 214e136a41e59d0af9de6c53bdab50b381812a80
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Nov 22 18:36:58 2007 +0100

    Format the connector name for TVout better.

commit f7af7c8eed55b50d21dc3fade42118308d4082ee
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Nov 22 13:20:22 2007 +0100

    Use more user friendly connector names.
    
    While the present connector naming sceme is useful for debugging it is
    not generic enough to be used by users.

commit 7043112600d8138d3a3bddbf86d6b6b0a199e244
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Nov 23 13:51:20 2007 +0100

    Add a debug printout for  R6XX_MC_VM_FB_LOCATION.

commit 60d0a3838effba288e1288b6dedd02016c8005fa
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Nov 22 09:24:02 2007 +0100

    Changing default depth to 24bpp.

commit 476e198706efda69a90261b4a467f00f866b5daf
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Nov 22 18:27:02 2007 +0100

    Comment on all git calls' compatibility

commit 00fb05b2931e63a9b036ecbafc29abb6a2783e06
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Nov 22 18:22:36 2007 +0100

    Detect uncommitted changes with git 1.4.x

commit ff796eba071341aad9235520a53f2c33456447fe
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Nov 22 17:56:38 2007 +0100

    Get rid of redundant broken GIT_DIR hack

commit 5a9dd7fd682eba6b183f0de234f6441f3db0b8ed
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Nov 22 16:25:00 2007 +0100

    TMDSA: actually use IDCLK.
    
    This fixes a jittery mode at certain dotclocks on the dell X1300.
    
    Reported by Ivo Couckuyt.

commit eee815e19c730b95fa63954e4695b2e4edd50135
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Nov 21 16:18:30 2007 +0100

    Connector table fix for Sapphire HD2400XT.
    
    2 DVI-I reported, 1 VGA and 1 DVI-I present. This means that HPD isn't there
    and that the load of the DAC on the VGA connector is not checked at all.

commit 23aec9b4d25c060003eb76351bff80f7c8ad517d
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Nov 22 12:31:44 2007 +0100

    Nuked xf86Parser.h

commit 3aeb91663629708cacc9800d792513aa5b736bf7
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Nov 22 12:30:53 2007 +0100

    Check rout->Connector->DDC before using it.

commit 43af6cc8bc959495073c6309b69e2f525c164ed6
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Nov 21 20:46:26 2007 +0100

    man: Add link to bugzilla

commit 20818bdb21440dbf24cc6ccf28909961803f9394
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Nov 21 20:45:21 2007 +0100

    man: Add link to radeonhd wiki page

commit 71f312cf0e243cb0c3242f78bcd5e127e155a26a
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Nov 21 20:32:26 2007 +0100

    I have only written the man page, not the driver.

commit 545f18c4ffaeac17cfb266483593b6b7ccc32f00
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Nov 21 20:29:42 2007 +0100

    man: Work around RandR problems (disable it)

commit af1b08bc9f700ba99bfa3ad7beae65a044b1a703
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Nov 21 20:22:49 2007 +0100

    Document Option "RROutputOrder" in man page

commit 6419ace7fb8164a4c2d81f8b66e7571ff8279be7
Merge: ed9065a... 29c9ea3...
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Nov 21 16:06:25 2007 +0100

    Merge branch 'initial-randr'

commit 29c9ea3e7c9272c1de4c8e9cd0b64dddae259c44
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Nov 21 15:56:15 2007 +0100

    Bump to 0.0.3

commit 49b74a20104fe1df692785069090f992459c160e
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Nov 21 15:56:04 2007 +0100

    Add 'RandR' string to messages where it was missing.

commit ed9065a4288b92d4e3c286071b1a452bb1756a88
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Nov 21 15:46:42 2007 +0100

    LVTMA: Add TMDSB support for R600, Rs690 and Rv6x0.
    
    Half the register block was shifted, and there is an undocumented register
    for rs690 still.

commit a5f37ef8a15a248b1a7906d84ed986d925561ba8
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Nov 21 15:00:50 2007 +0100

    Added RROutputOrder option to setup Xinerama screen order.
    
    RandR outputs listed in Option "RROutputOrder" (separated with spaces or
    commas) will initialized first, and in this order. The Xinerama screen order
    is apparently directly reflecting this order.

commit a533fd5f23f6da896a01202f9e76c0af8b3ac3e4
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Nov 20 20:26:53 2007 +0100

    Upload and set cursor images independently of Crtcs being active or not.

commit 3c7241551a79243b33c98497f045fb82689e93b8
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Nov 15 18:56:01 2007 +0100

    Quieten imake compilation (git_version.sh)
    
    If git_version.sh does not change git_version.h, it does not print
    any messages now due to the new --quiet option.

commit 1d55726aff4510ec5bde8a296da1c319bf9fc043
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Nov 15 18:54:05 2007 +0100

    Indentation fix

commit 6aed725ac7e679567c517c5c5a17d94a625b8859
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Nov 15 17:45:04 2007 +0100

    Keep git commit info in dist tarballs
    
    Add git_version.sh option --keep-if-no-repo, and hook it into imake
    and automake builds.
    
    automake builds do proper "make dist" tarball generation, shipping a
    git_version.h file specifically marked as being part of a dist tarball.
    
    Both automake and imake builds keep existing git_version.h files if
    they detect the source tree is not a git workdir.

commit 54cf410fdd3a220b18c6f922695d6d944862b6f6
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Nov 15 17:20:09 2007 +0100

    Multiple git_version.sh cleanups
    
    Add better --help output, make sure errors got stderr, etc.

commit a6e1398bba8683098c5c6fd36f868ec2e0d11187
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Nov 15 16:07:20 2007 +0100

    git_version.sh: Note git version in .h file

commit c386f2ff8783024febb340fa661385bbe0ea2837
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Nov 15 15:50:48 2007 +0100

    git_version.sh: Robust error handling
    
    Handle errors (git tools not present, not a git repo, error running
    git tools, ...) properly, by either saying "non-git sources" or by
    adding an error message.
    
    Write enough info into git_version.h to make it possible to determine
    problems rooted in git_version.sh.

commit ad7f73c95e55d729491eded0a0beaa061e284655
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Nov 14 22:13:11 2007 +0100

    Use (II) prefix when logging version info

commit 1c6828c40020d47ca7bd356d132bb05ca397aefd
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Nov 7 02:57:05 2007 +0100

    git_version.h: More efficient and robust git use
    
    Use the proper internal git tools instead of parsing git porcelain
    output. Thanks to the experts on #git!

commit 6c1d27fb5a6ec284f123bbab71a561e8ebc2daa7
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Nov 7 01:19:03 2007 +0100

    rhd_conntest: Shorter version msg (fit line?)

commit 6048f47c8178fc636de14849a51527c60460a833
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Nov 19 21:18:11 2007 +0100

    Nuke '..' from git id so copy/paste to gitk actually works.

commit 99fbaeeb443b5474bb99f24541ebfe697484df0d
Merge: 4b20125... dbb073b...
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Nov 19 20:55:44 2007 +0100

    Merge branch 'master' into initial-randr

commit 4b20125f2e633aaf76532eba86e5652f2b32ef3b
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Nov 19 18:35:00 2007 +0100

    Don't set CRTC to NULL when disabling shared outputs.

commit dce9ffc402511d0820c0fcdd7228e1f2ce8571fc
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 16 20:33:40 2007 +0100

    Add potential RandR 1.3 output properties.
    
    This adds the following (immutable) properties to every output, as partially
    described for discussion in an randrproto.txt diff on xorg-devel:
    
    RANDR_SIGNAL_FORMAT
           Type:                   string
           Range/List:             unknown VGA TMDS LVDS FBAS SVideo
                                   YPbPr DisplayPort
           Signal format / physical protocol format that is used for the
           specified output.
           A driver MAY change this property of an output if the
           underlying hardware indicates a protocol change (e.g. TV
           formats).
    
    RANDR_CONNECTOR_TYPE
           Type:                   string
           Range/List:             unknown VGA DVI DVI-I DVI-A DVI-D HDMI
                                   internal TV TV-FBAS TV-SVideo TV-YPbPr
                                   TV-SCART TV-C4 DisplayPort
    
           Connector type, as far as known to the driver. Values with
           dashes (TV-FBAS) describe more specific versions of the base
           values (TV). The former SHOULD be used if the connector is not
           capable of producing other signal formats. The later SHOULD be
           used if the exact connector is unknown, or the connector is a
           multi-format connector that is not described otherwise.
           'internal' describes laptop-internal (normally LVDS) displays.
           'TV' and 'TV-SCART' with signal format 'VGA' are valid
           combinations and describe RGB TV signals.
    
    RANDR_CONNECTOR_NUMBER
           Type:                   int32
           Range/List:             0-
    
           Outputs that route their signal to the same connector MUST
           have the same connector number. Outputs with the same
           connector number MUST route their signal to the same
           connector, except if it is 0, which indicates unknown
           connectivity. 1 is called the primary connector, 2 the
           secondary. 3 is often a TV connector, but that is completely
           driver / hardware dependent.
           Outputs with the same connector number SHOULD have the same
           connector type. Meaning and client behavior for mismatching
           connector types is undefined at the moment.
    
    RANDR_OUTPUT_NUMBER
           Type:                   int32
           Range/List:             0-
    
           A card may route one internal output to several connectors.
           Connectors that are driven by the same output cannot be driven
           by different Crtcs and are thus only allowed to be used in
           clone mode. The driver SHOULD emit an error message and
           continue as gracefully as possible if using different Crtcs for
           the same internal output is requested.
           Internal outputs are numbered from 1, 0 indicates that output
           routing is unknown.

commit dbb073b8b314264e311c3a1ebecd13d93e9627a6
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Nov 16 19:36:24 2007 +0100

    ID: Fix up Macbook pro.
    
    This one has a rather awkward atombios connector table and requires an id based
    workaround.
    
    Thanks to Jerome Glisse.

commit e4c4c44bd61e72c00a8769ceebc0e3bdc15742b8
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 16 18:03:18 2007 +0100

    Cleanup.
    
    Also documented one of the more exotic error messages.

commit df5487f9f869da26062f8229e678fddef9c5f065
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 16 15:48:01 2007 +0100

    Reordering ScreenInit(). Now closer to original order again. Fixes 16bit.

commit 78954e2c72af530b08413395da79953b4b939d52
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Nov 15 16:33:36 2007 +0100

    Added Radeon X1250.

commit 9031b870607336be2517188a7b57e63558e7d58f
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Nov 14 17:51:15 2007 +0100

    Nuke include of sys/types.h.

commit aa97a9082f3901acdeb89cab875621a641efd8c8
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Nov 14 17:21:29 2007 +0100

    Call FrameSet() in AdjustFrame() only in the non-RandR case.

commit fcca0f2e351b953a00c19713ed868b84da89807d
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Nov 14 17:14:06 2007 +0100

    Don't shut down outputs that have active connectors attached.
    
    Something that cannot be solved with the current RandR model is that multiple
    connectors might be attached to the same output. They cannot be driven with
    different crtcs then, but RandR sees them as different outputs because of a
    missing abstraction layer. This implementation will silently set one crtc or
    the other, and maybe even won't warn.

commit 8ac590882a822a02fd15d7671d6796f6a1a54e13
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Nov 14 17:11:23 2007 +0100

    TMDSA: create a table for electrical adjustments.
    
    Create a pci device id based table with electrical values for all
    currently known devices with TMDSA. Warn verbosely about unknown devices.
    TMDSB now also includes support for the RV530 on the Dell low profile card.

commit ec66e3b0e84bd57fcd93af2319025595b7dfd9bd
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Nov 14 17:10:52 2007 +0100

    Improved RHDDebugRandrState. Also logs only and does not spit on stderr.

commit 5c174fe4b1b087491975aa42d39e3201611910ac
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Nov 14 14:19:42 2007 +0100

    Fix missing ModeLayoutSelect() in noRandR case.

commit 6f1800ca52531f5baf3df2e65a7bbd93e4b1e637
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Nov 12 22:46:47 2007 +0100

    TMDS B: Add table with macro control values.

commit 6d84bd8b1a20db80d5111d1dca0a3e0da7fca571
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Nov 12 21:45:02 2007 +0100

    LVTMA TMDS: Add initial TMDS support for r5xx.
    
    Called "TMDS B".
    No Load Detection possible.

commit fe834af6713bccf3a6b4bc981b235872131aff7c
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Mon Nov 12 11:49:24 2007 +0100

    Add rhd_randr.h to dist tarball.

commit 7dc989a5dfc330d58372f34ab8978c255af328ff
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 9 21:48:47 2007 +0100

    Moved header file inclusion (rhdConnectorType needed for rhd_output.h).

commit ac7d8de963b654ced88c2740e0e0649ca6025133
Merge: bf523a1... e9c24f6...
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 9 21:35:40 2007 +0100

    Merge branch 'master' into initial-randr
    
    Conflicts:
    
    	src/rhd_cursor.c
    	src/rhd_driver.c

commit bf523a1146d88ff7454ab07156abb4f2489828f6
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 9 20:58:41 2007 +0100

    Move FrameSet() to the correct position.

commit 7eea83610134305e464b003df531ac0a9de3dd75
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 9 20:23:22 2007 +0100

    Split up output handling code into standard RandR functions.
    
    The obvious approach to handle everything in rhdRROutputModeSet doesn't
    actually work, because this function doesn't get viewport information.

commit 3c277f5827f1a2691a52a207e837833e9b722687
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 9 20:20:08 2007 +0100

    Monitor is handled by RandR completely transparently.
    
    Nuke the remaining (commented) monitor handling code.
    There is no rhdMonitor section filled in in rhdConnector yet. Dunno whether
    we will eventually need it.

commit 5e3b1bb48b9844fdf09467ca5e204d1b901c355b
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 9 18:38:26 2007 +0100

    Only set Mode of Output currently processed, not of all Outputs.

commit b118e216968a95f805b462e24399ef1f70bab1a2
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 9 18:33:44 2007 +0100

    *Dpms functions may activate / deactivate Crtcs and Outputs.

commit 3fd122036455b1b9a993b1c584cbf32fe7f8d9fd
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 9 18:32:49 2007 +0100

    setupCrtc() when called from ModeFixup() should not ASSERT anything.
    
    Also, Output->Crtc is now set in ModeSet() only.

commit fb5b84002ff848df6b24c83bd4b85413e8e34baf
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 9 18:26:43 2007 +0100

    Print out RandR state for debugging purposes.
    
    Also improved other outputs.

commit e9c24f662860229440dc61ecbae22e7d7c74d442
Author: Joerg Mayer <jmayer@loplof.de>
Date:   Mon Nov 5 15:42:26 2007 +0100

    Improve online help in rhd_conntest.

commit d618f205263ee40be72d473b658d1da8df2bfe88
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sun Nov 4 01:43:28 2007 +0100

    Adapt rhd_conntest build description

commit accf9c410e1401e326924f2034d79dd2ac093751
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sun Nov 4 01:41:56 2007 +0100

    Do not recursively build rhd_conntest (imake)
    
    A normal "make" run on imake builds will not descend into
    utils/conntest/ any more. However, "xmkmf -a" still creates
    utils/conntest/Makefile from the Imakefile, so the user can
    "cd utils/conntest && make" to build rhd_conntest.

commit e119fffba13adf57895ac84647e77ed44729659d
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sun Nov 4 01:31:21 2007 +0100

    Fix git_version.sh srcdir==builddir
    
    Consequent separation of source tree dir ($srcdir) and working
    dir ($working_dir). Fixes imake and automake in-tree builds.

commit 55ece6bdfb7b61ed13780e60eb62a9b0af598afb
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sat Nov 3 23:31:14 2007 +0100

    Have conntest build require pci/pci.h and -lz
    
    If either of those is not found, rhd_conntest is not built.
    
    Affects automake builds only.

commit 6e5a49e7b78507aedcb1ca07fd7f2d6b61565c90
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sun Nov 4 00:02:59 2007 +0100

    Add TOC to README

commit 1d6a464ee145b61f865e47d3de9dd2f7054c9ff6
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Nov 3 20:09:53 2007 +0100

    Use correct variable for DDC speed setting on R6xx, fix some warnings.

commit 3b89d73c8dc64218a634af5e025c473daf067a79
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sun Oct 28 23:38:26 2007 +0100

    Commit automatic update to radeonhd.man from rhd_id.c
    
    This update was found using experimental code which updates
    the man page from the rhd_id.c RHDIdentify() output.

commit 601aba57e3d14fe8e6008aa3d3aeb8776552d98a
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sun Oct 28 17:12:05 2007 +0100

    Remove monitor section advice from "known bugs" section
    
    radeonhd handles monitor sections differently, and thus does not cause
    these problems, since 2aa53c95a85824f4ed175943acf7f1c37cbe8e8c.

commit e8847035f78399df65d7b2f78073909fdc9e2154
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sat Oct 27 08:41:39 2007 +0200

    README section on common build problems: missing XORG_* macros

commit 669509e22fe48ebd464638c6c550f6b75598de63
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Oct 25 22:21:58 2007 +0200

    Preselect both product AND component in bugzilla URLs

commit a53cabe23c1acfa60167a5986a9dabe999d55612
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Fri Nov 2 21:20:42 2007 +0100

    Log git commit if source tree is git checkout
    
    Defines a number of CPP macros with a git commit version message
    if source tree is git checkout.
    
    Both radeonhd_drv.so and rhd_conntest print that version message.
    
    Numerous adaptations to git_version.sh and build rules:
      * only touch git_version.h if content needs to change
      * always define useful GIT_MESSAGE
      * add example program using git_version.h
      * handle srcdir != builddir
      * variable header name and ifndef

commit 340e18ff01f1e452e8e2101d9f99804a52b1cf22
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Sat Oct 27 06:07:02 2007 +0200

    Add Luc Verhaegen's git_version.sh from xf86-video-unichrome

commit 213b1b275ef20a3f93768860b67a759843c4825c
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Fri Nov 2 20:57:02 2007 +0100

    Cover all build aspects with imake+automake
    
    "make dist" tarballs can now be built with imake.
    Build, but do not install rhd_conntest by default (am+imake).

commit d5d492b83353a38cb8ecbc605310fd8580e35b03
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 2 20:07:13 2007 +0100

    Do NOT update virtualX/Y via rhdRRXF86CrtcResize callback.
    
    This is strange... if we set virtualX/virtualY like the intel driver does, we
    limit ourself in the future to this maximum size.
    The check for this is internally in RandR, no idea why the intel driver
    actually works this way...
    Even more curious: if we DON'T update virtual, everything seems to work as
    expected...

commit fa58e27274933c26d63b64f0d973296959f002f0
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 2 20:02:45 2007 +0100

    Cleaned up comments.
    
    Also nuked some assert descriptions that are VERY unlikely to happen.

commit b865c0348e6f9bd45cc10dc83ea866f9795476ee
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 2 19:47:42 2007 +0100

    Disable monitor handling in ModeSet for now.
    
    It's wrong this way anyway.
    Also add more precautious crtc handling.

commit 946e1b5ebc4d53e9e9016eadb6d9286514e42bc9
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 2 19:41:27 2007 +0100

    RandR may give us a mode without a name - work around that.
    
    xf86RandRModeConvert sets mode->name to NULL - which lets our mode validation
    horribly fail. Copying the name from crtc->mode. This hopefully is not a
    memory leak, as the mode SHOULD be cleaned up.
    Modes can now be changed successfully.

commit 6b8afe2c521a3fd3b06807fdfd0b040547180d92
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 2 19:02:46 2007 +0100

    Don't include crtcs in check during mode_valid, only in fixup.
    
    If out-crtc is ever not NULL, it is not necessarily the Crtc that will be
    used, so it's better to skip crtc checks altogether...
    PLL in Crtc might now not be initialized when dpms is called. Ignore then.
    An crtc might already be assigned to an output, only assert for not being
    active then.

commit 6e26f324b310366ee914c438634c07082eb73ec6
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 2 18:54:23 2007 +0100

    Add missing stdio.h.

commit 9119e1e720a7632bd3e91f3a5eb822e6dd4b68df
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 2 18:53:10 2007 +0100

    Make compilation w/o RandR 1.2 support possible.
    
    If RandR 1.2 support is not available during compile time, the driver will
    fall back to standard old-fashioned modesetting.

commit 347806c70483cc4b8654725eee2cecabe0a40bfd
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 2 18:43:03 2007 +0100

    Moved RandR init further around.
    
    It's supposed to be called after framebuffer and acceleration initialization.

commit d392aba3f9c32703796b40f5c107ef6aae94279b
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Oct 31 13:41:43 2007 +0100

    Remove unused include breaking non-x86 builds
    
    rhd_conntest was not using sys/io.h anyway. This fixes builds
    on Linux PPC and PPC64, and on FreeBSD.

commit a35e22736dead92d8d4f865940bcc32a4a597f27
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Tue Oct 30 14:32:51 2007 +0100

    Remove unused redundant definition of SED var

commit e231e8549f2be205488516d7159970221125f527
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Oct 25 15:57:18 2007 +0200

    Have git ignore *.s and *.i files

commit f9f4ce59735fae0266f83e03392295f1940cec23
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Oct 24 20:50:53 2007 +0200

    Test for missing XORG_ m4 macros at autoconf time (part II)

commit ad599c4436c64b11d18c89da6a684f5241979a96
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Oct 31 22:42:05 2007 +0100

    Add a flag member to the card structure.
    
    This is the better solution for handling DMS59. We now more intelligently
    handle the two reported dvi-i connectors to also be able to handle the
    dms59 to VGA connector.

commit 4a63f60ffec3110ad8a828a40db5bbb24ae79f86
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 31 14:42:01 2007 +0100

    Added DPMS handling. Using right mode. Improved debug output.

commit 89e0c8f6d0d2da1ffe89bb3ac408fef699216fb0
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 31 14:39:55 2007 +0100

    Ignore even more standard monitor / mode handling in the RandR case.

commit fca8ddf1c9fceec38d22a58b2dbb306dada0694c
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 31 14:38:28 2007 +0100

    Save cursor for non-active screens as well.

commit ce02ed8c252d0b7c5921aa08046cfbb7051d1638
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Oct 30 19:16:02 2007 +0100

    Improve the ConnectorType handling when sensing.
    
    Rename enum _rhdConnectorType to rhdConnectorType while we are at it.

commit b6460b330974277c94a8b7901c20fddac813044c
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Oct 30 18:36:25 2007 +0100

    Properly fix 1650Pro PLL gain control.

commit 99df3c36f99692938c41463f008e8f49687ef97f
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 18:34:10 2007 +0100

    Mode setting.
    
    We have a mode :) Even multiple ;)
    Several minor and major quirks still, but it works.

commit e532cc4ea98a2bc331499378a024005ada6072e4
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 18:10:32 2007 +0100

    Don't set up regular mode structures if RandR is active.

commit 4232fa253e4037fcd7df752e7b12b34ac35ab7af
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 17:47:55 2007 +0100

    Fix use of uninitialized variable.

commit 6d1285c28bbb732a4a2204c31ca8dcb91a8d9689
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 17:40:42 2007 +0100

    Whitespace + indentation cleanup.

commit f3a2530cea981c6b4c88ec85093032ea152ed47f
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Tue Oct 30 17:37:03 2007 +0100

    Add <stdio.h>/<strings.h> to files using snprintf/strcasecmp.
    
    This change finally fixes the build on FC6.

commit 26c1caab69472aec7d51f04ecd2386c937b0ca51
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 17:32:52 2007 +0100

    Move RandR initialization to right position. Nuke unnecessary SetDesiredModes.
    
    This validates modes fine now. Still the hardware isn't banged at all.

commit e055694d7f8a8dfc1239fc54660c0ae8ee903883
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 17:28:39 2007 +0100

    Add NoRandr option that disables use of RandR based modesetting.

commit 15f2aa5c3b214f269b11967c68bcb99ede10b41b
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 16:46:23 2007 +0100

    Trivial fix for dummy function returning something.

commit b489a7b0ae18bd0db7205c57eec08f172f3a62ec
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 15:58:48 2007 +0100

    Add <string.h> to files using memcpy.

commit 972e21bb48771050cbf35a8ef9c36a13fff27d68
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 15:57:32 2007 +0100

    Add <string.h> to files using memcpy.

commit 4c081578556db35ec21ad83383e07b3891b7d3bc
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 15:34:24 2007 +0100

    Added Mode Validation and necessary dummy functions.
    
    This doesn't work correctly yet, because modes are still set from rhd_driver.c.

commit 6ceb6870bcc2774fb6acd2b6467a091e0cac1504
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 15:28:31 2007 +0100

    Added RandR entry point for mode validation.

commit 92a4e62150f05fc5be37d53624428006c134408c
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 15:27:05 2007 +0100

    Use ASSERT() instead of assert().

commit 9a660b164fd42bc434d5fc88d8e13decb303c9c8
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 15:24:02 2007 +0100

    Add ASSERT() macro, which bails out nicely, restoring video mode.
    
    NDEBUG is defined in xorg-server.h anyways. Shudder...

commit 157ea657c12d00501976a274fd362bcc1dd3c6e7
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 30 15:19:02 2007 +0100

    Include rhd.h for struct rhd{Crtc,Output,Monitor} declarations.

commit c59aebecc3ed2d9033b9c280768646a1c2b5db38
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Oct 29 19:14:00 2007 +0100

    Actually use RandR functionality in main driver if available.
    
    Due to missing mode validation, it actually *isn't* available yet.
    But Preinitialization is called.

commit 09eab90fbd3327a6420dd413b67ac5aa3f99c18b
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Oct 29 19:12:43 2007 +0100

    AC_SUBST RANDR_VERSION - in case it's ever needed for compiling rhd_randr.c

commit c2bca8c80eef27740804675c4b179f14e0f2286d
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Oct 29 19:11:47 2007 +0100

    Initial RandR framework.
    
    Contains framework for RandR which doesn't really do anything but setting up
    data structures. All RandR Outputs get an individual, unique name that is
    composited from rhdConnector and rhdOutput.
    Contains also first functionality: Output probing.

commit 4549f6b11e41273a80c359e7db8bc69949325fe5
Author: Ian Schram <ischram@telenet.be>
Date:   Mon Oct 29 12:48:46 2007 +0100

    Allow for spaces to occur in the path to the installation files.

commit 604bfb02cefa5f56b40aea2dc3256f09836121a4
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Oct 26 20:13:14 2007 +0200

    Move restoring of PLL spread spectrum until after PLL Set.
    
    This fixes the unacceptable mode instability when returning to VT on
    some mobilities.
    
    Debugged/Tested by Henry Ritzlmayr.

commit 2aa53c95a85824f4ed175943acf7f1c37cbe8e8c
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Oct 26 17:54:51 2007 +0200

    Be smarter about the monitor section by selectively ignoring it.
    
    Too many users are hitting this horribly outdated paradigm of one driver, one
    device, one monitor. Most of the configuration utilities out there still
    insist on creating a monitor section inside the config file, with a
    completely useless statement which enables DPMS which happens to be enabled
    per default anyway and cannot be disabled (the latter because of broken
    option handling in X dpms code).
    
    This hurts us because, when a handcreated monitor section is there, a sane
    driver should assume that this configured monitor is just there to add further
    restrictions to already known monitors, or to make up for lack of autodetected
    monitor information. This is why a driver should use this information.
    
    But apparently, the only real-world option is to ignore this section.
    Sanity doesn't count.
    
    So, new handling:
    * complain about monitor section if autodetected info is present.
    * use configured monitor if no autodetected info is present, fall back
      to default timing if no configured monitor is there.
    * option "useconfiguredmonitor" is there to enable the so desiring user
      to make the configured monitor matter in the autodetected case.
    
    Personally, i believe this to be overly complicated handling, and wrong.
    It's the third millenium, we can have multiple monitors already.

commit efc5981b135294a546e794d260dff242287ec71b
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Thu Oct 25 22:23:51 2007 +0200

    Generate the manual page properly on imake-based systems.
    
    Credits go to Hans Ulrich Niedermann.

commit 08ed486c954e889d36ce297b92dd4d6fff519d20
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Thu Oct 25 22:14:11 2007 +0200

    Added ID for Radeon HD 2600 LE (RV630).

commit d8cb8a2a8315f86fae0266f58ee30b609c81d510
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Oct 25 12:10:54 2007 +0200

    Set Id member of struct rhdOutput to the proper enum type.

commit df398db5262e4c9c4f0680894802368945725763
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Thu Oct 25 10:00:14 2007 +0200

    Added Imakefile for driver manual page.

commit dbdcc96f8a1daab5e9bc7b086ed9e2630bb350e2
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 24 19:49:06 2007 +0200

    AtomBIOS related source files need different CFLAGS due to stdc99.

commit 3a044302e9d2323d64ab26ce7e36d62637ef3c70
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 24 18:37:33 2007 +0200

    Abstracted CC flag detection into macro for further use.

commit 48627d47096e8bc9347cb1a77227f34fca0622ca
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Oct 24 18:46:16 2007 +0200

    Move PACKAGE_VERSION_* defs to a separate template file and simplify filter.
    
    To prepare for imake man page build common imake pieces are moved to a
    separate template file.
    Introduce a new non-split version def using cut and simpler sed expression.

commit 0c53811db529c316c3d077f9cc34bf04658ddf40
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 24 18:40:05 2007 +0200

    Change message for unknown card if we use AtomBIOS.
    
    With the usage of the AtomBIOS provided connector information
    chances are high that unknown cards are working.
    In this case users only need to contact developers if the driver
    doesn't work or doesn't work optimally.

commit 39c9e7cb26b77211ba4a33acf3f92eeb0c466d60
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Oct 24 18:31:05 2007 +0200

    Fix name: conntest -> rhd_conntest.

commit c646e9939a58e255232c162092dce811bc02a6ba
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Oct 24 18:11:14 2007 +0200

    MCS-59 doesn't exist. It's DMS-59.
    
    Stefan: stop laughing!

commit 533e86624eb0dfa4c32a22312e14b9750a1136db
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Oct 24 18:11:22 2007 +0200

    Add missing man page files.

commit ee98fac5a088c39d095bcb82a6ed4a4a60fb7f7d
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Oct 24 16:30:09 2007 +0200

    Add man page describing the most frequently encountered problems.
    
    Also extend README to describe how to build and install the driver.

commit 737d940b83001dbba858d9025a25024bda439726
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Oct 24 15:43:49 2007 +0200

    RHDGetVirtualFromModesAndFilter: second return value not checked.
    
    Obscure bug found by new extensive warnings.

commit 84eed053389b190778f7e8e1c204a0776f833de1
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 24 15:21:23 2007 +0200

    Spell correction.

commit cadce1be5a95aa734d42dccd698e02bbcf50df87
Merge: 950d4ae... e518e62...
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 24 15:18:49 2007 +0200

    Merge branch 'master' of ssh+git://git.freedesktop.org/git/xorg/driver/xf86-video-radeonhd

commit 950d4ae75b9e8841d58163debb891bc4512be995
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 24 15:14:39 2007 +0200

    Fix warning flags for compilation.
    
    Some -W flags create superfluous warnings. Misread some warning definitions in
    gnu CC info page.
    For debugging, some useful warnings can be re-activated with
      make CFLAGS="-O2 -Wshadow -Wunreachable-code -fno-inline-functions"
    as documented in configure.ac right now, but not all warning messages will
    make sense in this case.

commit b632a681615abdc1a47b63093d5a2c337b8cb494
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 24 15:12:24 2007 +0200

    Nuke unnecessary return.

commit cae34460aa56592d50a1f3b7b22363b42d15de2a
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 24 15:12:01 2007 +0200

    Fix signed/unsigned comparisons.

commit c649c0ec2b2f1e2510bb31a219ed5c2a5ec55f47
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 24 14:27:18 2007 +0200

    Don't check unsigned for <0.

commit e518e625ef3ea004137cabaa82d6b3bc43b0c8fd
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 24 14:26:04 2007 +0200

    Muffle the compiler some more (fix initializer of list element).

commit d50cb17ca58bbc2818b74f7a3d771bf5ba3d1f0b
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 24 14:14:07 2007 +0200

    Fixing uninitialized elements (noncritical).
    
    Includes libpciaccess fix.

commit 925263b911cba91cf2d8ec1d5fc0128e06df887a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 24 14:11:59 2007 +0200

    Fix fixable warnings.
    
    Commit 8699deaba2c added a list of compiler warnings which
    lead to a lot of noise during build.
    Non of the issues found seemed to be really relevant, still
    this patch attempts to fix all the issues that could be address:
    - comparisons between signed and unsigned.
    - unreachable code: unreachable return statement.
    - shadowing of global symbols (don't use 'index' as a symbol!).
    - order of static and const.
    
    Other issues cannot be fixed:
    - when functions are inlined some code paths in the function might
      be unreachable. The compiler should deal with this but not warn!
    - enums in a switch statement. gcc braindeadlessly complains even
      if there is a default: case.

commit 5754a225af8adc7dc84fdb2b311f668e3307dc79
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 24 14:03:59 2007 +0200

    Make test for linux more portable. Test for __linux__.

commit 32f054c2ba0029751845303b854f8e384a3360b2
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 24 13:57:38 2007 +0200

    Nuke unnecessary array existence check.

commit 81aa992954bda400e4b69b47293e081162240acd
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 24 12:27:03 2007 +0200

    Fix pciaccess compilation.

commit 9cff4d746a83fcf6951e90d399092f4708c08513
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 24 12:00:01 2007 +0200

    Nuke unnecessary redirection.

commit e9cad33452c1164e11d81d69a02834cc40a609ba
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Tue Oct 23 20:08:21 2007 +0200

    Test for missing XORG_ m4 macros at autoconf time.

commit 621f062dcdb22b2752c90d6f2a2f7553e6c250fb
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Tue Oct 23 17:56:30 2007 +0200

    Change 'conntest' to 'rhd_conntest' in README.

commit 155451a223184ce1f8e2171d23e7877254e8e2c3
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Tue Oct 23 17:44:28 2007 +0200

    Check if we can map VBIOS ROM and bail out if not instead of segfaulting.

commit d6889e8ddbad0e131c1d34cdef713ca49c4b7982
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Tue Oct 23 17:42:16 2007 +0200

    Make PACKAGE_VERSION_* extraction more portable.
    
    Replace scanner for the different elements of PACKAGE_VERSION with a
    simple 'cut' in configure.ac and with a more portable sed expression.
    Only use own macros in configure.ac when no macros have been defined
    in the xorg m4 macro files.

commit d8cabbea5cff35692a817e55227e577eac3a4c60
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 23 16:37:54 2007 +0200

    Enable LVTMA for panel on RS690.
    
    LVTMA panel support seems to work on RS690. So far
    the panel doesn't come one when it hasn't been active
    at boot time. This issue will be addressed separately.

commit 08187867f6ac27e55ca3218b32d4e26988e80c89
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 23 16:36:12 2007 +0200

    Remove unused driver options.
    
    Remove PROBE_I2C as it is not used any more (the functionality has
    been moved to rhd_conntest).
    Remove PCI_BURST as we have no use for it.

commit 95b492155ff380c74d6f1c5335512d0afb06de3a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 23 20:31:47 2007 +0200

    Implement PCI BIOS access reenablement to read BIOS from ROM BAR on POSTed systems.
    
    Once a RadeonHD chip has been POSTed it is no longer possible to read
    its PCI ROM from the mapped ROM BAR.
    For secondary cards this will mean they can only be used once after boot.
    Once the Xserver that has POSTed it has terminated the PCI ROM copy of
    the BIOS is lost.
    To be able to reread the BIOS image the driver needs to do some VOODOO
    to reenable access to the PCI ROM BAR.
    Support for R5xx still needs further testing and is therefore disabled by
    default.

commit c769a2e194543295a22fb4f7ed588290cb698758
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 23 09:27:18 2007 +0200

    Added size checks to AtomBIOS connector table parser.

commit e4fdc6cc0690467c1bb31c4c5220a245414bb61c
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 23 09:26:33 2007 +0200

    Corrected comment about DDC slave ordering.

commit 3906c865f2dffe94f21470aa7406309e8392fca9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 22 20:44:48 2007 +0200

    Remove DDC test as it hangs on some cards for unused buses.
    
    Instead print EDID data in RHDMonitorInit().

commit 8699deaba2c920a3df35acfea49360888868becb
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 23 18:48:12 2007 +0200

    Added tons of extra Warning flags. Make CCFLAGS user-customizable again.
    
    This triggers a whole lot of warnings, both in atombios and in our code.
    Some warnings might be superfluous, this has to be verified.

commit e663d884c9e98bd2fc6d0af36d3cef4ca4c226c1
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Oct 23 18:12:54 2007 +0200

    Improve detection of reduced blanking monitors.
    
    We now cycle through the EDID provided modes list to find reduced blanking
    modes. If found, the driver will now allow reduced blanking for this
    monitor.
    In case this still fails, we now have Option "ForceReduced", to force
    reduced blanking on all or no monitors.

commit 292a4f4ba057d57d388da1cd5ee7e5f9f53176cc
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Oct 22 23:50:56 2007 +0200

    Fix PLL for R5xx mobilities and Rv6xx.
    
    This one tiny commit has cost a lot of time and effort:
    * Disable pll spread spectrum. One single bit was one major spanner
      in the works. Fixes all r5xx mobilities
    * Limit internal minimum frequency to 648MHz (24 * reference).
    * Limit the feedback divider versus the reference by a linear
      approximation, with considerable margin, against an
      experimentally found curve of acute wobblyness on rv6xx :)
    * Remove conditional building and unused atombios provided limits.

commit 5d003ae54dc23d286df31ea327913bfc1fddcf26
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 22 12:45:50 2007 +0200

    Remove static from rhdAtomSetScaler() for now.

commit 46c547935d35b9ec0a997bd9e01adb945d198029
Author: Matt Kraai <kraai@ftbfs.org>
Date:   Mon Oct 22 10:23:07 2007 +0200

    Don't access pEnt after deallocation.

commit ac6c67a10130eedaa3b9b3abe384993595ec5cd7
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 22 10:20:54 2007 +0200

    Remove obsolete macros.

commit 505fa3c6063cae262aed34ba58bd4a058fe453b2
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 22 09:47:06 2007 +0200

    Preliminary AtomBIOS based output scaler implementation for testing.

commit a947ddced8a501a027ecc7ad77e7a38687d84f95
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 22 08:39:44 2007 +0200

    Add some -verbose 7 messages.

commit bbfc068697d097d629c0c7b2eecea5bec565db78
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 22 06:44:55 2007 +0200

    Document the -s option for rhd_conntest.
    
    Also correct name of the binary (as also pointed out by Hans Ulrich Niedermann).

commit 0375b0ad7341db480b2bea847374b484c7bcbee6
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 22 10:02:04 2007 +0200

    Add RS690 DDC support to rhd_conntest.
    
    * Use correct clock (engine clock) to calculate prescale.
    * Reduce the status loop counter from 5000 to 800 to avoid stalling on
      unused but incorrectly wired buses for too long.
    * Minor output format improvements.
    * Add more debugging support.

commit b89318f530b68f9e8f4f59a912aceda64d2e0a8d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Oct 21 08:53:21 2007 +0200

    Sanitize name of atomBiosHandle(Ptr/Rec).

commit bb4520f34875905da49a060c822b75d32327d5c7
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Oct 20 21:00:15 2007 +0200

    Reomved I2C bus scanning from X driver, integrated it in rhd_conntest instead.

commit 7967ac0e5b274cbe5379960a6bed1027c29cda38
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Oct 20 19:18:23 2007 +0200

    Modify handling of AtomBIOS LVDS misc parameter query. Add CompassionateData query.

commit 3a546346357c542b4fc481e83addbb4829a37b9a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Oct 20 13:27:51 2007 +0200

    Unify and consolidate PCI device lists for libPCIACCESS and non-libPCIACCESS builds.

commit d25e4a1a7c2fb32e4caffd563cd9ebcf27e7c74b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Oct 20 13:08:47 2007 +0200

    Unify and sanitize AtomBIOS layer variable, function and type names.

commit 2ea7b6b39ea43f055652d5b8d467bba7741dea81
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Oct 20 12:41:04 2007 +0200

    Let AtomBIOS layer convert variables to correct unit.
    
    To reduce the size of variables AtomBIOS rescales values.
    The AtomBIOS layer should rescale the values before passing
    it to other layers.

commit 16e99d4c6f4a118b2210775670c7d60cd03b19de
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Oct 19 14:13:43 2007 +0200

    Split ATOMBIOS_GET_PANEL_TIMINGS in ATOMBIOS_GET_PANEL_MODE and ATOMBIOS_GET_PANEL_EDID.

commit b465536aff52fa91c1dba60355c993ad448d7d32
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Oct 19 12:53:35 2007 +0200

    Clean up naming of local functions.

commit 2589f931cbbf1628cf1d66b34ccc01003d3c2aa9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Oct 19 12:53:08 2007 +0200

    Name all structs and enums in rhd_atombios.h.

commit db097ba25046fb85f655c92e498596a0faec9d3f
Author: Matt Kraai <kraai@ftbfs.org>
Date:   Thu Oct 18 19:29:16 2007 +0200

    Remove the semicolon from the RHDFUNCI definition.

commit dc904613512fed5c4bea3fe208ea5f233ff2f2cb
Author: Matt Kraai <kraai@ftbfs.org>
Date:   Fri Oct 19 12:48:08 2007 +0200

    Remove the semicolon from the RHDFUNC definition.

commit 2178d2544b24198463906fc4f0debe54034c56fb
Author: Matt Kraai <kraai@ftbfs.org>
Date:   Thu Oct 18 19:12:03 2007 +0200

    Ignore TAGS.

commit 3579bdddd95dc6f129e57bcf05cbd8b9b375940f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Oct 18 19:02:19 2007 +0200

    Don't call GetRec in PreInit() in the PCIACCESS case.
    
    The driver private is already allocated in Probe for the PCIACCESS case
    (leaving behind a memory leak when the driver isn't used afterwards).
    We don't have to call it in PreInit() (which would be harmless, though).

commit 7a2ebb5198d9837ff61b0ad6632caf869851f6a8
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Oct 18 18:44:59 2007 +0200

    Cleaning up the EDID confusion: only free the EDID block when not needed.
    
    To make things clearer, the EDID block passed from AtomBIOS is
    no in a structure element called EDIDBlock (as opposed to EDID).

commit 6e09935265a8fd2724b2f0986c087ff77d26e810
Author: Matt Haught <matt@haught.org>
Date:   Thu Oct 18 17:58:45 2007 +0200

    Fix AtomBIOS build on FreeBSD.

commit 4b9ba2271b3034533526a5dbd2d5103fb1d9ec86
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 17 22:03:23 2007 +0200

    Add I2C support for RS690.
    
    RS690 I2C for DDC is very similar to R6xx, however most
    of the registers are different.

commit 0c9de39946e124810b70ca7d4afb72a21bb0c492
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Oct 18 18:55:37 2007 +0200

    Card ID based workaround for MCS-59 connector.
    
    MCS-59 to 2x vga adapters do not assert the HPD pin. Therefor
    we need to provide a connector table ourselves, so that at least
    DACs will be tested appropriately.

commit 1b59cdd42c03e2eb476ae712983cd0451dbe2a91
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Oct 18 17:27:30 2007 +0200

    Fix enabling of Monitor->ReducedAllowed.
    
    * Now we properly handle reduced on TDMSA and LVTMA even when EDID
      doesn't tell us as such or when no EDID is used. This fixes the
      issue where we tried to set the panel mode on an external device
      which might not allow reduced.
    * Sync check in rhdMonitorValid is now reworked to have saner
      limits. This was much overdue as the other one, the one still
      in xfree86/common/xf86Modes.c was pretty awkward.
    * Logging of monitors and modes was also slightly adjusted.
    * And then a memleak in handling the atom provided panel mode
      information was fixed.

commit d03841b4950b3b827b3c42507e01767d0569391f
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Oct 17 15:49:01 2007 +0200

    Let git ignore files from imake build.

commit df4042df682759a358025cad3e7c86bf6caebc95
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Wed Oct 17 15:37:11 2007 +0200

    Parse version number in configure.ac both for config.h and in Imakefile.

commit dcf062487f3080b29834a9c6d700fbabe54c94cd
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 17 14:44:01 2007 +0200

    Set driver version in configure.ac to 0.0.2.

commit e67c09d0b53bb48378f4e2ed03fa561fe2f029c0
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 17 14:40:38 2007 +0200

    Make sure that config.h is included in every file that includes rhd.h.
    
    rhd.h contains structures that are different wether
    libpciaccess is used or not.
    Therefore we need to include config.h before rhd.h.
    To avoid double inclusions of headers we don't include
    it in rhd.h itself but check there if the define for
    it is set. If not we simply error on build.

commit 793fc1873a26e00e377a2f6e2314e3ea07b85da5
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 17 13:53:43 2007 +0200

    Load config.h _before_ checking the define.

commit a7c4475d22b858bce854ec58086f8416662d62d6
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 17 11:24:20 2007 +0200

    Set 'HaveDriverFuncs' AddDriver(), use base_addr instead of bus_addr for mapping.
    
    'HaveDriverFuncs' is required so that AddDriver picks up the full
    DriverRec. (I should have know that since I designed it - although
    its original purpose, a backward compatible ABI has been defeated
    anyhow).
    regions[BAR]->base_addr seems to hold the base if the PCI range
    (relative to bus_addr).

commit e83d1ebd66bb1ad1c04326e571a2d70038724428
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 17 11:03:07 2007 +0200

    Test if structures are set up yet before destroying them.
    
    In an error case we may bail before these structures are
    set up. In this case we will get a crash when RHDFreeScreen()
    to free this data.

commit 569a9a38435ce1aed14f87f498f8800b5864ca5a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 17 10:01:10 2007 +0200

    Don't use rhdPtr->PciInfo->chipType as this doesn't exist with pciaccess.
    
    Use rhdPtr->PciDeviceID instead.

commit 03ca6bcda0315351abafc42b296acb7871b909d1
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 17 09:59:24 2007 +0200

    Set a (guessed) sane value for the default engine clock.
    
    This clock is used if there isn't an AtomBIOS present.

commit ca89833705eea8a12d7ea3e0df1c2e8894d7b099
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 17 09:58:36 2007 +0200

    Let RHDAppendString() take care of freeing the old string.

commit 1d21e21e1b5e49b9c07a0ac7d641f3d142dda986
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 15 18:09:53 2007 +0200

    Add support for libpciaccess.
    
    The new head of X.Org requires support for libpciaccess.
    This patch adds this support while maintaining backward
    compatibility.

commit 5398012568af4f5c4cc8002230e79d4585e63401
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 16 08:41:23 2007 +0200

    Fix build for the case that AtomBIOS or AtomBIOS parser are not present.

commit 0827c9d5b901a24cac134f27bfbe7dfbaef39309
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 16 07:40:15 2007 +0200

    Added query for I2C_GPIO table.
    
    This query is needed for I2C on RS690.

commit 0921ce07b81f5956c8bf4684a42092d3e16ea5e8
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 16 07:37:40 2007 +0200

    Use lookup table to find function and message information to AtomBIOS query.
    
    A lookup table makes it easier to add new requests for AtomBIOS.

commit ec816bb18d4396e841de0d10811b606e0a4724ea
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Oct 14 17:52:25 2007 +0200

    Add add a sanity check for the SupportedDevices table.
    
    Some AtomBIOSes don't seem to clear the entires for unused
    devices in the SupportedDevices table properly. Check if the
    device is really marked as supported by checking the bit.

commit f15d5f000633cb2e3999b237252dad0859302d9f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 17 07:44:10 2007 +0200

    Change CombineStrings() to AppendString().
    
    The semantics have changed. Now the first string is deallocated
    in some sense following realloc(). When the first element is NULL
    a new string will be created (like with strdup()). When the second
    string is NULL the first one will be returned unaltered. The
    same will happen in an out of memory condition.

commit 324f61f95adbfbffb71da842fdb99707aff37207
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 16 10:53:00 2007 +0200

    Only initialize I2C buses which are really available in HW.
    
    So far the I2C code assumed that there are always 4 I2C
    buses available in hardware. The R5xx only supports 3,
    though.
    We now only initialize the ones the hardware supports.

commit 2ffd2af87b19bcddf30348e875a03dab7724fade
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 15 20:06:08 2007 +0200

    Fix wrong setting of the I2C ARBITRATION bits for R6xx.

commit ba33954c52d92d8cbf634bbdc9b6a033e381eb5b
Author: Pierre Pronchery <khorben@defora.org>
Date:   Mon Oct 15 14:48:23 2007 +0200

    Fix string array typo.

commit e57a8e94e306f582cb318d8ee3bba51c3a0a8711
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Fri Oct 12 05:01:34 2007 +0200

    Integer AtomBIOS Query reply: print decimal AND hex value
    
    Decimal-only output of memory addresses is confusing, as is hex-only
    output of other numbers.

commit df7fcdd3e78e6aef0058d7de4ebeb34807164ff7
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Fri Oct 12 05:56:48 2007 +0200

    Fix spelling (use "SVIDEO" instead of "SVIDIO")

commit 6b7e6abc8d8af7115f9cfd127b325a206ce38c9d
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Fri Oct 12 03:41:56 2007 +0200

    Add two forgotten header files to dist tarball.

commit a5834907a0709df12dbf108ae236872adcbbc8bb
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Oct 15 13:50:26 2007 +0200

    PLL: Add PPLL_CONTROL value for x1650.
    
    Also fix a string from minimum to maximum

commit 6e570638e1772df97d8c8b22a82e7890dd47f1e9
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Oct 11 01:36:06 2007 +0200

    RHDCursorsDestroy: Null Crtc->Cursor, not Crtc itself.

commit 3daa4a1729b0160e34759771f1b11a9ee83d2d88
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Oct 11 01:28:03 2007 +0200

    Get rid of global rhdPanelMode.
    
    * rename rhdPanelMode to AtomPanelModeInfo, and move it to rhd_atombios.h
    * clean up panel mode information handling, and filter edid mode list
      to only retain a single mode, which, ideally :) is the preferred mode.

commit 26550c72ad588bfa9956a5ce81c2f80381d505f9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 9 17:12:10 2007 +0200

    Fix deallocation order.

commit b7a639c89fa281919377759de3aac6bb0d842804
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Oct 9 16:15:54 2007 +0200

    RHDLVTMAInit: Fix retrieval of panel electrical/timing information.
    
    We now, no longer, carry this information in our card table, but instead
    retrieve it from existing register configuration first, and then overwrite
    it with atombios values.

commit 48e351e68311b723c6e14e031f1414b4381a8170
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Oct 9 16:02:08 2007 +0200

    RHDConnectorsInit: fix allocation/freeing of ConnectorInfo and names.

commit fa302ae74ebd3207e53e71940bb0747a4b61366f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 9 13:39:38 2007 +0200

    Fix more memory leaks.

commit b1902f3267c80fce7141a290f2e79cc03e68a2bf
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Oct 9 12:48:30 2007 +0200

    Rename ConnectorTable to ConnectorInfo.
    
    Also:
    * Fix the build when there is no atom bios support present.
    * Clear up the situation surrounding connector table information
      in rhdCards.

commit 2df195425a00f2af00b7d8ad7665a45ded8520d5
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 9 09:44:13 2007 +0200

    Fixed a minor memory leak in rhd_atombios.c.
    
    Also memory leaks can result from structures which are
    allocated here but passed back to the calling function.

commit 9211806203572a6d58c498109cc76429c0f35e34
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 9 09:07:19 2007 +0200

    Add check for failed allocation.

commit 780425235d08885237d482da28040cc2047c0a7a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 9 06:07:36 2007 +0200

    Removed AtomBIOS test code.
    
    This test code was used to test the parser.
    Now obsolete.

commit e6735af5fffd9a62884d96e6a2c631ab2999208e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 9 06:06:14 2007 +0200

    Fix compiler complaints about string length.

commit 1103f74dc04e80f47a84367771e6b981d6a902ac
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 9 02:26:57 2007 +0200

    VGA resources should be disabled while the server is in OPERATING state.

commit 09986229a6ed77015f876c8f3a01f089e7b65299
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 9 02:25:32 2007 +0200

    DDC is required. Fail if I2C or DDC modules cannot be loaded.

commit c23887adae04a7789e030f6098ce4995bbd0d3f4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 9 02:24:26 2007 +0200

    Removing duplicate debug messages.

commit 156af310b6105bb089d16d1df806a0f9726dedf1
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 8 19:23:07 2007 +0200

    Add more range validation of AtomBIOS offsets.

commit 1f29746571546ba387c4ef0392ca4ab8db19db4b
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Oct 8 18:56:57 2007 +0200

    Nuke VT switch cursor saving code.
    
    After finally the cursor saving was working correctly, we decided in unison
    that this feature isn't necessary (no other driver does it), and the cursor
    image is to be restored by the application/driver switched to.

commit 67f11bb83e906cc52ed677d609b49cc7bfa85194
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Oct 8 18:07:46 2007 +0200

    Cursor cleanup: structure deallocation now in RHDFreeRec.

commit 7eb2e8ff8b72300eff30f8618d28aef7e461facb
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Oct 8 18:06:45 2007 +0200

    Only save cursor if size is within limits.

commit ff0232b09f846a3b2a504c4ff4aa62a1c22281cf
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Oct 8 14:35:27 2007 +0200

    RHDLVTMAInit: fixing unfreed structures.
    
    There was a reason why this Card is NULL check was at the front of the
    function.

commit 66cc07900a72dd912925500f5a1cc22f17013074
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Oct 8 14:30:34 2007 +0200

    RHDLVTMAInit: CARD16 while value is used as CARD32. Fixed.

commit 422c3ed2ae63d345d0b9e415027a63df1d160f7e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 8 12:51:29 2007 +0200

    Changing name of connector type enum to rhdConnectorType.
    
    rhdConnector was slightly ambiguous as a struct of the
    same name exists.

commit 03630bd194cabc650c2feffe6d0edd04ea6f0ebc
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 8 09:57:19 2007 +0200

    Fix segfault problem do to unzeroed DisplayModeRec data structure.

commit 810989884c6bb776b933c2701550f3c5fcab9ff5
Author: Matt Kraai <kraai@ftbfs.org>
Date:   Sun Oct 7 19:06:00 2007 +0200

    Use Crtc2 when trying to turn on the second CRTC.

commit cf12f1a41319b09c6dfc88ac59717bc92e01a0f1
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Oct 7 11:36:30 2007 +0200

    If no system specific information is available use values set.
    
    Neither for Power RefDiv nor for Backlight on RefDiv there
    is any information in AtomBIOS. If the device is not found
    in the knwon devices list simply use the values currrently
    set.

commit 428edc926b0dbacbd430eb837607db192f111d74
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Oct 7 09:28:43 2007 +0200

    Retrieve LVDS parameters from AtomBIOS.
    
    Some of the parameters required for programming the LVTMA
    for LVDS are listed in AtomBIOS tables. We retrieve them
    from there if available.

commit 67eccd55df7cc840491b6f777db4c293553bf229
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Oct 7 11:02:45 2007 +0200

    Approach reference divider from top (EXPERIMENTAL).

commit 81907c08c0da238d523997624ae84deeadc2fecd
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Oct 7 09:53:51 2007 +0200

    Getting PLL limits from AtomBIOS.
    
    AtomBIOS has information about the PLL_IN min/max VCO min/max and
    pixel clock max frequency.
    As the VCO_min frequency in AtomBIOS is 0 in most BIOSes that have
    been checked the code uses a fixed value of 600MHz for now.
    
    Also the names of the variables have been modified to match the
    nomenclature of atombios.h better.

commit 8772fa580df9b47dd439d9200b92312f2b1b4db6
Author: Dongxu Li <butdiene@yahoo.com>
Date:   Sat Oct 6 16:14:36 2007 +0200

    Alternative approach to PLL calculation.

commit da4ecd5e901e5eb4c299362f6de4d68601a3bfe8
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Oct 7 09:37:41 2007 +0200

    Change name of structure rhdConnectors (and friends) to rhdConnectorTable.

commit d82090a1c82a4c57e995cdbf24ecc4f4164646c1
Author: Matt Kraai <kraai@ftbfs.org>
Date:   Sat Oct 6 19:02:53 2007 +0200

    Call RHDMonitorInit() even if there is no DDC for the Connector.
    
    We don't solely depend on DDC any more to get mode for a
    connector. For panels we may use data pulled from AtomBIOS.
    Therefore we handle this inside RHDMonitorInit().

commit 7a419e06d5aa539a538df7f8cf2f30c241a39bb7
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Oct 6 10:40:24 2007 +0200

    If DDC fails try to get EDID or mode data from AtomBIOS.

commit 01b6a56fb46fee28c2e058b5183d3f71dd4be974
Author: Matthias Hopf <mhopf@suse.de>
Date:   Sat Oct 6 01:25:54 2007 +0200

    Cursor cleanup: Moving all locks to interface functions.

commit aa6ef99c879b398c1daa9b84f96c907e070381a8
Author: Matthias Hopf <mhopf@suse.de>
Date:   Sat Oct 6 01:19:00 2007 +0200

    Cursor cleanup: Nuke export of bit-banging interface.
    
    These functions were never intended to be called outside cursor.c, or to be
    overloaded. Calling function pointers also disables inlining by the compiler.
    Found some more reasonable function names for some.
    Some whitespace cleanup.
    Added missing rhdRestoreCursor() prototype.

commit 1ba6ec693c8f8a2eae018160b36659d45bcae274
Author: Matthias Hopf <mhopf@suse.de>
Date:   Sat Oct 6 00:59:52 2007 +0200

    Cursor cleanup: Move functions to right place. Adjust comments.

commit c8780b2f3b75cec582126ace85137fdf2208bb3d
Author: Matthias Hopf <mhopf@suse.de>
Date:   Sat Oct 6 00:51:41 2007 +0200

    On reloading cursor, do not only upload image, but also set cursor address.

commit 1947ab3ed81835a7ffb95ae0a7056766d24c90d2
Author: Matthias Hopf <mhopf@suse.de>
Date:   Sat Oct 6 00:29:35 2007 +0200

    Correct cursor image saving.
    
    Calculate correct cursor offset.
    Calculate correct cursor height.
    Verify against correct videoRam (Kbytes).

commit badc3389e46c069a2570687bc36388724db2d19b
Author: Matthias Hopf <mhopf@suse.de>
Date:   Sat Oct 6 00:15:59 2007 +0200

    Fix compilation (oops). Also saving cursor does not depend on CursorInfo.

commit 842701653a379692cc489cd4200bdef40baa8730
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Oct 5 17:48:15 2007 +0200

    Cleanup: cursor.h no longer necessary.

commit 90ea9d3c6d6f37bc99592f993610271a1f6bf068
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Oct 5 17:47:40 2007 +0200

    Only save cursor image if address is in mapped memory range.

commit 0288ac3d6a87d38983f60df7e5f398200dc58354
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Oct 5 17:43:08 2007 +0200

    Move Cursor Save & Restore to right places. Nuke HideCursor on LeaveVT.

commit 4dea386f003e2b9f0c0f70dd594ce13a0b033bfc
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Oct 5 17:40:14 2007 +0200

    Mainly reverted commit 0a546480a5c2e0c66f746a91cb0b5f592c06b357.
    
    This mixed up save & restore.
    Save is used for saving GPU state when *entering* the Xserver, Restore for
    restoring the old state when leaving. That includes the cursor (there could be
    a cursor active on VTs - though unlikely).
    Upon entering we save state, then *reload* the cursor image we just *know* to
    be correct. No need for saving that on LeaveVT.

commit a777515ee4016b86d2993291ec8ab7c5ad354468
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Oct 5 17:37:39 2007 +0200

    Fixed ambiguous else.

commit e325851486903e911cfb780849a9a471e8f0b54f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Oct 5 05:50:40 2007 +0200

    Don't validate the duty cycle on fixed device provided modes.
    
    Modes provided by the device itself should not be validated
    against common display standards. Most validations can be
    circumvented by not passing ranges to validate against.
    This is not true for the dutry cycle.
    While a 10 percent duty cycle seems low for a CRT device
    (which should not be below 20 percent) it may too high for
    modern display panels.

commit 33bfaca09733bd1565b11408caf2a92b681b0631
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Oct 5 05:50:01 2007 +0200

    Get LVDS panel timing from AtomBIOS.
    
    AtomBIOS contains LVDS panel timngs int the LVDS info table.
    All versions contain a structure with timing parameters.
    Tables starting with version 2 may also contain additional
    records which may contain 'fake' EDID blocks.

commit cd8446797a04da397773fc23e0c90924a49fd5ed
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Oct 4 12:35:21 2007 +0200

    Add initial support to query LVDS_Info tables.

commit 6c9894840d84b41b73274885d5c3beed8ed2b2e9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Oct 4 01:18:29 2007 +0200

    Increase loop counter in R5xxI2CStatus().
    
    This fix should give more reliable I2C readings on some hardware.

commit 0a546480a5c2e0c66f746a91cb0b5f592c06b357
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Oct 5 05:33:08 2007 +0200

        Fix cursor vt switch handling including segfault.
    
        Save() and Restore() are used to save and restore text mode.
        Therefore we cannot call CursorSave() and CursorRestore()
        from Save() and Restore() if we want to restore the cursor when
        vt-switching back to X.
        Cursor->StoreAddress read from D1CUR_SURFACE_ADDRESS does
        not hold the cursor image offset with respect to the framebuffer
        start but with respect to the memory address 0.
        Using it as an offset causes segfault.

commit 75f8b571ebc325f9610b582cdee71327492037ac
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Oct 4 21:08:08 2007 +0200

    Upload cursor image again on EnterVT.

commit 7e709ff356ced2ba69dca934be5dc291742bbc44
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Oct 4 21:07:30 2007 +0200

    Enable cursor save&restore on VT switch.

commit 0a077858b8e5e29fc6fc88333125f48f93b065d1
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Oct 4 21:06:23 2007 +0200

    Fix typo in cursor state save.

commit 3b5945d1ffc7bd05ab696835f79d6a5cba213558
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Oct 4 17:21:42 2007 +0200

    Typo & type fixes.

commit afee2f8bce5db7ee756bf4181ea9a43c53ad892d
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Oct 4 17:15:11 2007 +0200

    Implement full cursor save/restore including image.

commit f6b7bf711ffa8c2914a787587ce2d3d4d60a52d1
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Oct 4 16:26:55 2007 +0200

    Use new RHDPTRI macro for accessing RHDRec by scrnIndex. Less typing.

commit 42e3f8b8479233943ed5a745a7786b944510de59
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Thu Oct 4 11:13:44 2007 +0200

    Added some new R600/RV610/RV630 IDs.
    
    IDs for Radeon HD 2900 GT (R600), FireGL V7600/V8600/V8650 (R600),
    FireGL V4000 (RV610) and FireGL V3600/V5600 (RV630).

commit 0cfe65ff3e534b39baf10e5a077e95cc64e61196
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Oct 4 00:18:35 2007 +0200

    Fix a bug that prevents the identification of bogus table headers.

commit 9a0098f182df5e3b6c70b79e6fae6abea75d8974
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 3 23:45:36 2007 +0200

    Fixing error message...

commit e3546f14585ed5abc06326e8d00c29ad4782c33b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 3 23:40:05 2007 +0200

    Replacing ObejectID.h with one that contains the correct license.
    
    ATI pointed out to me that the file added earlier has not
    received the MIT license, yet. This commit fixes this now.

commit 2386584522c3f28b7c42ac1096d471ad577f4b6d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 3 23:17:23 2007 +0200

    Panel information is currently not available. Therefore bail - do not crash.

commit 87c0d95477a4e4662a50f07fe3fcd0ca3569d0bb
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 3 23:16:13 2007 +0200

    Fix singed/unsinged mismatch.

commit 7713ffb0173587cae203154e9994b801e3e60884
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 3 22:09:48 2007 +0200

    Removing warning about unknown card.

commit 0b7dedb99c25b8777e1eef866a00a9206c2647f1
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 3 22:09:15 2007 +0200

    Attempt to fix possible cause of a crash. Also adding more debug output.

commit e31421f50acb2769d40c4616a716238f90b0007d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 3 20:17:10 2007 +0200

    Adding missing header file.

commit 5c9efba68f14e85fdaa49185700e6bc548cf6236
Author: Marcin Garski <mgarski@post.pl>
Date:   Wed Oct 3 14:28:35 2007 +0200

    Add missing space after 'Bandwidth:' in log output.

commit fdd10fddc83dcc2f3aff6d4c3114e31658c3cb97
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 3 13:55:27 2007 +0200

    Fix DeviceID to index mapping.
    
    The DeviceIDs are bit values.

commit 59f1ab5cea5ec52e3c057a9c778e0c4724873f1b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 3 11:18:19 2007 +0200

    Add device tags to connectors generated from the SupportedDevices table.

commit 471e32e65c96d40469cd5bedb9566403a70a8f35
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 3 10:58:44 2007 +0200

    Add support for ATOM_CONNECTOR_DEVICE_TAGs to connector table parser.
    
    The ATOM_CONNECTOR_DEVICE_TAGs provide output names. These are
    useful for debugging and can be appended to connector names.

commit 84ea7cb6e0854975ca406f814bd603dfcc5ec6ea
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Oct 3 09:01:53 2007 +0200

    Make debug message printing more consistent.
    
    A function gets added that allows to continue a debug message on
    the same line (ie. leaves out the message status and scrnIndex).

commit 60f831dadd9b975b498f0a7242d49651178296ee
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 2 20:49:55 2007 +0200

    Add some sanity checks on offset values and indices obtained AtomBIOS.
    
    Also captialized the text representation of output
    and connector names.

commit d835284814724fffeaac3d41701b3074be87e801
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 2 13:17:30 2007 +0200

    Add Object_Header parsing for connector tables for R6xx.

commit 4e38394784f4b7aaae1f5cff9d6ca62add175129
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 2 08:27:18 2007 +0200

    If connector information from AtomBIOS cannot be obtained try to fall back to list.

commit 4a07e036abca23fecd17fa98401e0723f83aec6d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 2 07:44:53 2007 +0200

    Fixed AtomBIOS HPD parsing for SupportedDevices table.

commit 51f0b804cfd411dd8347214e4f96e2f5cecce11d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 2 07:36:26 2007 +0200

    Fixed sig11 in verbose mode.

commit 9ec9249347c1634abef1acff63d7e5ba0f0ac657
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 2 07:12:48 2007 +0200

    Add connector table parsing for the SupportedDevices Table (R5xx).

commit c2b4309a95b061028ca840431b1e9e476d33f04e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 1 14:05:24 2007 +0200

    Add function to print connector table.
    
    Also added a connector, outputs and ddc types for future use.

commit 4b3ed6b870936fcd61c4c89183ce74b1e286110f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Oct 1 07:49:18 2007 +0200

    Add framework for connector table parser.

commit 0e24539c417e0d6bc94afeea351c86dff1f86be4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Oct 2 08:12:36 2007 +0200

    Make local functions static.

commit a690bb78e225a97b769457b8c87e9146e2ea2a2b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Sep 30 21:24:09 2007 +0200

    Cleanup in rhd_atombios.c: removed superfluous function arguments.
    
    The scrnIndex is contained in the atomBIOSHandleRec,
    therefore we don't need to pass it as a separate
    argument.
    Also hook up orphaned rhdAtomBIOSTmdsInfoQuery().

commit 21444ba446807a276d0378fd988bfd31bc824c04
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Sep 30 19:21:58 2007 +0200

    Prepare code for connector table parsing.
    
    - Define struct Connectors separately.
    - Replace defines by enums which provides for
      better compiler checking.

commit 9085d2e91f3b903df6c6c58dc2994a330f34ec70
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Sep 30 19:16:13 2007 +0200

    Replacing hex loop counter by decimal.

commit c344ef1062f924892795bb51d9f55cc131b598bf
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Wed Oct 3 11:16:51 2007 +0200

    Fixed INCLUDES when using X.Org SDK.
    
    Get rid of specifying CDEBUGFLAGS=-I/usr/X11R6/lib/Server/include.

commit 718e78770e73068053ca748638716c7ea2656681
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Oct 2 15:06:23 2007 +0200

    conntest: fix logical error in LVDS
    
    Also add some info in the readme about the secondary function of
    most ATI cards, and how these should be ignored.

commit 9c7bb4ad51747bc498573cd287cf1fbc1686816e
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Mon Oct 1 23:58:13 2007 +0200

    Fix Atombios build on OpenBSD.

commit 113dc16761ae66ba46b2e694415b8733a9e5ba10
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Oct 1 23:34:36 2007 +0200

    ID: Reverse connectors on ATI Radeon HD 2600XT DDR4
    
    Also fix the ChipID strings for rv6x0.

commit fe024e1c2d0623dd95e4b88260a276041b198ec3
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Oct 1 21:39:10 2007 +0200

    Fix PLL on rv6x0 and X1300.
    
    Also improve PLL Save/Restore.

commit 77c7f3f06aebde6d715fbdfc0da2dbb9e7e52279
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Sep 28 18:51:37 2007 +0200

    Fix broken fp calculation in checking for reduced blanking.
    
    Comparing a double with an int... no workies... So just multiply both
    ends of the comparison by 10, and avoid fp altogether.
    
    Reported by Marcin Garski.

commit f22a90dc43eac6ba20d4ba1963778b68c149a4a3
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Sep 28 13:53:16 2007 +0200

    ID: Added docking station for Lenovo Thinkpad T60 (2007)
    
    Reported by Ferry Huberts.

commit 4316fdee3d87930161d5c263d278d029cb4a5394
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Sep 28 13:49:42 2007 +0200

    ID: Sapphire X1650 Pro AGP
    
    Reported by Simon Munton.

commit 35a9a6910eee4d1ae929538ff94b3916fe2f2c6c
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Sep 28 12:42:11 2007 +0200

    ID: ATI Radeon HD 2600 XT
    
    Reported by "Swappp"

commit b0587971765d45c8832768f468f3a5219af19418
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Sep 28 01:29:05 2007 +0200

    Increase loop counter on I2C status poll loops.

commit cb54ab17715b7d2ba8b21986f657f5353c99dd7a
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Sep 28 00:46:06 2007 +0200

    ID: Fix DDC bus for Lenovo Thinkpad T60p.
    
    Reported by Thomas Schmidt.

commit 069107c19cc50f0de97ac4c0c389058dffecef73
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Sep 27 22:10:24 2007 +0200

    ID: Powercolor X1800XT
    
    Reported by Paul Stegeman.
    
    This is the grandaddy of all R500s, an actual 0x7100, or X1800...
    Ain't she pretty?

commit a3741c516a33d7b968802ad4ef609f5985fed12b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 27 21:40:12 2007 +0200

    Fixed wording in README.

commit 744191757e4de2199787ba87be8fa443af9a91f4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 27 21:38:16 2007 +0200

    Put scaler value in hex.

commit 651e776d2cd9aaaef4782e6cf600cc35cc0c9cc7
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 27 21:29:02 2007 +0200

    Fixed I2C probing on R5xx.
    
    The R5xx I2CWriteRead() function didn't handle the case
    where neither write nor read data is available correctly.
    In this situation only the slave address should be written.
    R5xx appearantly cannot deal with a one byte slave address
    and zero data bytes. Therefore we write one dummy byte
    (i.e. an index value) after the address.

commit fe08f8e56f97697012e77ccf5f28ccb0adfcee19
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 27 21:25:26 2007 +0200

    Fixed order of magnitude of SCL, added correct prescale calculation for R6xx.
    
    R6xx should be in kHz units.
    The I2C prescale value is the ratio of the XTAL clock (reference clock)
    to the SCL clock. The reference clock value is read from AtiomBIOS.

commit b5ec5d2cc84b0017a1bc49fe6d9809343c6824cc
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 27 21:11:54 2007 +0200

    Adding AtomBIOS support to conntest.
    
    Engine and XTAL frequencies are kept in AtomBIOS tables.
    These values are required to calculate DDC clocks correctly.
    This patch also fixes a typo which caused all DDC lines
    on R6xx to report a connected DDC slave.

commit 60927acdc82abb68cc7f2c8547dcb1d667226e9a
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 27 21:09:15 2007 +0200

    Updating README.
    
    Adding information on how to dump the VBIOS.

commit 2a23adcc7bdd6ee053215da7a79cff71a7fb5e47
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 26 22:32:32 2007 +0200

    Added I2C prescale calculation for R5xx.
    
    R5xx prescale is still pending further information from ATI.

commit 2f6f2cbc0860fed45bdbd2b0aff5d4b66a24aedc
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Sep 27 18:20:55 2007 +0200

    ID: MSI RX1650 Pro
    
    Reported by Thomas Prochaska

commit 445c534dd2f3c71c7609ccfbe5ab6cd70918de7e
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Thu Sep 27 17:20:19 2007 +0200

    Removed RS600 IDs, since these are still R400 based and therefore
    not supported by this driver.

commit 9396e84ddfa5b2da39bf95dde2755f3a4edbb63f
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Sep 27 16:00:26 2007 +0200

    ID: Fix Asus z96j to read Asus W3J/Z96
    
    Reported by Nicholas Trangez.

commit 2d2abf652079a6f390dfa0a41bce71eb86eebcd3
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Sep 27 12:58:41 2007 +0200

    ID: Dell Inspiron 9400
    
    Reported by Jens Lody.

commit 9595c78ea9aa7a76771b242ee7ce10b75455e041
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Wed Sep 26 23:28:42 2007 +0200

    Adjusted RHDIdentify() to chipset name review and new Device IDs.

commit 53043ea9798c2075773ed9c8e456effac2c81c68
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 26 22:43:10 2007 +0200

    ID: HP/Compaq nc8430
    
    Reported by Lukas Hertig.

commit f6dddcae7cb0331b744f9134dd3ae951dcb18ae0
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 26 22:22:41 2007 +0200

    Adjust active output selection to better cope with missing panel EDID.

commit b3db776e5030600ec2f3989a72d54050f94445f3
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 26 22:17:30 2007 +0200

    More missing braces.

commit 7a46aac044cf89230eeeff8e67ed02501f18457f
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Wed Sep 26 22:08:19 2007 +0200

    Forgot two Device IDs in rhd_conntest.

commit 2b42588b983ca192d80112ed143826786180f597
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Wed Sep 26 22:05:36 2007 +0200

    Added missing chipsets to rhd_conntest.

commit 54ba51192ec9d58e893177df462827cda3d92697
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 26 21:40:18 2007 +0200

    Remove panel resolution entries from the id table.

commit 11fb615181d1221c5ca660c204fd741e583e58bc
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 26 21:26:25 2007 +0200

    ID: Dell Inspiron 6400
    
    Reported by Markus Gross.

commit d0f13e82aeb1d6fc37c5794165d32af7d3b38249
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 26 21:13:50 2007 +0200

    Fully eliminated all uses of regOR: use RHDRegMask() instead.

commit 86c81cb4b96fb87fabecbddfeeb6faffc67c2a39
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 26 21:06:34 2007 +0200

    Added missing braces.

commit 6434a93e29d51261ac57550e167ebcbbb349bf94
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 26 20:45:39 2007 +0200

    ID: Toshiba Satellite A100-237
    
    Reported by Marcin Garski.

commit 191287132b6c1291e4eb4e1004d9578800214532
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 26 20:15:11 2007 +0200

    LVTMA: alter M56 check to only stop anything >= RS690

commit 15501e07f4c0c45578731fb7a333689be19989a1
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 26 19:50:47 2007 +0200

    Fixed typo in debug message print function.

commit cb53afa34aa8adb17e82ff1dfadcd915e298c9a4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 26 19:57:15 2007 +0200

    Added debugging support for for HW I2C read.

commit be2a4ae3ff968678b5cb1f5dc33f5536e2906395
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 26 16:51:13 2007 +0200

    Fixed a non-fatal typo in an enum name.

commit 50204482a1af15884975ad2215dfb213ad63de69
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 26 16:50:22 2007 +0200

    Replaced bit values by symbolic names.

commit 06351e4fca59417f521becd1052fc5bd1828e650
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 26 16:19:11 2007 +0200

    R5xx only have 3 HW I2C lines for DDC.

commit 1c9cd702dd39684ee9ab1b683ec6bcfd994e7f0f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Sep 21 10:36:46 2007 +0200

    Added BIOS dumping to conntest.
    
    Made code slightly more consistent.

commit 3e956f0586e1e3321c728d8e205048cb01b33169
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 26 19:45:57 2007 +0200

    R5xx only have 3 HW DDC I2C lines.
    
    Also: making function names more uniform.

commit 6db7c61ace9d91f7be6e3be35ff3231296af4abc
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 26 14:33:49 2007 +0200

    Added symbolic register and bit names for R5xx I2C regs.
    
    Some I2C registers for R6xx had conflicting names.
    Separated namespaces by prepending an R5/R6.

commit 2983b97577be532857ff83f80513028794e2fe55
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Sep 24 04:01:32 2007 +0200

    ID: Lenovo Thinkpad T60 (2008)
    
    Reported by Felipe Contreras.
    
    This report includes the DVI-D Connector on the docking station. This is the
    first device with three seperate connectors, so it will be interesting to
    see how my code holds up here :)

commit 77bf0a532e310d3413dc297b0d602c420c1f7b17
Author: Evgeni Golov <sargentd@die-welt.net>
Date:   Wed Sep 26 19:02:04 2007 +0200

    Fix up RHDCardIdentify bail-out message.

commit 05e23a598fcf119e7d282d797735f5eda99cfdd7
Author: Matt Kraai <kraai@ftbfs.org>
Date:   Wed Sep 26 16:20:54 2007 +0200

    Fix tests for MonRec members by including the right CFLAGS.

commit 30a4e8d77dc6267858df446059a883fc9b11fe16
Author: Matt Kraai <kraai@ftbfs.org>
Date:   Wed Sep 26 16:13:33 2007 +0200

    Fix gitignore properly for the conntest Makefile.

commit 7073eddcc78f64fc60843b805343c3b16756df08
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Wed Sep 26 10:12:17 2007 +0200

    Build support for imake based X.Org releases.
    
    Added Imakefiles required for X.Org 6.X. Define _X_EXPORT to fix
    build on older X.Org releases.

commit 458577c4ac45ab2aedeb92f76c2dce2e6eee2aa6
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Wed Sep 26 00:47:02 2007 +0200

    Added missing chipsets according to fglrx driver.
    
    Added missing chipset for RV505, M54, RV550, RV560, RV570, RS600,
    RS740, RV610, M72, RV630 and M76 chipset families according to
    fglrxko_pci_ids.h of fglrx driver (versions 8.40.4 + 8.41.7).

commit d8f48cc772b443643264372be9d981e50943b82e
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Sep 25 14:24:26 2007 -0700

    Fix typedefs to work on Solaris

commit 15130f7c7ff4779f69d5bbd906762615aa3fc4c0
Author: Stefan Dirsch <sndirsch@shannon.suse.de>
Date:   Tue Sep 25 08:53:25 2007 +0200

    Chipset name review.
    
    Reviewed names in RHDPCIchipsets[]. Adjusted and reordered RHD_CHIPSETS/
    RHDChipsets[] accordingly. The information is based on fglrxko_pci_ids.h
    of fglrx driver (versions 8.40.4 + 8.41.7).

commit 198f49f3de8307932d69d933dd7802b256e5e916
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Sep 24 02:47:24 2007 +0200

    ID: Asus Z96j
    
    Reported by George Wu.

commit 3fb794a2a5b6981a8cb17198ab06f1077b286c4c
Author: Yanko Kaneti <yaneti@declera.com>
Date:   Thu Sep 20 22:50:30 2007 +0200

    Fix paths to include files ('make distcheck' works now).

commit 561c8f7488e8621593a6f0473b384235f97745ca
Author: Hans Ulrich Niedermann <hun@n-dimensional.de>
Date:   Thu Sep 20 22:47:52 2007 +0200

    Fix builds with srcdir != builddir.

commit abff1af7e330183fddb0fd7ae6319bd2e3644c0c
Author: Evgeni Golov <sargentd@die-welt.net>
Date:   Thu Sep 20 22:43:26 2007 +0200

    Fixed message string for AtomBIOS parser disable.

commit 0f9988796e1d964f8bac4bf302bac7d78b70a388
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 20 22:35:22 2007 +0200

    Removed some test code, restored original version.

commit 5f2c77bd79d5eee4d2d5c04902d660d69e4861fa
Author: Matt Kraai <kraai@ftbfs.org>
Date:   Thu Sep 20 21:28:57 2007 +0200

    Fixed a wrongly applied patch. Sorry Matt.

commit cc0942d22afbdb98f6e8facab248664300111690
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 20 21:21:23 2007 +0200

    Fixed a type conflict when building with AtomBIOS parser.
    
    The AtomBIOS header files use types that are also used by X.
    They most likely conflict. Since CD_Common_Types.h tries to
    be 'nice' it wraps all typedefs with an #ifdef TYPE_NAME ...

commit 602916db0b97a35346e8b3f52f1443c623368823
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 20 20:45:16 2007 +0200

    Added test for NetBSD.

commit 4bb2741a8fcfc87541c9f02248144b6bd39320ee
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 20 20:06:38 2007 +0200

    Fixed AtomBios/include -> AtomBios/includes.

commit bc40519279a18bd7c2e534e8c52893a403796eed
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 20 20:00:09 2007 +0200

    Fixed another missing \n.

commit 7005ba671ae63247fd3cf6a6d491674326508d69
Author: Matt Kraai <kraai@ftbfs.org>
Date:   Thu Sep 20 19:45:23 2007 +0200

    Fixed the atombios-parser option.

commit 10f25c76b9b526c3bc40a1ba222d6dd8bcba4e64
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Sep 20 18:24:56 2007 +0200

    Fix missing \n in rhdModeLayoutSelect

commit ff6439181657f10f0b20255c2454d7fbf961610c
Merge: d9ef458... 48f0fb8...
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 20 17:38:55 2007 +0200

    Merge branch 'master' of ssh://git.freedesktop.org/git/xorg/driver/xf86-video-radeonhd

commit d9ef45828d99a70db31baf6de2fa54a7960c121e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 20 17:38:31 2007 +0200

    Adding AMD's AtomBIOS parser.

commit 48f0fb8b358d96b8bf81f3e28c67516f5dfbdddc
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Sep 20 16:37:50 2007 +0200

    ID: Toshiba Satellite A100-773
    
    Reported by Felix Mller.

commit 3f15318e786360c8ed7232261ad58853628ede7d
Author: Matt Kraai <kraai@ftbfs.org>
Date:   Thu Sep 20 12:59:33 2007 +0200

    Fix the spelling of RHD_UNKNOWN.

commit a189f3e133bef0adc9ab0a5db01b798e782ddc6d
Author: Matt Kraai <kraai@ftbfs.org>
Date:   Thu Sep 20 12:57:18 2007 +0200

    Fix the misspellings of "whether"

commit b2550475f62eff829e27cf32886e616750a03a20
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Sep 20 12:17:09 2007 +0200

    ID: MacBook Pro 2.2
    
    Reported by Martin Aumueller.

commit 30f4bfb718a934f84a27992a9f4eb5393f7f6cbe
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Sep 20 00:14:36 2007 +0200

    ID: Add GeCube X1950 Pro
    
    Reported by Peter Jnsson.

commit 891e3a4d8d12fd0426ea30da0c8d7151d4dd16ec
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 19 23:43:18 2007 +0200

    ID: add Dell Inspiron E1505
    
    Reported by Brian Tate.
    
    Will not work yet due to missing DDC information and no such
    atombios handling yet (hopefully tomorrow).

commit 17aa9d02f77ecd8ad7f156a48b5148a752f0b277
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 19 23:34:55 2007 +0200

    ID: add "Asus EAX1650 Silent"
    
    Reported by Christoph Brill.
    
    TMDS is a guess.

commit e8c55e9500b473322a31f4d10e1ef8f6fd77c453
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 19 23:24:44 2007 +0200

    ID: add "Lenovo Thinkpad Z61m"
    
    Reported by Evgeni Golov.

commit b236fde3bed281d238860cbe11bd22092d2555f7
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 19 23:21:06 2007 +0200

    IDs: Add "Lenovo Thinkpad T60 (2007)"
    
    Reported by Michael Gaber.

commit 3e04a3203ab0cb52b84be52763cb641686dcdb88
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 19 23:09:10 2007 +0200

    Remove experimental checking.
    
    We depend on card specific connector data later on anyway.

commit 0f3ec64915e10c1588f63dca9d156cf0ad565e71
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 19 22:48:34 2007 +0200

    Add conntest utility.

commit 9ffef0fb88318a12025fbcb90bb654cf5fb902ae
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Sep 18 15:29:31 2007 +0200

    Replaced the MAILINGLIST placeholder by actual ML address.
    
    The printing of the bug report message has been moved to a
    separate function as it may be needed in more places.
    Also a pointer to the bugzilla has been added.

commit 4958c3651efd03c0432cc61d6b6594514f7df13d
Author: Kyle McMartin <kyle@freedesktop.org>
Date:   Tue Sep 18 15:03:53 2007 +0200

    Fixed spelling typo: no inclusion of int10 when AtomBIOS parser present.

commit 3944252b9f67bf7d5787473c979f1b933bfb37d2
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Sep 18 02:44:07 2007 +0200

    Add H/VDisplay entries to the LVDS entry of the card table.
    
    Plus alter handling of panel monitor in layout selection.
    Also fix the DDC channel for the panel of the Lenovo T60p.

commit ffb95e9575821d929b0007d704a9761ad4df6b8e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Sep 18 00:47:22 2007 +0200

    Adding AMD's atombios.h.

commit a425575e19eeea7d240c0268595bc44486bbec54
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Sep 18 00:47:00 2007 +0200

    Turn on legacy int10 when no AtomBIOS parser is used.

commit dc15b7fa014a24b2a0bac6e6a57d4e6910a79105
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Sep 18 00:42:52 2007 +0200

    Adding AMD Copyright. Fix build to build with atombios.h but without parser.
    
    The license situation for the AtomBIOS parser has not yet been
    fixed. So the initial release will be without it.
    We comment all the code that relies on it.

commit f689686492c9319983e6690c01f56d6b26426e7d
Author: Egbert Eich <eich@tst2.site>
Date:   Mon Sep 17 21:18:40 2007 +0200

    Print message that tells if shadowfb is used.

commit 2571fafe2fccb919aef8c34f21ed5589cecac6cb
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Sep 17 18:28:08 2007 +0200

    Better handling of verbose messages.

commit 2a45ed181351888c005e4b3dbad2b4d2a6102538
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Sep 17 21:07:45 2007 +0200

    Expand the date for my copyright statement.
    
    This is code that lived in xf86-video-unichrome before and started living
    another lease of life here.

commit 3c0f8586821da0ba4b66c47dd5e8f3fecb45d907
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Sep 17 19:19:43 2007 +0200

    Improve card structure to hold panel specific information.

commit ff5dc0912b4a2f36b8a22e730e27c78f59d2ef44
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Sep 17 14:02:38 2007 +0200

    Fix typo in RHDMonitorInit.

commit 711278d7c53d04cc576b407c1fd3eef5e451ce80
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Sep 17 12:52:25 2007 +0200

    ShadowFB now on per default.
    
    Fix a segfault in RHDShadowCloseScreen.
    Stop rhdShadowWindow from logging as RHDFUNC.

commit fca009e11832de73af1bd2b6ea522f47721f859f
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Sep 17 11:56:43 2007 +0200

    Fix xf86snprintf warning by including xf86_ansic.h

commit cabbc9de634f02ed41d707d6a165584adb26adc6
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Sep 17 11:41:10 2007 +0200

    Alter mode validation to properly catch fixed modes.
    
    And get in a saner usage for the configured monitor.

commit ed5db4c0c6b2687dae12263710cf7ddfe6c7f045
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Sep 17 01:01:42 2007 +0200

    Added big fat warning when code gets build without AtomBIOS support.

commit 427175822e45034769f9c5d9823a8453ba69391f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Sep 17 00:48:08 2007 +0200

    Build fix problem introduced by removing a redundant command line arg.

commit 1e086f76dd5b4172853379cb486ed3b978e26e5d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Sep 16 19:44:56 2007 +0200

    Fixed ScanBus result reporting.
    
    Also deleted trailing whitespaces from some files.

commit 06a5157c911c3fccc081e40b880731203e19c580
Author: Egbert Eich <eich@e57.suse.de>
Date:   Sun Sep 16 18:44:58 2007 +0200

    Added/fixed missing pieces in shadow support.

commit 16684a729d5f666467aebdb0c500d5d07c579f81
Author: Egbert Eich <eich@e57.suse.de>
Date:   Sun Sep 16 18:44:03 2007 +0200

    Fixed ScanBus, reduced I2C delays.

commit 2d9ca7196ed4146b579ad9602c3ab5fff7552dda
Author: Egbert Eich <eich@e57.suse.de>
Date:   Sun Sep 16 18:42:10 2007 +0200

    Get Default Memory/Engine clocks for AsicInit from AtomBIOS.

commit 3da0f5de42d2083f5f7d2cf961d9fb6f31f7b9e4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sun Sep 16 00:46:45 2007 +0200

    Adding shadow buffer handling. Cleaning up helpers.

commit a708f4e1951d254ce12314b069813262af009262
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Sep 16 16:54:01 2007 +0200

    Plugfest: add ddc to all known devices, add connector table where missing.
    
    Also fix an issue with DAC mode validation: 165MHz is a TMDS limit,
    not a DAC limit :)

commit f7fed2884badc8e2618ffaa777b9cd1db1a23241
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sat Sep 15 23:26:09 2007 +0200

    Fit cursors in Crtc specific structs.
    
    Also add proper destroy for Crtcs in FreeRec.

commit 986143602f40eff2b29d12bea4654c668c83618d
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 12 13:51:46 2007 +0200

    Beautification... rename struct rhd_* to struct rhd*

commit 13a4a96097d50f6626d3d3d630637e6bc6248e1e
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 12 12:45:02 2007 +0200

    Invert PLL calculation and fix EDID bandwidth bug.

commit b734119b5434918212d4969ffbd5661fe683f39d
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 12 09:47:24 2007 +0200

    Add quick and dirty IgnoreConnector option.
    
    This allows one to disable a display, even when it is present.
    Fix atombios build.

commit ac61d0cb1a0714f7d936efde69869ea7a2100d4f
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 12 04:39:46 2007 +0200

    18bit panel looks horrid without dithering, so set this up.

commit 87626f745d9da13e270e00f62c549d57584b45ac
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 12 09:02:44 2007 +0200

    Added a scanbus option to scan all i2c buses on all lines.
    
    Alongside with this the build was fixed that broke
    due to previous merges.
    All AtomBIOS and I2C functions now take a scrnIndex
    instead of a ScrnInfoRec as argument since all subsystems
    carry only the scrnIndex as a link to the 'world' in their
    private structures.

commit 329925499bafcfccc7eca9969238d87cde5827ac
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Sep 12 02:40:08 2007 +0200

    Added missing license and copyright headers.

commit 9afc87211eab4f8c33e1b4ad9070ab94c1cbaed5
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 12 01:29:03 2007 +0200

    Add DDC channel for m56 laptop VGA connector.
    
    Also we now hit an unresolved symbol: RHDCVTMode versus rhdCVTMode

commit 103c06e81a748dcb0fbf4fd9079e3a885af816ff
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Sep 11 18:58:23 2007 +0200

    Implement initial monitor abstraction.
    
    We now kind of validate things correctly, well, somewhat.
    TODO:
    * interface monitor handling with output sensing.
    * figure out what to do when no EDID data is there, current handling is
      incorrect.

commit 4634b214346d241a9ef3ec2758194a1c3218cb64
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Sep 11 11:26:28 2007 +0200

    Initial LVDS implementation for M56.
    
    Very rough edges still, but it will have to do for now.

commit b99e1cb21199187d0b3e8af8e8f1862de4f443d9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Sep 11 14:10:28 2007 +0200

    Made AtomBIOS code optional, restructured Fb allocation.
    
    This patch also addes some more messaging.

commit 7f299494948764c2096e724a69c66393e4b856ce
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Sep 11 14:02:49 2007 +0200

    Added ScanBus and DDC readout to I2C.

commit 84e2731533b2cbda3a58be1b7f3d76518ea193c4
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Sep 9 18:42:58 2007 +0200

    M56 (0x71C5): Add basic support.

commit 7e1be7e794db318f3b579b37be86490858195d05
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Sep 9 18:32:37 2007 +0200

    Fix array overrrun in I2C code.
    
    Also make CAIL messaging less verbose.

commit 8c5515f7878cba22eacc42ecd6d02c4b5729ccc9
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Sep 9 13:47:55 2007 +0200

    Fix the build of rhdI2CProbeAddress.
    
    Also fix building against older modular X servers.

commit 8c9f7eb31a9fedb8f1a005babd96d3fbf113f4db
Author: Egbert Eich <eich@e57.suse.de>
Date:   Sat Sep 8 01:32:56 2007 +0200

    Tested and fixed I2C on R5xx.

commit 90317728c576ab6aa4287d5289e06b841c6ac9f6
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Sep 8 02:11:29 2007 +0200

    Fixed call to ASICInit. Now we set up ATOMBios before memory sizing.

commit b3dafbe914b506769b5f9d63d59a0e5c25d075f8
Author: Egbert Eich <eich@freedesktop.org>
Date:   Sat Sep 8 01:26:43 2007 +0200

    Adding AddressProbe for I2C.

commit 8227d13887a71468f88992b0575861a81a738177
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Sep 7 23:30:05 2007 +0200

    Replace 2 0xFFFFFFFF values in an enum by defines.
    
    This stops truncation and stops the compiler from complaining.

commit 9e88b57350e3dec8bac2b8182c0735292606183b
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Sep 7 22:01:31 2007 +0200

    Use atombios's FirmwareInfo PLL info for our PPLL calculations.
    
    rv630 still gave me a bad one on a mode with ~1.1Ghz internally.
    Will need to be dug out... but no time today anymore :(

commit b9b69287de412e44d24b5015cd1e761784b2be67
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Sep 7 21:06:22 2007 +0200

    Changed default Engine Clock and Memory Clock to 700MHz. Fixed Problem with clock value.

commit 337d986b8461f8fa44422c8f3fd75e66127ff1a7
Author: Egbert Eich <eich@e57.suse.de>
Date:   Fri Sep 7 20:51:41 2007 +0200

    Fixed memory allocation.

commit 485d627dc9fb8e069599bcde0982476b57d42128
Author: Egbert Eich <eich@e57.suse.de>
Date:   Fri Sep 7 12:23:27 2007 +0200

    Removing call to ASIC Init for now as this messes up the system.
    
    ASIC_Init messes up the initialization at the moment therefore
    we remove the call for now.
    Also make sure the framebuffer is mapped if we need it for AtomBIOS
    calls.

commit 2cfd67b70f9d487c8a9409f1d9511d4a84b18598
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Sep 7 01:06:33 2007 +0200

    Change to get rid of dependency on broken xf86i2cGetScreenBusses().
    
    Also added some further AtomBIOS table retieves.

commit 88968e9ceb6ab24ea43310523aaa11529bbf0fe8
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 6 09:27:04 2007 +0200

    Introduced a different handling of VRAM scratch space initialization.

commit 58098b916ae9ffea71a45d84a2aa4e559902c602
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Sep 6 18:59:26 2007 +0200

    Add connector table for firegl v3400

commit e80a6cd66a9a3e5fa782c5343cfa68d767c2371c
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Sep 6 17:30:34 2007 +0200

    Fix the build:
    
    * one from a bad merge from egbert to me.
    * one where i didn't move rhd_connector.h from rhd_hpd.h in git.

commit f1e9f75cf68be85c20c908043560640e402b298e
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 6 08:00:36 2007 +0200

    Added support for AtomBIOS exec, Int10, DDC on R6XX and Asic_Init.
    
    The following functional blocks have been fixed with this
    patch:
    - I2C: DDC read out has been added and tested on R6XX.
    - AtomBIOS:
      * Some structural changes were made to accomodate
        AtomBIOS execuiton better.
      * Execution of AtomBIOS was successfully tested with
        ReadHWAssistedEDID().
      * Support for ASIC Init was added.
      * Better Debug support was added.
    - Int10:
      * Int10 support was added. Secondary cards POST
        flawlessly.

commit ff45fca743290ed828579588da46ce057cfc33f1
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Sep 4 10:49:04 2007 +0200

    First integration of I2C into common infrastructure.
    
    I2C init/teardown has been added and a few adjustment to
    the code have been made to give it a more uniform look and feel.
    AtomBIOS is also uninited now.
    Fixed AtomBIOS init/memory allocation and query funcs.

commit c96120c0cc8b9105eadc803dd7b1b476440491da
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Sep 6 09:52:55 2007 +0200

    Added support for AMD GPG profided AtomBIOS command table parser.
    
    Some adjustmends have been made to the AtomBIOS data
    table parser to accomodate the command table parser better.
    The files itself are not yet integrated as the license has
    not been fixed yet.

commit 8cc902805a1b2311260e0a4819ac2a685db441df
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Sep 4 10:27:40 2007 +0200

    Initial version of I2C handling code for R5xx and R6xx.
    
    R6xx I2C support should be pretty complete.
    R5xx I2C support suffers from the lack of documentation.
    Currently we don't have full specs for R5xx
    therefore the code there is very preliminary.

commit fbe55cfe07da3f3ca3317f957cdb22ad718bcc81
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Sep 5 00:25:11 2007 +0200

    Add connector handling.
    
    Connectors tie the actual plug, a monitor of any description, a ddc bus
    a hot plug detect pin, and (currently) up to two outputs together.
    
    So, everything comes together here, and the connector handling decides
    how and when which monitors and which outputs and which CRTCs are tied
    together.
    
    This requires an entry in our card table to map out these connectors
    for various hardware, another lengthy and painful plugfest...
    Which isn't complete yet, so your hardware might not start just yet.

commit 3cde3f19f446283f57be3d83f5346501f5a08fa0
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Sep 4 14:56:54 2007 +0200

    Fix HW cursor on Crtc2. Fix HW cursor with virtual.
    
    Nuked unnecessary cursor-related entries in RHDRec.
    Corrected REG_CUR_OFFSET.
    Moved actual cursor pos setting to rhdShowCursor.
    Re-show cursor in RHDAdjustFrame.

commit 2f0df11c8365f62e2cce9437c035c99eb86fcc65
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Sep 4 14:53:36 2007 +0200

    Round x coords in ViewPortStart.
    
    Also added a comment about granularity.

commit 700ccf181035358bd7a461a2d77bd61a7bff91e4
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Sep 4 11:30:09 2007 +0200

    Make HWCursor code backward compatible with non-RandR-1.2.
    
    The flag HARDWARE_CURSOR_ARGB is used by the new RandR 1.2
    layer. It's not available on earlier versions nor is it
    required. Therefore we check for its presence before we use
    it.

commit 3741c9447b3dc5cce9844f6a5a52f3537281ebd8
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Sep 3 23:44:18 2007 +0200

    Add some very simplistic FB memory handling.
    
    Just grab DRM_FB_CHUNK bits off of rhdPtr->FbFreeStart/Size. Whatever
    is left is used for the scanout buffer and xf86 FB management.

commit 00c0f2331ebe7fd445027bdd2f68d9f56d789d85
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Sep 3 22:15:13 2007 +0200

    Fix DPMS

commit 6e14bb1af493695d5a70268fa5384027505caa61
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Sep 3 20:35:18 2007 +0200

    Hardware cursor support.
    
    No save/restore yet. Hardware cursor lives just below 128MB ATM.

commit c14ff985cfde0e885df80ed3c150e112819e9918
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Sep 3 16:45:28 2007 +0200

    Fix my email address.

commit 2ad86d2834259206e0ffb9f17c9d2f8b4574de8b
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Sep 3 16:25:35 2007 +0200

    Add LUT handling.
    
    We now have 8bpp working correctly. We have full gamma control over all the
    other bitdepths, and 15bpp has now also been added.

commit ca41591c327c216775cfaff1533548dc35739b1e
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Sep 2 20:20:46 2007 +0200

    Fix FrameAdjusts.
    
    Also expand VGA disabling.

commit 57f9fa41084fded7e51ee3a6ea2352b0947adcb4
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Sep 2 16:47:27 2007 +0200

    rhdPtr->XOrigModes was stupid and superfluous: cull it.

commit 796f3a644513d9223ca049a19779e0e8239c6ba7
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Sep 2 16:39:45 2007 +0200

    Add mode validation.
    
    Largely stolen from my unichrome driver. Virtual selection is much improved
    though.

commit b463703317e8371b3008a845f60de55c11f0e4a0
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Aug 31 20:37:15 2007 +0200

    Rework OutputsSelect to rhdModelayoutSelect.
    
    Also:
    * Power down unused CRTCs.
    * Add output validate functions.
    * Fix FrameAdjust CRTC selection bug.
    * Add DACx_CONTROL2 DFORCE_EN bit handling.
    * Move PLL calculation value printing to RHDDebug.

commit 28ba746dc8962fe1d34947fe92f26dd403f08a0d
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Aug 31 12:23:59 2007 +0200

    Add local copy of xf86CVTMode.

commit d6b513e4e01a17f9109b327702efbb6a1f8acc38
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Aug 30 16:27:50 2007 +0200

    Fill out DxModeValid.
    
    Also:
    * Move some functions from being display (D) specific to being shared
      between both displays.
    * Tie PLL2 to CRTC2.

commit 3e380f0ccf405952693dc685e7d9a90887eb351c
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Aug 29 19:40:50 2007 +0200

    Add initial CRTC abstraction.

commit 489afaa29574aeea64b24bf7005c28ca4c0838ec
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Aug 26 20:27:34 2007 +0200

    PLL: Invert Post divider selection logic.
    
    To choose the highest possible internal PLL frequency, this to improve the
    stability of the output PLL.
    Also add handling for EXTx_PPLL_CNTL, this adds voltage handling for PLLs for
    the r600s. For r500s, this is handled by ASIC_RegistersInit in atombios.

commit 108899586f3d33688790e41a97d79c56150d2f62
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Aug 24 00:04:20 2007 +0200

    Make sure that we set up the viewport correctly.
    
    No frameadjust yet though: buggers up the linebuffer.

commit cc5c5eecd18cf3bb5223b62cd822fc9cd6e24e65
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Aug 23 17:08:30 2007 +0200

    Add support for TMDSA.
    
    Also fixes:
    * an issue initialising the DACs: output video standard.
    * an issue initialising the CRTCs: read enable.
    * alter the activation of devices depending on their sense result.

commit 3ba286b05a3f892694856e024f5b220bbb307c1b
Author: Egbert Eich <eich@freedesktop.org>
Date:   Wed Aug 22 12:12:02 2007 +0200

    Clearified some names in atombios.c/h.
    
    Small patch that fixes typos and attaches some Atom BIOS
    specific entities into the Atom BIOS name space.

commit 3aee32c803b2c1bd121cbdcf599ab418c9417f30
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Aug 20 15:54:41 2007 +0200

    Add hot plug detect subsystem.
    
    This just handles the four DC_GPIO_HPD pins, but might some day get a timer
    and maybe the r600 interrupt handling.

commit bc661e564a0ae86d65544d24052e323c10498604
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Aug 15 13:10:53 2007 +0200

    Add CRT detection for DACA and B.

commit d430bed119037e9e58b8eda2aebb5fd20fb3c2e1
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Aug 13 22:17:18 2007 +0200

    We have no need for rhdLock/rhdUnlock functions at this time.

commit dacfd27f5c94ed8db17a02a40e520da012057d8f
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Aug 13 22:13:43 2007 +0200

    Split out handling of the VGA compatibility hardware.
    
    This might seem daft, but makes things more balanced with the rest of
    modesetting.

commit b0bfeb545769cca6850410c13e544b3eafbfd8c0
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Aug 13 19:57:54 2007 +0200

    Depend on rhdPtr->CursorInfo instead of rhdPtr->swCursor.val.bool.
    
    This is much safer. Plus, when RHDCursorInit fails we don't need to bail out,
    as we can happily fall back to the software cursor.

commit 860f18400f33443bbefe2015e1dc38f0b15106b5
Author: Luc Verhaegen <libv@skynet.be>
Date:   Mon Aug 13 19:39:25 2007 +0200

    Split out PLLs

commit 63e3d5ee9d4166f227238f18f40e4293836f871e
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Aug 12 02:03:41 2007 +0200

    Mitigate some of the ->scrnIndex complexity through macros.
    
    Simple #defines take in ptr and replace to (ptr)->scrnIndex; nothing scary.

commit e140706548526fb1c049815f637c19d7a4f190f9
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Aug 12 01:44:21 2007 +0200

    Initial split out of outputs.
    
    DACs A and B.

commit 13e8c2b94aac32b407a5b613ee75df0a6d0b74b6
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Aug 12 00:42:08 2007 +0200

    Fix includes for cursor.
    
    By not depending on the xf86Cursor typedef and using the struct * instead, we
    don't need to include xf86Cursor.h all over the place. This tactic means that
    we will never have to spend ages resolving inter-header dependencies and makes
    us more resilient against unrelated SDK/API changes.

commit 763f6286c3dbe0b51d307e804f81ccdfb50ccd0a
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Aug 12 00:26:47 2007 +0200

    Remove the RHDRegRead/Write/Mask dependence on rhdPtr.
    
    RHDRegRead/Write/Mask now take scrnIndex as their first argument. This
    ensures that, when structuring modesetting, we don't need to cast back
    to rhdPtr all the time to be able to touch registers.

commit 4c88c8995f0cba61ddae71dfff8ad4c771be6632
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sun Aug 12 00:10:02 2007 +0200

    Add rhdPtr->scrnIndex, __func__, RHDDebug and RHDFUNC.
    
    * Add rhdPtr->scrnIndex and move all modesetting functions to take rhdPtr
      as a first argument.
    * Add a workaround for __func__ on systems that don't provide this
    * Create RHDDebug function for debug messages (-logverbose 7).
    * Create RHDFUNC macro to print function names to the log when debugging.
      This might once again seem superfluous, but it is easier to tell a user
      to provide a log of -logverbose 7 than to have them run gdb.
    * Improve messaging to use __func__, RHDDebug and RHDFUNC.

commit 1fa29a1c638f99ee245d62454222aa33d551694e
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Aug 10 18:26:09 2007 +0200

    Fix R600 memory sizing and internal FB base.

commit 9e8121dd1b5bef2141dfa022021e80a042015771
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Aug 10 11:54:39 2007 +0200

    RS600 is r4xx style modesetting so this doesn't need to be handled here.

commit 6118f4c6a373869bab26fd1d1aaa775d42596f5d
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Aug 9 14:26:01 2007 +0200

    Fix 32bpp.
    
    Apparently this wasn't tested at all. Code written on friday apparently isn't
    to be trusted.

commit f11df314eaf45de9b1beaf1ee2c8866f6c45fd55
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Aug 8 19:05:44 2007 +0200

    Add one or two pci ids...
    
    We had a delivery of AMD hardware, so we had a bit of a plugfest. This means
    that we now have a grand total of 15 unique devices at our disposal.
    
    Then boiko@mandriva dug up a pci id listing from ATI, which kind of bumped
    the number of possible R5xx/R6xx devices up to a cosy 99.
    
    We need to order more hardware.
    
    So:
    * Add to RHD_CHIPSETS, RHDChipsets, and RHDPCIchipsets.
    * Create a function to mark the "few" cards we can't test as experimental,
      which means that the driver will complain and bail.
    * Add Option "EXPERIMENTAL", to stop the driver from bailing.
    * Add PCI card/subsystem id checking; only prints the card name now.
    * Remove rhd_macro.h as RHDPTR() should live near the definition of RHDPtr.
    * Move a few other defines, like RHD_NAME, to rhd.h.

commit 0ea6130aec6e88ea7c48e638b0d1e46484ff718d
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Aug 7 20:56:08 2007 +0200

    Add support for multiple bitdepths.
    
    This means that 16bit colour is possible now, 8bit still needs to be figured
    out as palette access still needs to be implemented.

commit 71a295f52b270d798308715ce43446d9d3dbbdf1
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Aug 2 20:58:45 2007 +0200

    Get videoRam size from MMIO 0x00F8.
    
    This is where Atom stores the size. This size is checked against the size of
    the PCI BAR aperture (which is limited to 512MB), and the smallest of the
    two is chosen.
    Also removes the superfluous BAR selection crap, uses 2 defines instead. Will
    reintroduce logic when it is actually needed.

commit 7597a3b52c740058f7419e5418a5c41537413e19
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Aug 2 14:00:52 2007 +0200

    Expand modesetting to do two DAC single fb dualhead.
    
    Now D1 (D1GRPH, D1CRTC and D1PLL) points to DACA and D2 (D2GRPH, D2CRTC and
    D2PLL) points to DACB. And all seems to work. It's not exactly refined or
    overly useful, but we have a working starting point.

commit aed371086bb5e434e11a054f85bda4513bd4c65c
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Aug 1 21:40:39 2007 +0200

    Reverse order of memory address when logging Fb difference.
    
    Also rename guessed register so that we will not forget to change this
    to the ATI documented name.

commit 0c9c125528eb461364bf353e667b6f316245c46e
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Aug 1 21:19:28 2007 +0200

    Use internal FB address instead of PCI BAR address.
    
    These might differ, and all the FB Addressen in our IO are referenced
    comparably to some still undocumented register which we now will call
    FB_INTERNAL_ADDRESS.

commit a7053ee84d576b84ce1971b5e2b8f162d2c88681
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Aug 1 20:33:26 2007 +0200

    mmap size calculation correction.

commit 2f31af106c43c9605d08dde5d08cf504417b0d76
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Aug 1 19:45:55 2007 +0200

    Added R580. Reordered symbols in id order.

commit e01c44147e61b6cbaa87318bd20d54a5058919d7
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Aug 1 19:36:40 2007 +0200

    Add support for the primary DAC (DACA)
    
    Extend the support for DACB to force it to go on as well.

commit 733b80dd1c62e306542946f8285659d51a422294
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Jul 31 21:53:31 2007 +0200

    Restore 1280x1024 as the possible mode.
    
    This mode is the current denominator, we will soon have some mode validation
    going now.

commit 7d64c2c19db180893c73175259fe1d8253a26692
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Jul 31 21:44:31 2007 +0200

    First actual modes working.
    
    * Dotclock generator and PLL setting
    * CRTC1 now has proper blanking and sync setting and ties the correct
      PLL to the correct CRTC
    * VT restore follows suit.
    * Fix an issue with xf86_libc.h defining ulong to unsigned long,
      and egberts option handling.

commit 6facb65e8922e137cf28b549f4795c6e47baf8a2
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 30 17:45:19 2007 +0200

    Single entry point to ATOM BIOS subsystem.
    
    The entry point to the ATOM BIOS subsystem is now
    a single function:
    AtomBiosResult RhdAtomBIOSFunc(ScrnInfoPtr pScrn, pointer handle, AtomBiosFunc func,
    		    AtomBIOSArgPtr data);
    Apart from pScrn the arguments are:
     'handle' (a struct with persistent internal data),
    typedef enum {
        ATOMBIOS_INIT,
        ATOMBIOS_UNINIT,
        ...
        FUNC_END
    } AtomBiosFunc;
    which describes the action to perform.
    Before any other action can be performed ATOMBIOS_INIT needs
    to be called. It will create and return the 'handle' which
    needs to be passed for any subsequent operations.
    
    it can return the states:
    typedef enum {
        SUCCESS,
        FAILED,
        NOT_IMPLEMENTED
    } AtomBiosResult;
    
    The 4th argument is a pointer to a union
    that can be used to pass arguments to and
    results from the function.
    The most common data types are already in the union,
    more elaborate structures can be passed back and
    forth by using the ptr member.
    
    AtomBiosArg

commit fd3d83aa50dc60f4ff0d8ef415bffda2e95f3bee
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 30 17:14:42 2007 +0200

    Added framework to query data from ATOM BIOS tables.

commit a08e64b798e9e471be9df239655abe0232c7e23f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 30 12:44:35 2007 +0200

    Moving function delcarations from rhd_regs.h to rhd.h.
    
    In the future we may generate register lists on rhd_regs.h
    automatically. Thus this file should contain as little as
    pssible that doesn't relate to registers.

commit 1541f4201175ac8e74b825df4e338e6960a61a62
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 30 12:37:22 2007 +0200

    Converting defines of register addresses to enum.

commit 7f605e721fcdecfe4052955db5a25f37b48157d0
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 30 11:19:38 2007 +0200

    Fixed bailout structure: uninit bios data and unmap mmio when needed.
    
    The failure case was still not handled correctly:
    MMIO should get unmapped and the BIOS handler private data
    structures should be freed on failure. (If the latter ones
    will be needed in ScreenInit() in the future we can keep
    them around and point to them from the driver private data
    structure.

commit f3dc9a9b9ff5a3186bfb31554a5534769c724de3
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 30 10:07:25 2007 +0200

    Added initial support for ATOM Bios.
    
    Load ATOM Bios, verify its data and obtain the data tables
    for futher use.
    NOTE: atombios.h has not yet been included as its license
    status is still undetermined.

commit 6adf65970f5f9c8e2116c9868ab215f132545705
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 30 07:31:46 2007 +0200

    Add RV515 pciid.

commit 798d88598fda347033f4572e6e8d7a414dbaab34
Author: Egbert Eich <eich@freedesktop.org>
Date:   Mon Jul 30 07:29:03 2007 +0200

    Track option set status.
    
    Presently there is no consistent way of tracking if an option
    was set by the user or has been set to the default value.
    This information may be needed later to make more educated
    decisions on how to proceed.
    Many drivers work around this problem in different ways - often
    by introducing a second driver private variable to track the
    option status.
    We add a set of functions and a new structure to handle this
    in a more consistent way.
    These functions should eventually be moved to DDX.
    For now we leave them in the driver.

commit 53c6fe2083a6ce4ccdb5dad97becfc731160090e
Author: Egbert Eich <eich@wlan-hermes.suse.de>
Date:   Mon Jul 30 06:54:54 2007 +0200

        Making some local functions static.

commit b5e908c96a1f9d92d7c8780cbbf3795b609cb19e
Author: Egbert Eich <eich@wlan-hermes.suse.de>
Date:   Mon Jul 30 06:54:33 2007 +0200

        Break out option handling.
    
        Breaking out parts from ReInit() makes this function more readable -
        especially when new elements are added.

commit bab19d9a950eefb7384545cd8a9efc8700b6a79f
Author: Egbert Eich <eich@wlan-hermes.suse.de>
Date:   Mon Jul 30 06:53:51 2007 +0200

        Use the default method to specify VRAM size.
    
        The DDX already provides a device section option to specify
        the size of VRAM. The GDevRec is linked into the entity info.
        Therefore we pick up this value before we free this structure.
    
        In the future we may have to keep the entity info around for
        longer. But we will also have a way to reliably probe VRAM size
        in which case we may not want to pick up a user specified setting
        at all.
        The exact policy can however determined later.

commit d619529a9ccbf4b827b621298a96918af8e46d2b
Author: Egbert Eich <eich@wlan-hermes.suse.de>
Date:   Mon Jul 30 06:53:09 2007 +0200

        We only have one hardware entity for now.
    
        Don't bother looping over entity list.

commit 4e954b3445cd4b053993fb9bd7f63c0ecdc31904
Author: Egbert Eich <eich@wlan-hermes.suse.de>
Date:   Sat Jul 28 10:21:29 2007 +0200

    Make function names match English grammar.

commit d8d5c0e467a67256b479dfa34a3cab30c5ec2e88
Author: Egbert Eich <eich@wlan-hermes.suse.de>
Date:   Fri Jul 27 22:51:29 2007 +0200

    Use fixed size type for register read.
    
    For hardware access fixed size types should be used
    which are typedefed appropriately on the target system.

commit 3c9b0eff5f8df3dc85adf67ec3177ae073c89df7
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Jul 26 12:14:17 2007 +0200

    Do the first very rudimentary modeset.
    
    This is very much dependant on the mode already set by the bios,
    but adjusts this to something useful already.

commit a90498a2205acba33399dc02ba9b9f527c1b6d99
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Jul 25 16:54:18 2007 +0200

    Disable VGA Mode and restore it.
    
    This means that we now get a stiple background when starting X, and that
    we properly restore VGA textmode when exiting X. Also adds some basic
    functions to alter MMIO registers.

commit d58eff1bf58eadc3afbd44049f407525274843b1
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Jul 25 14:32:27 2007 +0200

    Fix trivial BAR sizing bug.
    
    PciInfo->size[] here denotes the number of bits used, not the real size.
    The size of the MMIO BAR is _not_ 0x10, but 2 << 0x10, for instance. So i
    improved mapping verbosity and spotted this.

commit a6f07a373f53568a7ec1badb83147194b7cb541b
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Jul 25 12:13:58 2007 +0200

    For initial testing purposes, tell X that we support 1280x1024.
    
    No validation or anything, but then, all the test monitors here are
    capable of 1280x1024@60.

commit d8932dd248ae9d36edf192e954a035268c3792dd
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Jul 25 11:47:10 2007 +0200

    Add RV530 pciid.
    
    Also move some things to before Option collection again. xf86CollectOptions
    cluelessly depends on some things being fully initialised already. This is
    broken but was encountered before on xf86-video-unichrome, so the nasty
    workaround was put back rather quickly.

commit b89549dd0698b8ca2798a3ecdd3875f3c61d8920
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Jul 25 11:13:21 2007 +0200

    Add videoRam option.
    
    Need to spend a few hours getting this info out of the memory controller.
    So postpone for a bit, but make it the first job after getting a working
    mode.

commit ccb3d6c413e064eba7220040125493087843a51e
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Jul 24 22:37:21 2007 +0200

    Fix segfault in option handling.

commit d28199cb9d37d72cb3b9abd7b94c4b182579a519
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Jul 24 22:33:05 2007 +0200

    Clean up IO and FB mapping.

commit ba0259a9931eca3ddcccb72248fd1615aaa3e56f
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Jul 24 22:06:05 2007 +0200

    Move option handling.
    
    There is no HW cursor yet, so don't bother.

commit 1a4d1de1cde80087b3aab45ab402c81b99539400
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Jul 24 21:34:18 2007 +0200

    Remove BAILOUT macro.
    
    There was one place where it was not used correctly, and the entity pointer
    is not needed anymore after PCI resources have been claimed. In future, other
    things will have to be handled when bailing out of PreInit later on, things
    which need more code than a macro should have. If the extra work involved is
    that much of a burden, then this is about the only case where a goto is
    accepted, especially by the otherwise very picky kernel community.

commit 904464ea80b2aac1f7e20f44d457c2b69d7c97bb
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Jul 24 20:40:23 2007 +0200

    Add autogen.sh and .gitignore

commit 3e49bccf8036c680d96ae5410b4859e5403cc899
Author: Egbert Eich <eich@wlan-hermes.suse.de>
Date:   Tue Jul 24 12:00:53 2007 +0200

    Minor formatting changes.

commit 8c494c0fa0f9622305c0609b1279b9e0163c0baf
Author: Egbert Eich <eich@wlan-hermes.suse.de>
Date:   Mon Jul 23 06:49:04 2007 +0200

    Skeleton for a driver for the ATI RADEON HD series Chipsets
    
    This skeleton driver still lacks support for
    - acceleration
    - RandR 1.2
    - multiple screens
    It still needs to undergo some restructuring as we go along.

commit cc85648d655152f93f89e8df898ab4a2e065b43e
Author: Egbert Eich <eich@wlan-hermes.suse.de>
Date:   Tue Jul 17 13:03:22 2007 +0200

    Adding a README for the RadeonHD driver
